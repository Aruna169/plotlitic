(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var Pd={exports:{}},mo={};var Y_;function nT(){if(Y_)return mo;Y_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var f in r)f!=="key"&&(o[f]=r[f])}else o=r;return r=o.ref,{$$typeof:i,type:s,key:u,ref:r!==void 0?r:null,props:o}}return mo.Fragment=t,mo.jsx=e,mo.jsxs=e,mo}var G_;function iT(){return G_||(G_=1,Pd.exports=nT()),Pd.exports}var I=iT(),Hd={exports:{}},Tt={};var X_;function sT(){if(X_)return Tt;X_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,N={};function Y(L,K,ct){this.props=L,this.context=K,this.refs=N,this.updater=ct||D}Y.prototype.isReactComponent={},Y.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},Y.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function $(){}$.prototype=Y.prototype;function W(L,K,ct){this.props=L,this.context=K,this.refs=N,this.updater=ct||D}var nt=W.prototype=new $;nt.constructor=W,V(nt,Y.prototype),nt.isPureReactComponent=!0;var rt=Array.isArray;function st(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(L,K,ct){var ht=ct.ref;return{$$typeof:i,type:L,key:K,ref:ht!==void 0?ht:null,props:ct}}function k(L,K){return R(L.type,K,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function j(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return K[ct]})}var M=/\/+/g;function St(L,K){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):K.toString(36)}function at(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(st,st):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function U(L,K,ct,ht,_t){var bt=typeof L;(bt==="undefined"||bt==="boolean")&&(L=null);var kt=!1;if(L===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(L.$$typeof){case i:case t:kt=!0;break;case y:return kt=L._init,U(kt(L._payload),K,ct,ht,_t)}}if(kt)return _t=_t(L),kt=ht===""?"."+St(L,0):ht,rt(_t)?(ct="",kt!=null&&(ct=kt.replace(M,"$&/")+"/"),U(_t,K,ct,"",function(na){return na})):_t!=null&&(O(_t)&&(_t=k(_t,ct+(_t.key==null||L&&L.key===_t.key?"":(""+_t.key).replace(M,"$&/")+"/")+kt)),K.push(_t)),1;kt=0;var Me=ht===""?".":ht+":";if(rt(L))for(var ae=0;ae<L.length;ae++)ht=L[ae],bt=Me+St(ht,ae),kt+=U(ht,K,ct,bt,_t);else if(ae=w(L),typeof ae=="function")for(L=ae.call(L),ae=0;!(ht=L.next()).done;)ht=ht.value,bt=Me+St(ht,ae++),kt+=U(ht,K,ct,bt,_t);else if(bt==="object"){if(typeof L.then=="function")return U(at(L),K,ct,ht,_t);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function tt(L,K,ct){if(L==null)return L;var ht=[],_t=0;return U(L,ht,"","",function(bt){return K.call(ct,bt,_t++)}),ht}function ut(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var dt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Et={map:tt,forEach:function(L,K,ct){tt(L,function(){K.apply(this,arguments)},ct)},count:function(L){var K=0;return tt(L,function(){K++}),K},toArray:function(L){return tt(L,function(K){return K})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Tt.Activity=b,Tt.Children=Et,Tt.Component=Y,Tt.Fragment=e,Tt.Profiler=r,Tt.PureComponent=W,Tt.StrictMode=s,Tt.Suspense=m,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Tt.cache=function(L){return function(){return L.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(L,K,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=V({},L.props),_t=L.key;if(K!=null)for(bt in K.key!==void 0&&(_t=""+K.key),K)!A.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(ht[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)ht.children=ct;else if(1<bt){for(var kt=Array(bt),Me=0;Me<bt;Me++)kt[Me]=arguments[Me+2];ht.children=kt}return R(L.type,_t,ht)},Tt.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Tt.createElement=function(L,K,ct){var ht,_t={},bt=null;if(K!=null)for(ht in K.key!==void 0&&(bt=""+K.key),K)A.call(K,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(_t[ht]=K[ht]);var kt=arguments.length-2;if(kt===1)_t.children=ct;else if(1<kt){for(var Me=Array(kt),ae=0;ae<kt;ae++)Me[ae]=arguments[ae+2];_t.children=Me}if(L&&L.defaultProps)for(ht in kt=L.defaultProps,kt)_t[ht]===void 0&&(_t[ht]=kt[ht]);return R(L,bt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(L){return{$$typeof:f,render:L}},Tt.isValidElement=O,Tt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ut}},Tt.memo=function(L,K){return{$$typeof:g,type:L,compare:K===void 0?null:K}},Tt.startTransition=function(L){var K=C.T,ct={};C.T=ct;try{var ht=L(),_t=C.S;_t!==null&&_t(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(st,dt)}catch(bt){dt(bt)}finally{K!==null&&ct.types!==null&&(K.types=ct.types),C.T=K}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(L){return C.H.use(L)},Tt.useActionState=function(L,K,ct){return C.H.useActionState(L,K,ct)},Tt.useCallback=function(L,K){return C.H.useCallback(L,K)},Tt.useContext=function(L){return C.H.useContext(L)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(L,K){return C.H.useDeferredValue(L,K)},Tt.useEffect=function(L,K){return C.H.useEffect(L,K)},Tt.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(L,K,ct){return C.H.useImperativeHandle(L,K,ct)},Tt.useInsertionEffect=function(L,K){return C.H.useInsertionEffect(L,K)},Tt.useLayoutEffect=function(L,K){return C.H.useLayoutEffect(L,K)},Tt.useMemo=function(L,K){return C.H.useMemo(L,K)},Tt.useOptimistic=function(L,K){return C.H.useOptimistic(L,K)},Tt.useReducer=function(L,K,ct){return C.H.useReducer(L,K,ct)},Tt.useRef=function(L){return C.H.useRef(L)},Tt.useState=function(L){return C.H.useState(L)},Tt.useSyncExternalStore=function(L,K,ct){return C.H.useSyncExternalStore(L,K,ct)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.0",Tt}var Q_;function km(){return Q_||(Q_=1,Hd.exports=sT()),Hd.exports}var xt=km(),Fd={exports:{}},go={},qd={exports:{}},Yd={};var K_;function aT(){return K_||(K_=1,(function(i){function t(U,tt){var ut=U.length;U.push(tt);t:for(;0<ut;){var dt=ut-1>>>1,Et=U[dt];if(0<r(Et,tt))U[dt]=tt,U[ut]=Et,ut=dt;else break t}}function e(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var tt=U[0],ut=U.pop();if(ut!==tt){U[0]=ut;t:for(var dt=0,Et=U.length,L=Et>>>1;dt<L;){var K=2*(dt+1)-1,ct=U[K],ht=K+1,_t=U[ht];if(0>r(ct,ut))ht<Et&&0>r(_t,ct)?(U[dt]=_t,U[ht]=ut,dt=ht):(U[dt]=ct,U[K]=ut,dt=K);else if(ht<Et&&0>r(_t,ut))U[dt]=_t,U[ht]=ut,dt=ht;else break t}}return tt}function r(U,tt){var ut=U.sortIndex-tt.sortIndex;return ut!==0?ut:U.id-tt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();i.unstable_now=function(){return u.now()-f}}var m=[],g=[],y=1,b=null,E=3,w=!1,D=!1,V=!1,N=!1,Y=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function nt(U){for(var tt=e(g);tt!==null;){if(tt.callback===null)s(g);else if(tt.startTime<=U)s(g),tt.sortIndex=tt.expirationTime,t(m,tt);else break;tt=e(g)}}function rt(U){if(V=!1,nt(U),!D)if(e(m)!==null)D=!0,st||(st=!0,j());else{var tt=e(g);tt!==null&&at(rt,tt.startTime-U)}}var st=!1,C=-1,A=5,R=-1;function k(){return N?!0:!(i.unstable_now()-R<A)}function O(){if(N=!1,st){var U=i.unstable_now();R=U;var tt=!0;try{t:{D=!1,V&&(V=!1,$(C),C=-1),w=!0;var ut=E;try{e:{for(nt(U),b=e(m);b!==null&&!(b.expirationTime>U&&k());){var dt=b.callback;if(typeof dt=="function"){b.callback=null,E=b.priorityLevel;var Et=dt(b.expirationTime<=U);if(U=i.unstable_now(),typeof Et=="function"){b.callback=Et,nt(U),tt=!0;break e}b===e(m)&&s(m),nt(U)}else s(m);b=e(m)}if(b!==null)tt=!0;else{var L=e(g);L!==null&&at(rt,L.startTime-U),tt=!1}}break t}finally{b=null,E=ut,w=!1}tt=void 0}}finally{tt?j():st=!1}}}var j;if(typeof W=="function")j=function(){W(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,St=M.port2;M.port1.onmessage=O,j=function(){St.postMessage(null)}}else j=function(){Y(O,0)};function at(U,tt){C=Y(function(){U(i.unstable_now())},tt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(U){switch(E){case 1:case 2:case 3:var tt=3;break;default:tt=E}var ut=E;E=tt;try{return U()}finally{E=ut}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(U,tt){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ut=E;E=U;try{return tt()}finally{E=ut}},i.unstable_scheduleCallback=function(U,tt,ut){var dt=i.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?dt+ut:dt):ut=dt,U){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=ut+Et,U={id:y++,callback:tt,priorityLevel:U,startTime:ut,expirationTime:Et,sortIndex:-1},ut>dt?(U.sortIndex=ut,t(g,U),e(m)===null&&U===e(g)&&(V?($(C),C=-1):V=!0,at(rt,ut-dt))):(U.sortIndex=Et,t(m,U),D||w||(D=!0,st||(st=!0,j()))),U},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(U){var tt=E;return function(){var ut=E;E=tt;try{return U.apply(this,arguments)}finally{E=ut}}}})(Yd)),Yd}var Z_;function rT(){return Z_||(Z_=1,qd.exports=aT()),qd.exports}var Gd={exports:{}},Ze={};var W_;function lT(){if(W_)return Ze;W_=1;var i=km();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(m,g,null,y)},Ze.flushSync=function(m){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=y,s.d.f()}},Ze.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Ze.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Ze.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=f(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:w}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Ze.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=f(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Ze.requestFormReset=function(m){s.d.r(m)},Ze.unstable_batchedUpdates=function(m,g){return m(g)},Ze.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},Ze.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var $_;function oT(){if($_)return Gd.exports;$_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Gd.exports=lT(),Gd.exports}var J_;function cT(){if(J_)return go;J_=1;var i=rT(),t=km(),e=oT();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function u(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function m(n){if(o(n)!==n)throw Error(s(188))}function g(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(s(188));return a!==n?null:n}for(var l=n,c=a;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return m(d),n;if(p===c)return m(d),a;p=p.sibling}throw Error(s(188))}if(l.return!==c.return)l=d,c=p;else{for(var v=!1,T=d.child;T;){if(T===l){v=!0,l=d,c=p;break}if(T===c){v=!0,c=d,l=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===l){v=!0,l=p,c=d;break}if(T===c){v=!0,c=p,l=d;break}T=T.sibling}if(!v)throw Error(s(189))}}if(l.alternate!==c)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:a}function y(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=y(n),a!==null)return a;n=n.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),W=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function St(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case Y:return"Profiler";case N:return"StrictMode";case rt:return"Suspense";case st:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case W:return n.displayName||"Context";case $:return(n._context.displayName||"Context")+".Consumer";case nt:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return a=n.displayName||null,a!==null?a:St(n.type)||"Memo";case A:a=n._payload,n=n._init;try{return St(n(a))}catch{}}return null}var at=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},dt=[],Et=-1;function L(n){return{current:n}}function K(n){0>Et||(n.current=dt[Et],dt[Et]=null,Et--)}function ct(n,a){Et++,dt[Et]=n.current,n.current=a}var ht=L(null),_t=L(null),bt=L(null),kt=L(null);function Me(n,a){switch(ct(bt,a),ct(_t,n),ct(ht,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?m_(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=m_(a),n=g_(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(ht),ct(ht,n)}function ae(){K(ht),K(_t),K(bt)}function na(n){n.memoizedState!==null&&ct(kt,n);var a=ht.current,l=g_(a,n.type);a!==l&&(ct(_t,n),ct(ht,l))}function tr(n){_t.current===n&&(K(ht),K(_t)),kt.current===n&&(K(kt),co._currentValue=ut)}var er,nr;function ci(n){if(er===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);er=a&&a[1]||"",nr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+er+n+nr}var cl=!1;function ia(n,a){if(!n||cl)return"";cl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var G=Q}Reflect.construct(n,[],et)}else{try{et.call()}catch(Q){G=Q}n.call(et.prototype)}}else{try{throw Error()}catch(Q){G=Q}(et=n())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),v=p[0],T=p[1];if(v&&T){var z=v.split(`
`),q=T.split(`
`);for(d=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(c===z.length||d===q.length)for(c=z.length-1,d=q.length-1;1<=c&&0<=d&&z[c]!==q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(z[c]!==q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||z[c]!==q[d]){var Z=`
`+z[c].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=c&&0<=d);break}}}finally{cl=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ci(l):""}function ul(n,a){switch(n.tag){case 26:case 27:case 5:return ci(n.type);case 16:return ci("Lazy");case 13:return n.child!==a&&a!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return ia(n.type,!1);case 11:return ia(n.type.render,!1);case 1:return ia(n.type,!0);case 31:return ci("Activity");default:return""}}function hl(n){try{var a="",l=null;do a+=ul(n,l),l=n,n=n.return;while(n);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ve=Object.prototype.hasOwnProperty,Oe=i.unstable_scheduleCallback,hs=i.unstable_cancelCallback,Hh=i.unstable_shouldYield,ac=i.unstable_requestPaint,sn=i.unstable_now,sa=i.unstable_getCurrentPriorityLevel,fl=i.unstable_ImmediatePriority,dl=i.unstable_UserBlockingPriority,fs=i.unstable_NormalPriority,Fh=i.unstable_LowPriority,rc=i.unstable_IdlePriority,lc=i.log,oc=i.unstable_setDisableYieldValue,Gn=null,Ue=null;function Rn(n){if(typeof lc=="function"&&oc(n),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Gn,n)}catch{}}var me=Math.clz32?Math.clz32:uc,cc=Math.log,ir=Math.LN2;function uc(n){return n>>>=0,n===0?32:31-(cc(n)/ir|0)|0}var ui=256,aa=262144,be=4194304;function hi(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fi(n,a,l){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=c&134217727;return T!==0?(c=T&~p,c!==0?d=hi(c):(v&=T,v!==0?d=hi(v):l||(l=T&~n,l!==0&&(d=hi(l))))):(T=c&~p,T!==0?d=hi(T):v!==0?d=hi(v):l||(l=c&~n,l!==0&&(d=hi(l)))),d===0?0:a!==0&&a!==d&&(a&p)===0&&(p=d&-d,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:d}function Xn(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function qh(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var n=be;return be<<=1,(be&62914560)===0&&(be=4194304),n}function di(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function ra(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yh(n,a,l,c,d,p){var v=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var T=n.entanglements,z=n.expirationTimes,q=n.hiddenUpdates;for(l=v&~l;0<l;){var Z=31-me(l),et=1<<Z;T[Z]=0,z[Z]=-1;var G=q[Z];if(G!==null)for(q[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}l&=~et}c!==0&&la(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(v&~a))}function la(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-me(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|l&261930}function ml(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var c=31-me(l),d=1<<c;d&a|n[c]&a&&(n[c]|=a),l&=~d}}function gl(n,a){var l=a&-a;return l=(l&42)!==0?1:oa(l),(l&(n.suspendedLanes|a))!==0?0:l}function oa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ji(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function fc(){var n=tt.p;return n!==0?n:(n=window.event,n===void 0?32:j_(n.type))}function Qn(n,a){var l=tt.p;try{return tt.p=n,a()}finally{tt.p=l}}var Kn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Kn,Ve="__reactProps$"+Kn,mi="__reactContainer$"+Kn,sr="__reactEvents$"+Kn,Gh="__reactListeners$"+Kn,dc="__reactHandles$"+Kn,mc="__reactResources$"+Kn,gi="__reactMarker$"+Kn;function ar(n){delete n[xe],delete n[Ve],delete n[sr],delete n[Gh],delete n[dc]}function pi(n){var a=n[xe];if(a)return a;for(var l=n.parentNode;l;){if(a=l[mi]||l[xe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=E_(n);n!==null;){if(l=n[xe])return l;n=E_(n)}return a}n=l,l=n.parentNode}return null}function Dn(n){if(n=n[xe]||n[mi]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function vn(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function yi(n){var a=n[mc];return a||(a=n[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ee(n){n[gi]=!0}var pl=new Set,yl={};function _i(n,a){vi(n,a),vi(n+"Capture",a)}function vi(n,a){for(yl[n]=a,n=0;n<a.length;n++)pl.add(a[n])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},bl={};function gc(n){return ve.call(bl,n)?!0:ve.call(vl,n)?!1:_l.test(n)?bl[n]=!0:(vl[n]=!0,!1)}function rr(n,a,l){if(gc(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function bn(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function Te(n,a,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+c)}}function Ie(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ds(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xl(n,a,l){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(n,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Yt(n){if(!n._valueTracker){var a=ds(n)?"checked":"value";n._valueTracker=xl(n,a,""+n[a])}}function ca(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return n&&(c=ds(n)?n.checked?"true":"false":n.value),n=c,n!==l?(a.setValue(n),!0):!1}function bi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ua=/[\n"\\]/g;function ln(n){return n.replace(ua,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function lr(n,a,l,c,d,p,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),a!=null?v==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Ie(a)):n.value!==""+Ie(a)&&(n.value=""+Ie(a)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),a!=null?El(n,v,Ie(a)):l!=null?El(n,v,Ie(l)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Ie(T):n.removeAttribute("name")}function pc(n,a,l,c,d,p,v,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Yt(n);return}l=l!=null?""+Ie(l):"",a=a!=null?""+Ie(a):l,T||a===n.value||(n.value=a),n.defaultValue=a}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=T?n.checked:!!c,n.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Yt(n)}function El(n,a,l){a==="number"&&bi(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ms(n,a,l,c){if(n=n.options,a){a={};for(var d=0;d<l.length;d++)a["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=a.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Ie(l),a=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}a!==null||n[d].disabled||(a=n[d])}a!==null&&(a.selected=!0)}}function yc(n,a,l){if(a!=null&&(a=""+Ie(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+Ie(l):""}function gs(n,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(s(92));if(at(c)){if(1<c.length)throw Error(s(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Ie(a),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c),Yt(n)}function on(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(n,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,l):typeof l!="number"||l===0||_c.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function Sl(n,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in a)c=a[d],a.hasOwnProperty(d)&&l[d]!==c&&Tl(n,d,c)}else for(var p in a)a.hasOwnProperty(p)&&Tl(n,p,a[p])}function or(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(n){return ps.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Zn(){}var Al=null;function Mn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ys=null,xi=null;function ha(n){var a=Dn(n);if(a&&(n=a.stateNode)){var l=n[Ve]||null;t:switch(n=a.stateNode,a.type){case"input":if(lr(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ln(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==n&&c.form===n.form){var d=c[Ve]||null;if(!d)throw Error(s(90));lr(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===n.form&&ca(c)}break t;case"textarea":yc(n,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&ms(n,!!l.multiple,a,!1)}}}var ur=!1;function _s(n,a,l){if(ur)return n(a,l);ur=!0;try{var c=n(a);return c}finally{if(ur=!1,(ys!==null||xi!==null)&&(fu(),ys&&(a=ys,n=xi,xi=ys=null,ha(a),n)))for(a=0;a<n.length;a++)ha(n[a])}}function Wn(n,a){var l=n.stateNode;if(l===null)return null;var c=l[Ve]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(On)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){fa=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{fa=!1}var Ei=null,wl=null,da=null;function Cl(){if(da)return da;var n,a=wl,l=a.length,c,d="value"in Ei?Ei.value:Ei.textContent,p=d.length;for(n=0;n<l&&a[n]===d[n];n++);var v=l-n;for(c=1;c<=v&&a[l-c]===d[p-c];c++);return da=d.slice(n,1<c?1-c:void 0)}function ma(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Bi(){return!0}function $n(){return!1}function Pe(n){function a(l,c,d,p,v){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(l=n[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bi:$n,this.isPropagationStopped=$n,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),a}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Pe(Ui),vs=b({},Ui,{view:0,detail:0}),Rl=Pe(vs),bs,hr,Si,fr=b({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Si&&(Si&&n.type==="mousemove"?(bs=n.screenX-Si.screenX,hr=n.screenY-Si.screenY):hr=bs=0,Si=n),bs)},movementY:function(n){return"movementY"in n?n.movementY:hr}}),Dl=Pe(fr),ga=b({},fr,{dataTransfer:0}),bc=Pe(ga),xc=b({},vs,{relatedTarget:0}),pa=Pe(xc),Ml=b({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=Pe(Ml),dr=b({},Ui,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Tc=Pe(dr),Sc=b({},Ui,{data:0}),Ai=Pe(Sc),Ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Cc[n])?!!a[n]:!1}function xs(){return Rc}var an=b({},vs,{key:function(n){if(n.key){var a=Ac[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(n){return n.type==="keypress"?ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Dc=Pe(an),Mc=b({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Pe(Mc),h=b({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),_=Pe(h),x=b({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Pe(x),H=b({},fr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Pe(H),ot=b({},Ui,{newState:0,oldState:0}),At=Pe(ot),ge=[9,13,27,32],Pt=On&&"CompositionEvent"in window,re=null;On&&"documentMode"in document&&(re=document.documentMode);var Nn=On&&"TextEvent"in window&&!re,wi=On&&(!Pt||re&&8<re&&11>=re),Jn=" ",ti=!1;function ya(n,a){switch(n){case"keyup":return ge.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mr(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gr=!1;function wx(n,a){switch(n){case"compositionend":return mr(a);case"keypress":return a.which!==32?null:(ti=!0,Jn);case"textInput":return n=a.data,n===Jn&&ti?null:n;default:return null}}function Cx(n,a){if(gr)return n==="compositionend"||!Pt&&ya(n,a)?(n=Cl(),da=wl=Ei=null,gr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wi&&a.locale!=="ko"?null:a.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Rx[n.type]:a==="textarea"}function wg(n,a,l,c){ys?xi?xi.push(c):xi=[c]:ys=c,a=vu(a,"onChange"),0<a.length&&(l=new Ti("onChange","change",null,l,c),n.push({event:l,listeners:a}))}var Ol=null,Nl=null;function Dx(n){o_(n,0)}function Oc(n){var a=vn(n);if(ca(a))return n}function Cg(n,a){if(n==="change")return a}var Rg=!1;if(On){var Xh;if(On){var Qh="oninput"in document;if(!Qh){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Qh=typeof Dg.oninput=="function"}Xh=Qh}else Xh=!1;Rg=Xh&&(!document.documentMode||9<document.documentMode)}function Mg(){Ol&&(Ol.detachEvent("onpropertychange",Og),Nl=Ol=null)}function Og(n){if(n.propertyName==="value"&&Oc(Nl)){var a=[];wg(a,Nl,n,Mn(n)),_s(Dx,a)}}function Mx(n,a,l){n==="focusin"?(Mg(),Ol=a,Nl=l,Ol.attachEvent("onpropertychange",Og)):n==="focusout"&&Mg()}function Ox(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Oc(Nl)}function Nx(n,a){if(n==="click")return Oc(a)}function Vx(n,a){if(n==="input"||n==="change")return Oc(a)}function Ix(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var xn=typeof Object.is=="function"?Object.is:Ix;function Vl(n,a){if(xn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!ve.call(a,d)||!xn(n[d],a[d]))return!1}return!0}function Ng(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vg(n,a){var l=Ng(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=a&&c>=a)return{node:l,offset:a-n};n=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Ng(l)}}function Ig(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Ig(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function kg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=bi(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=bi(n.document)}return a}function Kh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var kx=On&&"documentMode"in document&&11>=document.documentMode,pr=null,Zh=null,Il=null,Wh=!1;function zg(n,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wh||pr==null||pr!==bi(c)||(c=pr,"selectionStart"in c&&Kh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Il&&Vl(Il,c)||(Il=c,c=vu(Zh,"onSelect"),0<c.length&&(a=new Ti("onSelect","select",null,a,l),n.push({event:a,listeners:c}),a.target=pr)))}function _a(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var yr={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},$h={},Lg={};On&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function va(n){if($h[n])return $h[n];if(!yr[n])return n;var a=yr[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Lg)return $h[n]=a[l];return n}var jg=va("animationend"),Bg=va("animationiteration"),Ug=va("animationstart"),zx=va("transitionrun"),Lx=va("transitionstart"),jx=va("transitioncancel"),Pg=va("transitionend"),Hg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function ei(n,a){Hg.set(n,a),_i(a,[n])}var Nc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Vn=[],_r=0,tf=0;function Vc(){for(var n=_r,a=tf=_r=0;a<n;){var l=Vn[a];Vn[a++]=null;var c=Vn[a];Vn[a++]=null;var d=Vn[a];Vn[a++]=null;var p=Vn[a];if(Vn[a++]=null,c!==null&&d!==null){var v=c.pending;v===null?d.next=d:(d.next=v.next,v.next=d),c.pending=d}p!==0&&Fg(l,d,p)}}function Ic(n,a,l,c){Vn[_r++]=n,Vn[_r++]=a,Vn[_r++]=l,Vn[_r++]=c,tf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function ef(n,a,l,c){return Ic(n,a,l,c),kc(n)}function ba(n,a){return Ic(n,null,null,a),kc(n)}function Fg(n,a,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var d=!1,p=n.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&a!==null&&(d=31-me(l),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[a]:c.push(a),a.lane=l|536870912),p):null}function kc(n){if(50<no)throw no=0,hd=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var vr={};function Bx(n,a,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,a,l,c){return new Bx(n,a,l,c)}function nf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hi(n,a){var l=n.alternate;return l===null?(l=En(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function qg(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function zc(n,a,l,c,d,p){var v=0;if(c=n,typeof n=="function")nf(n)&&(v=1);else if(typeof n=="string")v=qE(n,l,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=En(31,l,a,d),n.elementType=R,n.lanes=p,n;case V:return xa(l.children,d,p,a);case N:v=8,d|=24;break;case Y:return n=En(12,l,a,d|2),n.elementType=Y,n.lanes=p,n;case rt:return n=En(13,l,a,d),n.elementType=rt,n.lanes=p,n;case st:return n=En(19,l,a,d),n.elementType=st,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:v=10;break t;case $:v=9;break t;case nt:v=11;break t;case C:v=14;break t;case A:v=16,c=null;break t}v=29,l=Error(s(130,n===null?"null":typeof n,"")),c=null}return a=En(v,l,a,d),a.elementType=n,a.type=c,a.lanes=p,a}function xa(n,a,l,c){return n=En(7,n,c,a),n.lanes=l,n}function sf(n,a,l){return n=En(6,n,null,a),n.lanes=l,n}function Yg(n){var a=En(18,null,null,0);return a.stateNode=n,a}function af(n,a,l){return a=En(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Gg=new WeakMap;function In(n,a){if(typeof n=="object"&&n!==null){var l=Gg.get(n);return l!==void 0?l:(a={value:n,source:a,stack:hl(a)},Gg.set(n,a),a)}return{value:n,source:a,stack:hl(a)}}var br=[],xr=0,Lc=null,kl=0,kn=[],zn=0,Es=null,Ci=1,Ri="";function Fi(n,a){br[xr++]=kl,br[xr++]=Lc,Lc=n,kl=a}function Xg(n,a,l){kn[zn++]=Ci,kn[zn++]=Ri,kn[zn++]=Es,Es=n;var c=Ci;n=Ri;var d=32-me(c)-1;c&=~(1<<d),l+=1;var p=32-me(a)+d;if(30<p){var v=d-d%5;p=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Ci=1<<32-me(a)+d|l<<d|c,Ri=p+n}else Ci=1<<p|l<<d|c,Ri=n}function rf(n){n.return!==null&&(Fi(n,1),Xg(n,1,0))}function lf(n){for(;n===Lc;)Lc=br[--xr],br[xr]=null,kl=br[--xr],br[xr]=null;for(;n===Es;)Es=kn[--zn],kn[zn]=null,Ri=kn[--zn],kn[zn]=null,Ci=kn[--zn],kn[zn]=null}function Qg(n,a){kn[zn++]=Ci,kn[zn++]=Ri,kn[zn++]=Es,Ci=a.id,Ri=a.overflow,Es=n}var He=null,ne=null,It=!1,Ts=null,Ln=!1,of=Error(s(519));function Ss(n){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(In(a,n)),of}function Kg(n){var a=n.stateNode,l=n.type,c=n.memoizedProps;switch(a[xe]=n,a[Ve]=c,l){case"dialog":Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":case"embed":Ot("load",a);break;case"video":case"audio":for(l=0;l<so.length;l++)Ot(so[l],a);break;case"source":Ot("error",a);break;case"img":case"image":case"link":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"input":Ot("invalid",a),pc(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",a);break;case"textarea":Ot("invalid",a),gs(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||f_(a.textContent,l)?(c.popover!=null&&(Ot("beforetoggle",a),Ot("toggle",a)),c.onScroll!=null&&Ot("scroll",a),c.onScrollEnd!=null&&Ot("scrollend",a),c.onClick!=null&&(a.onclick=Zn),a=!0):a=!1,a||Ss(n,!0)}function Zg(n){for(He=n.return;He;)switch(He.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:He=He.return}}function Er(n){if(n!==He)return!1;if(!It)return Zg(n),It=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||wd(n.type,n.memoizedProps)),l=!l),l&&ne&&Ss(n),Zg(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ne=x_(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ne=x_(n)}else a===27?(a=ne,js(n.type)?(n=Od,Od=null,ne=n):ne=a):ne=He?Bn(n.stateNode.nextSibling):null;return!0}function Ea(){ne=He=null,It=!1}function cf(){var n=Ts;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Ts=null),n}function zl(n){Ts===null?Ts=[n]:Ts.push(n)}var uf=L(null),Ta=null,qi=null;function As(n,a,l){ct(uf,a._currentValue),a._currentValue=l}function Yi(n){n._currentValue=uf.current,K(uf)}function hf(n,a,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===l)break;n=n.return}}function ff(n,a,l,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var v=d.child;p=p.firstContext;t:for(;p!==null;){var T=p;p=d;for(var z=0;z<a.length;z++)if(T.context===a[z]){p.lanes|=l,T=p.alternate,T!==null&&(T.lanes|=l),hf(p.return,l,n),c||(v=null);break t}p=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=l,p=v.alternate,p!==null&&(p.lanes|=l),hf(v,l,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Tr(n,a,l,c){n=null;for(var d=a,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=d.type;xn(d.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(d===kt.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(co):n=[co])}d=d.return}n!==null&&ff(a,n,l,c),a.flags|=262144}function jc(n){for(n=n.firstContext;n!==null;){if(!xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Sa(n){Ta=n,qi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Fe(n){return Wg(Ta,n)}function Bc(n,a){return Ta===null&&Sa(n),Wg(n,a)}function Wg(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},qi===null){if(n===null)throw Error(s(308));qi=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else qi=qi.next=a;return l}var Ux=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},Px=i.unstable_scheduleCallback,Hx=i.unstable_NormalPriority,Se={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new Ux,data:new Map,refCount:0}}function Ll(n){n.refCount--,n.refCount===0&&Px(Hx,function(){n.controller.abort()})}var jl=null,mf=0,Sr=0,Ar=null;function Fx(n,a){if(jl===null){var l=jl=[];mf=0,Sr=yd(),Ar={status:"pending",value:void 0,then:function(c){l.push(c)}}}return mf++,a.then($g,$g),a}function $g(){if(--mf===0&&jl!==null){Ar!==null&&(Ar.status="fulfilled");var n=jl;jl=null,Sr=0,Ar=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function qx(n,a){var l=[],c={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var d=0;d<l.length;d++)(0,l[d])(a)},function(d){for(c.status="rejected",c.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),c}var Jg=U.S;U.S=function(n,a){zy=sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Fx(n,a),Jg!==null&&Jg(n,a)};var Aa=L(null);function gf(){var n=Aa.current;return n!==null?n:Jt.pooledCache}function Uc(n,a){a===null?ct(Aa,Aa.current):ct(Aa,a.pool)}function tp(){var n=gf();return n===null?null:{parent:Se._currentValue,pool:n}}var wr=Error(s(460)),pf=Error(s(474)),Pc=Error(s(542)),Hc={then:function(){}};function ep(n){return n=n.status,n==="fulfilled"||n==="rejected"}function np(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Zn,Zn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,sp(n),n;default:if(typeof a.status=="string")a.then(Zn,Zn);else{if(n=Jt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=c}},function(c){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,sp(n),n}throw Ca=a,wr}}function wa(n){try{var a=n._init;return a(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ca=l,wr):l}}var Ca=null;function ip(){if(Ca===null)throw Error(s(459));var n=Ca;return Ca=null,n}function sp(n){if(n===wr||n===Pc)throw Error(s(483))}var Cr=null,Bl=0;function Fc(n){var a=Bl;return Bl+=1,Cr===null&&(Cr=[]),np(Cr,n,a)}function Ul(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function qc(n,a){throw a.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function ap(n){function a(P,B){if(n){var F=P.deletions;F===null?(P.deletions=[B],P.flags|=16):F.push(B)}}function l(P,B){if(!n)return null;for(;B!==null;)a(P,B),B=B.sibling;return null}function c(P){for(var B=new Map;P!==null;)P.key!==null?B.set(P.key,P):B.set(P.index,P),P=P.sibling;return B}function d(P,B){return P=Hi(P,B),P.index=0,P.sibling=null,P}function p(P,B,F){return P.index=F,n?(F=P.alternate,F!==null?(F=F.index,F<B?(P.flags|=67108866,B):F):(P.flags|=67108866,B)):(P.flags|=1048576,B)}function v(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function T(P,B,F,J){return B===null||B.tag!==6?(B=sf(F,P.mode,J),B.return=P,B):(B=d(B,F),B.return=P,B)}function z(P,B,F,J){var pt=F.type;return pt===V?Z(P,B,F.props.children,J,F.key):B!==null&&(B.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&wa(pt)===B.type)?(B=d(B,F.props),Ul(B,F),B.return=P,B):(B=zc(F.type,F.key,F.props,null,P.mode,J),Ul(B,F),B.return=P,B)}function q(P,B,F,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=af(F,P.mode,J),B.return=P,B):(B=d(B,F.children||[]),B.return=P,B)}function Z(P,B,F,J,pt){return B===null||B.tag!==7?(B=xa(F,P.mode,J,pt),B.return=P,B):(B=d(B,F),B.return=P,B)}function et(P,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=sf(""+B,P.mode,F),B.return=P,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return F=zc(B.type,B.key,B.props,null,P.mode,F),Ul(F,B),F.return=P,F;case D:return B=af(B,P.mode,F),B.return=P,B;case A:return B=wa(B),et(P,B,F)}if(at(B)||j(B))return B=xa(B,P.mode,F,null),B.return=P,B;if(typeof B.then=="function")return et(P,Fc(B),F);if(B.$$typeof===W)return et(P,Bc(P,B),F);qc(P,B)}return null}function G(P,B,F,J){var pt=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pt!==null?null:T(P,B,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return F.key===pt?z(P,B,F,J):null;case D:return F.key===pt?q(P,B,F,J):null;case A:return F=wa(F),G(P,B,F,J)}if(at(F)||j(F))return pt!==null?null:Z(P,B,F,J,null);if(typeof F.then=="function")return G(P,B,Fc(F),J);if(F.$$typeof===W)return G(P,B,Bc(P,F),J);qc(P,F)}return null}function Q(P,B,F,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(F)||null,T(B,P,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return P=P.get(J.key===null?F:J.key)||null,z(B,P,J,pt);case D:return P=P.get(J.key===null?F:J.key)||null,q(B,P,J,pt);case A:return J=wa(J),Q(P,B,F,J,pt)}if(at(J)||j(J))return P=P.get(F)||null,Z(B,P,J,pt,null);if(typeof J.then=="function")return Q(P,B,F,Fc(J),pt);if(J.$$typeof===W)return Q(P,B,F,Bc(B,J),pt);qc(B,J)}return null}function ft(P,B,F,J){for(var pt=null,Bt=null,mt=B,Ct=B=0,Vt=null;mt!==null&&Ct<F.length;Ct++){mt.index>Ct?(Vt=mt,mt=null):Vt=mt.sibling;var Ut=G(P,mt,F[Ct],J);if(Ut===null){mt===null&&(mt=Vt);break}n&&mt&&Ut.alternate===null&&a(P,mt),B=p(Ut,B,Ct),Bt===null?pt=Ut:Bt.sibling=Ut,Bt=Ut,mt=Vt}if(Ct===F.length)return l(P,mt),It&&Fi(P,Ct),pt;if(mt===null){for(;Ct<F.length;Ct++)mt=et(P,F[Ct],J),mt!==null&&(B=p(mt,B,Ct),Bt===null?pt=mt:Bt.sibling=mt,Bt=mt);return It&&Fi(P,Ct),pt}for(mt=c(mt);Ct<F.length;Ct++)Vt=Q(mt,P,Ct,F[Ct],J),Vt!==null&&(n&&Vt.alternate!==null&&mt.delete(Vt.key===null?Ct:Vt.key),B=p(Vt,B,Ct),Bt===null?pt=Vt:Bt.sibling=Vt,Bt=Vt);return n&&mt.forEach(function(Fs){return a(P,Fs)}),It&&Fi(P,Ct),pt}function vt(P,B,F,J){if(F==null)throw Error(s(151));for(var pt=null,Bt=null,mt=B,Ct=B=0,Vt=null,Ut=F.next();mt!==null&&!Ut.done;Ct++,Ut=F.next()){mt.index>Ct?(Vt=mt,mt=null):Vt=mt.sibling;var Fs=G(P,mt,Ut.value,J);if(Fs===null){mt===null&&(mt=Vt);break}n&&mt&&Fs.alternate===null&&a(P,mt),B=p(Fs,B,Ct),Bt===null?pt=Fs:Bt.sibling=Fs,Bt=Fs,mt=Vt}if(Ut.done)return l(P,mt),It&&Fi(P,Ct),pt;if(mt===null){for(;!Ut.done;Ct++,Ut=F.next())Ut=et(P,Ut.value,J),Ut!==null&&(B=p(Ut,B,Ct),Bt===null?pt=Ut:Bt.sibling=Ut,Bt=Ut);return It&&Fi(P,Ct),pt}for(mt=c(mt);!Ut.done;Ct++,Ut=F.next())Ut=Q(mt,P,Ct,Ut.value,J),Ut!==null&&(n&&Ut.alternate!==null&&mt.delete(Ut.key===null?Ct:Ut.key),B=p(Ut,B,Ct),Bt===null?pt=Ut:Bt.sibling=Ut,Bt=Ut);return n&&mt.forEach(function(eT){return a(P,eT)}),It&&Fi(P,Ct),pt}function $t(P,B,F,J){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case w:t:{for(var pt=F.key;B!==null;){if(B.key===pt){if(pt=F.type,pt===V){if(B.tag===7){l(P,B.sibling),J=d(B,F.props.children),J.return=P,P=J;break t}}else if(B.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&wa(pt)===B.type){l(P,B.sibling),J=d(B,F.props),Ul(J,F),J.return=P,P=J;break t}l(P,B);break}else a(P,B);B=B.sibling}F.type===V?(J=xa(F.props.children,P.mode,J,F.key),J.return=P,P=J):(J=zc(F.type,F.key,F.props,null,P.mode,J),Ul(J,F),J.return=P,P=J)}return v(P);case D:t:{for(pt=F.key;B!==null;){if(B.key===pt)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){l(P,B.sibling),J=d(B,F.children||[]),J.return=P,P=J;break t}else{l(P,B);break}else a(P,B);B=B.sibling}J=af(F,P.mode,J),J.return=P,P=J}return v(P);case A:return F=wa(F),$t(P,B,F,J)}if(at(F))return ft(P,B,F,J);if(j(F)){if(pt=j(F),typeof pt!="function")throw Error(s(150));return F=pt.call(F),vt(P,B,F,J)}if(typeof F.then=="function")return $t(P,B,Fc(F),J);if(F.$$typeof===W)return $t(P,B,Bc(P,F),J);qc(P,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(l(P,B.sibling),J=d(B,F),J.return=P,P=J):(l(P,B),J=sf(F,P.mode,J),J.return=P,P=J),v(P)):l(P,B)}return function(P,B,F,J){try{Bl=0;var pt=$t(P,B,F,J);return Cr=null,pt}catch(mt){if(mt===wr||mt===Pc)throw mt;var Bt=En(29,mt,null,P.mode);return Bt.lanes=J,Bt.return=P,Bt}finally{}}}var Ra=ap(!0),rp=ap(!1),ws=!1;function yf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Cs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rs(n,a,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ht&2)!==0){var d=c.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a,a=kc(n),Fg(n,null,l),a}return Ic(n,c,a,l),kc(n)}function Pl(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=n.pendingLanes,l|=c,a.lanes=l,ml(n,l)}}function vf(n,a){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?d=p=a:p=p.next=a}else d=p=a;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var bf=!1;function Hl(){if(bf){var n=Ar;if(n!==null)throw n}}function Fl(n,a,l,c){bf=!1;var d=n.updateQueue;ws=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var z=T,q=z.next;z.next=null,v===null?p=q:v.next=q,v=z;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=q:T.next=q,Z.lastBaseUpdate=z))}if(p!==null){var et=d.baseState;v=0,Z=q=z=null,T=p;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Nt&G)===G:(c&G)===G){G!==0&&G===Sr&&(bf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ft=n,vt=T;G=a;var $t=l;switch(vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){et=ft.call($t,et,G);break t}et=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,G=typeof ft=="function"?ft.call($t,et,G):ft,G==null)break t;et=b({},et,G);break t;case 2:ws=!0}}G=T.callback,G!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(q=Z=Q,z=et):Z=Z.next=Q,v|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Z===null&&(z=et),d.baseState=z,d.firstBaseUpdate=q,d.lastBaseUpdate=Z,p===null&&(d.shared.lanes=0),Vs|=v,n.lanes=v,n.memoizedState=et}}function lp(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function op(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)lp(l[n],a)}var Rr=L(null),Yc=L(0);function cp(n,a){n=ts,ct(Yc,n),ct(Rr,a),ts=n|a.baseLanes}function xf(){ct(Yc,ts),ct(Rr,Rr.current)}function Ef(){ts=Yc.current,K(Rr),K(Yc)}var Tn=L(null),jn=null;function Ds(n){var a=n.alternate;ct(pe,pe.current&1),ct(Tn,n),jn===null&&(a===null||Rr.current!==null||a.memoizedState!==null)&&(jn=n)}function Tf(n){ct(pe,pe.current),ct(Tn,n),jn===null&&(jn=n)}function up(n){n.tag===22?(ct(pe,pe.current),ct(Tn,n),jn===null&&(jn=n)):Ms()}function Ms(){ct(pe,pe.current),ct(Tn,Tn.current)}function Sn(n){K(Tn),jn===n&&(jn=null),K(pe)}var pe=L(0);function Gc(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Dd(l)||Md(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gi=0,wt=null,Zt=null,Ae=null,Xc=!1,Dr=!1,Da=!1,Qc=0,ql=0,Mr=null,Yx=0;function he(){throw Error(s(321))}function Sf(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!xn(n[l],a[l]))return!1;return!0}function Af(n,a,l,c,d,p){return Gi=p,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,U.H=n===null||n.memoizedState===null?Xp:Uf,Da=!1,p=l(c,d),Da=!1,Dr&&(p=fp(a,l,c,d)),hp(n),p}function hp(n){U.H=Xl;var a=Zt!==null&&Zt.next!==null;if(Gi=0,Ae=Zt=wt=null,Xc=!1,ql=0,Mr=null,a)throw Error(s(300));n===null||we||(n=n.dependencies,n!==null&&jc(n)&&(we=!0))}function fp(n,a,l,c){wt=n;var d=0;do{if(Dr&&(Mr=null),ql=0,Dr=!1,25<=d)throw Error(s(301));if(d+=1,Ae=Zt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=Qp,p=a(l,c)}while(Dr);return p}function Gx(){var n=U.H,a=n.useState()[0];return a=typeof a.then=="function"?Yl(a):a,n=n.useState()[0],(Zt!==null?Zt.memoizedState:null)!==n&&(wt.flags|=1024),a}function wf(){var n=Qc!==0;return Qc=0,n}function Cf(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Rf(n){if(Xc){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Xc=!1}Gi=0,Ae=Zt=wt=null,Dr=!1,ql=Qc=0,Mr=null}function rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=n:Ae=Ae.next=n,Ae}function ye(){if(Zt===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var a=Ae===null?wt.memoizedState:Ae.next;if(a!==null)Ae=a,Zt=n;else{if(n===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?wt.memoizedState=Ae=n:Ae=Ae.next=n}return Ae}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(n){var a=ql;return ql+=1,Mr===null&&(Mr=[]),n=np(Mr,n,a),a=wt,(Ae===null?a.memoizedState:Ae.next)===null&&(a=a.alternate,U.H=a===null||a.memoizedState===null?Xp:Uf),n}function Zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Yl(n);if(n.$$typeof===W)return Fe(n)}throw Error(s(438,String(n)))}function Df(n){var a=null,l=wt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=wt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Kc(),wt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),c=0;c<n;c++)l[c]=k;return a.index++,l}function Xi(n,a){return typeof a=="function"?a(n):a}function Wc(n){var a=ye();return Mf(a,Zt,n)}function Mf(n,a,l){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=l;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}a.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{a=d.next;var T=v=null,z=null,q=a,Z=!1;do{var et=q.lane&-536870913;if(et!==q.lane?(Nt&et)===et:(Gi&et)===et){var G=q.revertLane;if(G===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),et===Sr&&(Z=!0);else if((Gi&G)===G){q=q.next,G===Sr&&(Z=!0);continue}else et={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},z===null?(T=z=et,v=p):z=z.next=et,wt.lanes|=G,Vs|=G;et=q.action,Da&&l(p,et),p=q.hasEagerState?q.eagerState:l(p,et)}else G={lane:et,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},z===null?(T=z=G,v=p):z=z.next=G,wt.lanes|=et,Vs|=et;q=q.next}while(q!==null&&q!==a);if(z===null?v=p:z.next=T,!xn(p,n.memoizedState)&&(we=!0,Z&&(l=Ar,l!==null)))throw l;n.memoizedState=p,n.baseState=v,n.baseQueue=z,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Of(n){var a=ye(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var c=l.dispatch,d=l.pending,p=a.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do p=n(p,v.action),v=v.next;while(v!==d);xn(p,a.memoizedState)||(we=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function dp(n,a,l){var c=wt,d=ye(),p=It;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=a();var v=!xn((Zt||d).memoizedState,l);if(v&&(d.memoizedState=l,we=!0),d=d.queue,If(pp.bind(null,c,d,n),[n]),d.getSnapshot!==a||v||Ae!==null&&Ae.memoizedState.tag&1){if(c.flags|=2048,Or(9,{destroy:void 0},gp.bind(null,c,d,l,a),null),Jt===null)throw Error(s(349));p||(Gi&127)!==0||mp(c,a,l)}return l}function mp(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=wt.updateQueue,a===null?(a=Kc(),wt.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function gp(n,a,l,c){a.value=l,a.getSnapshot=c,yp(a)&&_p(n)}function pp(n,a,l){return l(function(){yp(a)&&_p(n)})}function yp(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!xn(n,l)}catch{return!0}}function _p(n){var a=ba(n,2);a!==null&&dn(a,n,2)}function Nf(n){var a=rn();if(typeof n=="function"){var l=n;if(n=l(),Da){Rn(!0);try{l()}finally{Rn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:n},a}function vp(n,a,l,c){return n.baseState=l,Mf(n,Zt,typeof c=="function"?c:Xi)}function Xx(n,a,l,c,d){if(tu(n))throw Error(s(485));if(n=a.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};U.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,bp(a,p)):(p.next=l.next,a.pending=l.next=p)}}function bp(n,a){var l=a.action,c=a.payload,d=n.state;if(a.isTransition){var p=U.T,v={};U.T=v;try{var T=l(d,c),z=U.S;z!==null&&z(v,T),xp(n,a,T)}catch(q){Vf(n,a,q)}finally{p!==null&&v.types!==null&&(p.types=v.types),U.T=p}}else try{p=l(d,c),xp(n,a,p)}catch(q){Vf(n,a,q)}}function xp(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Ep(n,a,c)},function(c){return Vf(n,a,c)}):Ep(n,a,l)}function Ep(n,a,l){a.status="fulfilled",a.value=l,Tp(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,bp(n,l)))}function Vf(n,a,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Tp(a),a=a.next;while(a!==c)}n.action=null}function Tp(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Sp(n,a){return a}function Ap(n,a){if(It){var l=Jt.formState;if(l!==null){t:{var c=wt;if(It){if(ne){e:{for(var d=ne,p=Ln;d.nodeType!==8;){if(!p){d=null;break e}if(d=Bn(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){ne=Bn(d.nextSibling),c=d.data==="F!";break t}}Ss(c)}c=!1}c&&(a=l[0])}}return l=rn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:a},l.queue=c,l=qp.bind(null,wt,c),c.dispatch=l,c=Nf(!1),p=Bf.bind(null,wt,!1,c.queue),c=rn(),d={state:a,dispatch:null,action:n,pending:null},c.queue=d,l=Xx.bind(null,wt,d,p,l),d.dispatch=l,c.memoizedState=n,[a,l,!1]}function wp(n){var a=ye();return Cp(a,Zt,n)}function Cp(n,a,l){if(a=Mf(n,a,Sp)[0],n=Wc(Xi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Yl(a)}catch(v){throw v===wr?Pc:v}else c=a;a=ye();var d=a.queue,p=d.dispatch;return l!==a.memoizedState&&(wt.flags|=2048,Or(9,{destroy:void 0},Qx.bind(null,d,l),null)),[c,p,n]}function Qx(n,a){n.action=a}function Rp(n){var a=ye(),l=Zt;if(l!==null)return Cp(a,l,n);ye(),a=a.memoizedState,l=ye();var c=l.queue.dispatch;return l.memoizedState=n,[a,c,!1]}function Or(n,a,l,c){return n={tag:n,create:l,deps:c,inst:a,next:null},a=wt.updateQueue,a===null&&(a=Kc(),wt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,a.lastEffect=n),n}function Dp(){return ye().memoizedState}function $c(n,a,l,c){var d=rn();wt.flags|=n,d.memoizedState=Or(1|a,{destroy:void 0},l,c===void 0?null:c)}function Jc(n,a,l,c){var d=ye();c=c===void 0?null:c;var p=d.memoizedState.inst;Zt!==null&&c!==null&&Sf(c,Zt.memoizedState.deps)?d.memoizedState=Or(a,p,l,c):(wt.flags|=n,d.memoizedState=Or(1|a,p,l,c))}function Mp(n,a){$c(8390656,8,n,a)}function If(n,a){Jc(2048,8,n,a)}function Kx(n){wt.flags|=4;var a=wt.updateQueue;if(a===null)a=Kc(),wt.updateQueue=a,a.events=[n];else{var l=a.events;l===null?a.events=[n]:l.push(n)}}function Op(n){var a=ye().memoizedState;return Kx({ref:a,nextImpl:n}),function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function Np(n,a){return Jc(4,2,n,a)}function Vp(n,a){return Jc(4,4,n,a)}function Ip(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function kp(n,a,l){l=l!=null?l.concat([n]):null,Jc(4,4,Ip.bind(null,a,n),l)}function kf(){}function zp(n,a){var l=ye();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Sf(a,c[1])?c[0]:(l.memoizedState=[n,a],n)}function Lp(n,a){var l=ye();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Sf(a,c[1]))return c[0];if(c=n(),Da){Rn(!0);try{n()}finally{Rn(!1)}}return l.memoizedState=[c,a],c}function zf(n,a,l){return l===void 0||(Gi&1073741824)!==0&&(Nt&261930)===0?n.memoizedState=a:(n.memoizedState=l,n=jy(),wt.lanes|=n,Vs|=n,l)}function jp(n,a,l,c){return xn(l,a)?l:Rr.current!==null?(n=zf(n,l,c),xn(n,a)||(we=!0),n):(Gi&42)===0||(Gi&1073741824)!==0&&(Nt&261930)===0?(we=!0,n.memoizedState=l):(n=jy(),wt.lanes|=n,Vs|=n,a)}function Bp(n,a,l,c,d){var p=tt.p;tt.p=p!==0&&8>p?p:8;var v=U.T,T={};U.T=T,Bf(n,!1,a,l);try{var z=d(),q=U.S;if(q!==null&&q(T,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=qx(z,c);Gl(n,a,Z,Cn(n))}else Gl(n,a,c,Cn(n))}catch(et){Gl(n,a,{then:function(){},status:"rejected",reason:et},Cn())}finally{tt.p=p,v!==null&&T.types!==null&&(v.types=T.types),U.T=v}}function Zx(){}function Lf(n,a,l,c){if(n.tag!==5)throw Error(s(476));var d=Up(n).queue;Bp(n,d,a,ut,l===null?Zx:function(){return Pp(n),l(c)})}function Up(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ut},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Pp(n){var a=Up(n);a.next===null&&(a=n.alternate.memoizedState),Gl(n,a.next.queue,{},Cn())}function jf(){return Fe(co)}function Hp(){return ye().memoizedState}function Fp(){return ye().memoizedState}function Wx(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=Cn();n=Cs(l);var c=Rs(a,n,l);c!==null&&(dn(c,a,l),Pl(c,a,l)),a={cache:df()},n.payload=a;return}a=a.return}}function $x(n,a,l){var c=Cn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tu(n)?Yp(a,l):(l=ef(n,a,l,c),l!==null&&(dn(l,n,c),Gp(l,a,c)))}function qp(n,a,l){var c=Cn();Gl(n,a,l,c)}function Gl(n,a,l,c){var d={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(tu(n))Yp(a,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,T=p(v,l);if(d.hasEagerState=!0,d.eagerState=T,xn(T,v))return Ic(n,a,d,0),Jt===null&&Vc(),!1}catch{}finally{}if(l=ef(n,a,d,c),l!==null)return dn(l,n,c),Gp(l,a,c),!0}return!1}function Bf(n,a,l,c){if(c={lane:2,revertLane:yd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},tu(n)){if(a)throw Error(s(479))}else a=ef(n,l,c,2),a!==null&&dn(a,n,2)}function tu(n){var a=n.alternate;return n===wt||a!==null&&a===wt}function Yp(n,a){Dr=Xc=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Gp(n,a,l){if((l&4194048)!==0){var c=a.lanes;c&=n.pendingLanes,l|=c,a.lanes=l,ml(n,l)}}var Xl={readContext:Fe,use:Zc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Xl.useEffectEvent=he;var Xp={readContext:Fe,use:Zc,useCallback:function(n,a){return rn().memoizedState=[n,a===void 0?null:a],n},useContext:Fe,useEffect:Mp,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,$c(4194308,4,Ip.bind(null,a,n),l)},useLayoutEffect:function(n,a){return $c(4194308,4,n,a)},useInsertionEffect:function(n,a){$c(4,2,n,a)},useMemo:function(n,a){var l=rn();a=a===void 0?null:a;var c=n();if(Da){Rn(!0);try{n()}finally{Rn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(n,a,l){var c=rn();if(l!==void 0){var d=l(a);if(Da){Rn(!0);try{l(a)}finally{Rn(!1)}}}else d=a;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=$x.bind(null,wt,n),[c.memoizedState,n]},useRef:function(n){var a=rn();return n={current:n},a.memoizedState=n},useState:function(n){n=Nf(n);var a=n.queue,l=qp.bind(null,wt,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:kf,useDeferredValue:function(n,a){var l=rn();return zf(l,n,a)},useTransition:function(){var n=Nf(!1);return n=Bp.bind(null,wt,n.queue,!0,!1),rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var c=wt,d=rn();if(It){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),Jt===null)throw Error(s(349));(Nt&127)!==0||mp(c,a,l)}d.memoizedState=l;var p={value:l,getSnapshot:a};return d.queue=p,Mp(pp.bind(null,c,p,n),[n]),c.flags|=2048,Or(9,{destroy:void 0},gp.bind(null,c,p,l,a),null),l},useId:function(){var n=rn(),a=Jt.identifierPrefix;if(It){var l=Ri,c=Ci;l=(c&~(1<<32-me(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Qc++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Yx++,a="_"+a+"r_"+l.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:jf,useFormState:Ap,useActionState:Ap,useOptimistic:function(n){var a=rn();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Bf.bind(null,wt,!0,l),l.dispatch=a,[n,a]},useMemoCache:Df,useCacheRefresh:function(){return rn().memoizedState=Wx.bind(null,wt)},useEffectEvent:function(n){var a=rn(),l={impl:n};return a.memoizedState=l,function(){if((Ht&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Uf={readContext:Fe,use:Zc,useCallback:zp,useContext:Fe,useEffect:If,useImperativeHandle:kp,useInsertionEffect:Np,useLayoutEffect:Vp,useMemo:Lp,useReducer:Wc,useRef:Dp,useState:function(){return Wc(Xi)},useDebugValue:kf,useDeferredValue:function(n,a){var l=ye();return jp(l,Zt.memoizedState,n,a)},useTransition:function(){var n=Wc(Xi)[0],a=ye().memoizedState;return[typeof n=="boolean"?n:Yl(n),a]},useSyncExternalStore:dp,useId:Hp,useHostTransitionStatus:jf,useFormState:wp,useActionState:wp,useOptimistic:function(n,a){var l=ye();return vp(l,Zt,n,a)},useMemoCache:Df,useCacheRefresh:Fp};Uf.useEffectEvent=Op;var Qp={readContext:Fe,use:Zc,useCallback:zp,useContext:Fe,useEffect:If,useImperativeHandle:kp,useInsertionEffect:Np,useLayoutEffect:Vp,useMemo:Lp,useReducer:Of,useRef:Dp,useState:function(){return Of(Xi)},useDebugValue:kf,useDeferredValue:function(n,a){var l=ye();return Zt===null?zf(l,n,a):jp(l,Zt.memoizedState,n,a)},useTransition:function(){var n=Of(Xi)[0],a=ye().memoizedState;return[typeof n=="boolean"?n:Yl(n),a]},useSyncExternalStore:dp,useId:Hp,useHostTransitionStatus:jf,useFormState:Rp,useActionState:Rp,useOptimistic:function(n,a){var l=ye();return Zt!==null?vp(l,Zt,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Fp};Qp.useEffectEvent=Op;function Pf(n,a,l,c){a=n.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Hf={enqueueSetState:function(n,a,l){n=n._reactInternals;var c=Cn(),d=Cs(c);d.payload=a,l!=null&&(d.callback=l),a=Rs(n,d,c),a!==null&&(dn(a,n,c),Pl(a,n,c))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var c=Cn(),d=Cs(c);d.tag=1,d.payload=a,l!=null&&(d.callback=l),a=Rs(n,d,c),a!==null&&(dn(a,n,c),Pl(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=Cn(),c=Cs(l);c.tag=2,a!=null&&(c.callback=a),a=Rs(n,c,l),a!==null&&(dn(a,n,l),Pl(a,n,l))}};function Kp(n,a,l,c,d,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,v):a.prototype&&a.prototype.isPureReactComponent?!Vl(l,c)||!Vl(d,p):!0}function Zp(n,a,l,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==n&&Hf.enqueueReplaceState(a,a.state,null)}function Ma(n,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(n=n.defaultProps){l===a&&(l=b({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}function Wp(n){Nc(n)}function $p(n){console.error(n)}function Jp(n){Nc(n)}function eu(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function ty(n,a,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ff(n,a,l){return l=Cs(l),l.tag=3,l.payload={element:null},l.callback=function(){eu(n,a)},l}function ey(n){return n=Cs(n),n.tag=3,n}function ny(n,a,l,c){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){ty(a,l,c)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){ty(a,l,c),typeof d!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function Jx(n,a,l,c,d){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Tr(a,l,d,!0),l=Tn.current,l!==null){switch(l.tag){case 31:case 13:return jn===null?du():l.alternate===null&&fe===0&&(fe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,c===Hc?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),md(n,c,d)),!1;case 22:return l.flags|=65536,c===Hc?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),md(n,c,d)),!1}throw Error(s(435,l.tag))}return md(n,c,d),du(),!1}if(It)return a=Tn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,c!==of&&(n=Error(s(422),{cause:c}),zl(In(n,l)))):(c!==of&&(a=Error(s(423),{cause:c}),zl(In(a,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=In(c,l),d=Ff(n.stateNode,c,d),vf(n,d),fe!==4&&(fe=2)),!1;var p=Error(s(520),{cause:c});if(p=In(p,l),eo===null?eo=[p]:eo.push(p),fe!==4&&(fe=2),a===null)return!0;c=In(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=Ff(l.stateNode,c,n),vf(l,n),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Is===null||!Is.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=ey(d),ny(d,n,l,c),vf(l,d),!1}l=l.return}while(l!==null);return!1}var qf=Error(s(461)),we=!1;function qe(n,a,l,c){a.child=n===null?rp(a,null,l,c):Ra(a,n.child,l,c)}function iy(n,a,l,c,d){l=l.render;var p=a.ref;if("ref"in c){var v={};for(var T in c)T!=="ref"&&(v[T]=c[T])}else v=c;return Sa(a),c=Af(n,a,l,v,p,d),T=wf(),n!==null&&!we?(Cf(n,a,d),Qi(n,a,d)):(It&&T&&rf(a),a.flags|=1,qe(n,a,c,d),a.child)}function sy(n,a,l,c,d){if(n===null){var p=l.type;return typeof p=="function"&&!nf(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,ay(n,a,p,c,d)):(n=zc(l.type,null,c,a,a.mode,d),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!$f(n,d)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Vl,l(v,c)&&n.ref===a.ref)return Qi(n,a,d)}return a.flags|=1,n=Hi(p,c),n.ref=a.ref,n.return=a,a.child=n}function ay(n,a,l,c,d){if(n!==null){var p=n.memoizedProps;if(Vl(p,c)&&n.ref===a.ref)if(we=!1,a.pendingProps=c=p,$f(n,d))(n.flags&131072)!==0&&(we=!0);else return a.lanes=n.lanes,Qi(n,a,d)}return Yf(n,a,l,c,d)}function ry(n,a,l,c){var d=c.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,n!==null){for(c=a.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,a.child=null;return ly(n,a,p,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uc(a,p!==null?p.cachePool:null),p!==null?cp(a,p):xf(),up(a);else return c=a.lanes=536870912,ly(n,a,p!==null?p.baseLanes|l:l,l,c)}else p!==null?(Uc(a,p.cachePool),cp(a,p),Ms(),a.memoizedState=null):(n!==null&&Uc(a,null),xf(),Ms());return qe(n,a,d,l),a.child}function Ql(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function ly(n,a,l,c,d){var p=gf();return p=p===null?null:{parent:Se._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},n!==null&&Uc(a,null),xf(),up(a),n!==null&&Tr(n,a,c,!0),a.childLanes=d,null}function nu(n,a){return a=su({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function oy(n,a,l){return Ra(a,n.child,null,l),n=nu(a,a.pendingProps),n.flags|=2,Sn(a),a.memoizedState=null,n}function tE(n,a,l){var c=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(It){if(c.mode==="hidden")return n=nu(a,c),a.lanes=536870912,Ql(null,n);if(Tf(a),(n=ne)?(n=b_(n,Ln),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Es!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},l=Yg(n),l.return=a,a.child=l,He=a,ne=null)):n=null,n===null)throw Ss(a);return a.lanes=536870912,null}return nu(a,c)}var p=n.memoizedState;if(p!==null){var v=p.dehydrated;if(Tf(a),d)if(a.flags&256)a.flags&=-257,a=oy(n,a,l);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(s(558));else if(we||Tr(n,a,l,!1),d=(l&n.childLanes)!==0,we||d){if(c=Jt,c!==null&&(v=gl(c,l),v!==0&&v!==p.retryLane))throw p.retryLane=v,ba(n,v),dn(c,n,v),qf;du(),a=oy(n,a,l)}else n=p.treeContext,ne=Bn(v.nextSibling),He=a,It=!0,Ts=null,Ln=!1,n!==null&&Qg(a,n),a=nu(a,c),a.flags|=4096;return a}return n=Hi(n.child,{mode:c.mode,children:c.children}),n.ref=a.ref,a.child=n,n.return=a,n}function iu(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function Yf(n,a,l,c,d){return Sa(a),l=Af(n,a,l,c,void 0,d),c=wf(),n!==null&&!we?(Cf(n,a,d),Qi(n,a,d)):(It&&c&&rf(a),a.flags|=1,qe(n,a,l,d),a.child)}function cy(n,a,l,c,d,p){return Sa(a),a.updateQueue=null,l=fp(a,c,l,d),hp(n),c=wf(),n!==null&&!we?(Cf(n,a,p),Qi(n,a,p)):(It&&c&&rf(a),a.flags|=1,qe(n,a,l,p),a.child)}function uy(n,a,l,c,d){if(Sa(a),a.stateNode===null){var p=vr,v=l.contextType;typeof v=="object"&&v!==null&&(p=Fe(v)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hf,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},yf(a),v=l.contextType,p.context=typeof v=="object"&&v!==null?Fe(v):vr,p.state=a.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Pf(a,l,v,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Hf.enqueueReplaceState(p,p.state,null),Fl(a,c,p,d),Hl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){p=a.stateNode;var T=a.memoizedProps,z=Ma(l,T);p.props=z;var q=p.context,Z=l.contextType;v=vr,typeof Z=="object"&&Z!==null&&(v=Fe(Z));var et=l.getDerivedStateFromProps;Z=typeof et=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||q!==v)&&Zp(a,p,c,v),ws=!1;var G=a.memoizedState;p.state=G,Fl(a,c,p,d),Hl(),q=a.memoizedState,T||G!==q||ws?(typeof et=="function"&&(Pf(a,l,et,c),q=a.memoizedState),(z=ws||Kp(a,l,z,c,G,q,v))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=q),p.props=c,p.state=q,p.context=v,c=z):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,_f(n,a),v=a.memoizedProps,Z=Ma(l,v),p.props=Z,et=a.pendingProps,G=p.context,q=l.contextType,z=vr,typeof q=="object"&&q!==null&&(z=Fe(q)),T=l.getDerivedStateFromProps,(q=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==et||G!==z)&&Zp(a,p,c,z),ws=!1,G=a.memoizedState,p.state=G,Fl(a,c,p,d),Hl();var Q=a.memoizedState;v!==et||G!==Q||ws||n!==null&&n.dependencies!==null&&jc(n.dependencies)?(typeof T=="function"&&(Pf(a,l,T,c),Q=a.memoizedState),(Z=ws||Kp(a,l,Z,c,G,Q,z)||n!==null&&n.dependencies!==null&&jc(n.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Q,z),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Q,z)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Q),p.props=c,p.state=Q,p.context=z,c=Z):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(a.flags|=1024),c=!1)}return p=c,iu(n,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&c?(a.child=Ra(a,n.child,null,d),a.child=Ra(a,null,l,d)):qe(n,a,l,d),a.memoizedState=p.state,n=a.child):n=Qi(n,a,d),n}function hy(n,a,l,c){return Ea(),a.flags|=256,qe(n,a,l,c),a.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(n){return{baseLanes:n,cachePool:tp()}}function Qf(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=wn),n}function fy(n,a,l){var c=a.pendingProps,d=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=n!==null&&n.memoizedState===null?!1:(pe.current&2)!==0),v&&(d=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,n===null){if(It){if(d?Ds(a):Ms(),(n=ne)?(n=b_(n,Ln),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Es!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},l=Yg(n),l.return=a,a.child=l,He=a,ne=null)):n=null,n===null)throw Ss(a);return Md(n)?a.lanes=32:a.lanes=536870912,null}var T=c.children;return c=c.fallback,d?(Ms(),d=a.mode,T=su({mode:"hidden",children:T},d),c=xa(c,d,l,null),T.return=a,c.return=a,T.sibling=c,a.child=T,c=a.child,c.memoizedState=Xf(l),c.childLanes=Qf(n,v,l),a.memoizedState=Gf,Ql(null,c)):(Ds(a),Kf(a,T))}var z=n.memoizedState;if(z!==null&&(T=z.dehydrated,T!==null)){if(p)a.flags&256?(Ds(a),a.flags&=-257,a=Zf(n,a,l)):a.memoizedState!==null?(Ms(),a.child=n.child,a.flags|=128,a=null):(Ms(),T=c.fallback,d=a.mode,c=su({mode:"visible",children:c.children},d),T=xa(T,d,l,null),T.flags|=2,c.return=a,T.return=a,c.sibling=T,a.child=c,Ra(a,n.child,null,l),c=a.child,c.memoizedState=Xf(l),c.childLanes=Qf(n,v,l),a.memoizedState=Gf,a=Ql(null,c));else if(Ds(a),Md(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,c=Error(s(419)),c.stack="",c.digest=v,zl({value:c,source:null,stack:null}),a=Zf(n,a,l)}else if(we||Tr(n,a,l,!1),v=(l&n.childLanes)!==0,we||v){if(v=Jt,v!==null&&(c=gl(v,l),c!==0&&c!==z.retryLane))throw z.retryLane=c,ba(n,c),dn(v,n,c),qf;Dd(T)||du(),a=Zf(n,a,l)}else Dd(T)?(a.flags|=192,a.child=n.child,a=null):(n=z.treeContext,ne=Bn(T.nextSibling),He=a,It=!0,Ts=null,Ln=!1,n!==null&&Qg(a,n),a=Kf(a,c.children),a.flags|=4096);return a}return d?(Ms(),T=c.fallback,d=a.mode,z=n.child,q=z.sibling,c=Hi(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,q!==null?T=Hi(q,T):(T=xa(T,d,l,null),T.flags|=2),T.return=a,c.return=a,c.sibling=T,a.child=c,Ql(null,c),c=a.child,T=n.child.memoizedState,T===null?T=Xf(l):(d=T.cachePool,d!==null?(z=Se._currentValue,d=d.parent!==z?{parent:z,pool:z}:d):d=tp(),T={baseLanes:T.baseLanes|l,cachePool:d}),c.memoizedState=T,c.childLanes=Qf(n,v,l),a.memoizedState=Gf,Ql(n.child,c)):(Ds(a),l=n.child,n=l.sibling,l=Hi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,n!==null&&(v=a.deletions,v===null?(a.deletions=[n],a.flags|=16):v.push(n)),a.child=l,a.memoizedState=null,l)}function Kf(n,a){return a=su({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function su(n,a){return n=En(22,n,null,a),n.lanes=0,n}function Zf(n,a,l){return Ra(a,n.child,null,l),n=Kf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function dy(n,a,l){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),hf(n.return,a,l)}function Wf(n,a,l,c,d,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d,treeForkCount:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=d,v.treeForkCount=p)}function my(n,a,l){var c=a.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var v=pe.current,T=(v&2)!==0;if(T?(v=v&1|2,a.flags|=128):v&=1,ct(pe,v),qe(n,a,c,l),c=It?kl:0,!T&&n!==null&&(n.flags&128)!==0)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dy(n,l,a);else if(n.tag===19)dy(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(l=a.child,d=null;l!==null;)n=l.alternate,n!==null&&Gc(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=a.child,a.child=null):(d=l.sibling,l.sibling=null),Wf(a,!1,d,l,p,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=a.child,a.child=null;d!==null;){if(n=d.alternate,n!==null&&Gc(n)===null){a.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}Wf(a,!0,l,null,p,c);break;case"together":Wf(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Qi(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Vs|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Tr(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,l=Hi(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Hi(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function $f(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&jc(n)))}function eE(n,a,l){switch(a.tag){case 3:Me(a,a.stateNode.containerInfo),As(a,Se,n.memoizedState.cache),Ea();break;case 27:case 5:na(a);break;case 4:Me(a,a.stateNode.containerInfo);break;case 10:As(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Tf(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ds(a),a.flags|=128,null):(l&a.child.childLanes)!==0?fy(n,a,l):(Ds(a),n=Qi(n,a,l),n!==null?n.sibling:null);Ds(a);break;case 19:var d=(n.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Tr(n,a,l,!1),c=(l&a.childLanes)!==0),d){if(c)return my(n,a,l);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ct(pe,pe.current),c)break;return null;case 22:return a.lanes=0,ry(n,a,l,a.pendingProps);case 24:As(a,Se,n.memoizedState.cache)}return Qi(n,a,l)}function gy(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)we=!0;else{if(!$f(n,l)&&(a.flags&128)===0)return we=!1,eE(n,a,l);we=(n.flags&131072)!==0}else we=!1,It&&(a.flags&1048576)!==0&&Xg(a,kl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var c=a.pendingProps;if(n=wa(a.elementType),a.type=n,typeof n=="function")nf(n)?(c=Ma(n,c),a.tag=1,a=uy(null,a,n,c,l)):(a.tag=0,a=Yf(null,a,n,c,l));else{if(n!=null){var d=n.$$typeof;if(d===nt){a.tag=11,a=iy(null,a,n,c,l);break t}else if(d===C){a.tag=14,a=sy(null,a,n,c,l);break t}}throw a=St(n)||n,Error(s(306,a,""))}}return a;case 0:return Yf(n,a,a.type,a.pendingProps,l);case 1:return c=a.type,d=Ma(c,a.pendingProps),uy(n,a,c,d,l);case 3:t:{if(Me(a,a.stateNode.containerInfo),n===null)throw Error(s(387));c=a.pendingProps;var p=a.memoizedState;d=p.element,_f(n,a),Fl(a,c,null,l);var v=a.memoizedState;if(c=v.cache,As(a,Se,c),c!==p.cache&&ff(a,[Se],l,!0),Hl(),c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=hy(n,a,c,l);break t}else if(c!==d){d=In(Error(s(424)),a),zl(d),a=hy(n,a,c,l);break t}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ne=Bn(n.firstChild),He=a,It=!0,Ts=null,Ln=!0,l=rp(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ea(),c===d){a=Qi(n,a,l);break t}qe(n,a,c,l)}a=a.child}return a;case 26:return iu(n,a),n===null?(l=w_(a.type,null,a.pendingProps,null))?a.memoizedState=l:It||(l=a.type,n=a.pendingProps,c=bu(bt.current).createElement(l),c[xe]=a,c[Ve]=n,Ye(c,l,n),Ee(c),a.stateNode=c):a.memoizedState=w_(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return na(a),n===null&&It&&(c=a.stateNode=T_(a.type,a.pendingProps,bt.current),He=a,Ln=!0,d=ne,js(a.type)?(Od=d,ne=Bn(c.firstChild)):ne=d),qe(n,a,a.pendingProps.children,l),iu(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&It&&((d=c=ne)&&(c=OE(c,a.type,a.pendingProps,Ln),c!==null?(a.stateNode=c,He=a,ne=Bn(c.firstChild),Ln=!1,d=!0):d=!1),d||Ss(a)),na(a),d=a.type,p=a.pendingProps,v=n!==null?n.memoizedProps:null,c=p.children,wd(d,p)?c=null:v!==null&&wd(d,v)&&(a.flags|=32),a.memoizedState!==null&&(d=Af(n,a,Gx,null,null,l),co._currentValue=d),iu(n,a),qe(n,a,c,l),a.child;case 6:return n===null&&It&&((n=l=ne)&&(l=NE(l,a.pendingProps,Ln),l!==null?(a.stateNode=l,He=a,ne=null,n=!0):n=!1),n||Ss(a)),null;case 13:return fy(n,a,l);case 4:return Me(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=Ra(a,null,c,l):qe(n,a,c,l),a.child;case 11:return iy(n,a,a.type,a.pendingProps,l);case 7:return qe(n,a,a.pendingProps,l),a.child;case 8:return qe(n,a,a.pendingProps.children,l),a.child;case 12:return qe(n,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,As(a,a.type,c.value),qe(n,a,c.children,l),a.child;case 9:return d=a.type._context,c=a.pendingProps.children,Sa(a),d=Fe(d),c=c(d),a.flags|=1,qe(n,a,c,l),a.child;case 14:return sy(n,a,a.type,a.pendingProps,l);case 15:return ay(n,a,a.type,a.pendingProps,l);case 19:return my(n,a,l);case 31:return tE(n,a,l);case 22:return ry(n,a,l,a.pendingProps);case 24:return Sa(a),c=Fe(Se),n===null?(d=gf(),d===null&&(d=Jt,p=df(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),a.memoizedState={parent:c,cache:d},yf(a),As(a,Se,d)):((n.lanes&l)!==0&&(_f(n,a),Fl(a,null,null,l),Hl()),d=n.memoizedState,p=a.memoizedState,d.parent!==c?(d={parent:c,cache:c},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),As(a,Se,c)):(c=p.cache,As(a,Se,c),c!==d.cache&&ff(a,[Se],l,!0))),qe(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Ki(n){n.flags|=4}function Jf(n,a,l,c,d){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(Hy())n.flags|=8192;else throw Ca=Hc,pf}else n.flags&=-16777217}function py(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!O_(a))if(Hy())n.flags|=8192;else throw Ca=Hc,pf}function au(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?hc():536870912,n.lanes|=a,kr|=a)}function Kl(n,a){if(!It)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function ie(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(a)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=l,a}function nE(n,a,l){var c=a.pendingProps;switch(lf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(a),null;case 1:return ie(a),null;case 3:return l=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Yi(Se),ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Er(a)?Ki(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cf())),ie(a),null;case 26:var d=a.type,p=a.memoizedState;return n===null?(Ki(a),p!==null?(ie(a),py(a,p)):(ie(a),Jf(a,d,null,c,l))):p?p!==n.memoizedState?(Ki(a),ie(a),py(a,p)):(ie(a),a.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ki(a),ie(a),Jf(a,d,n,c,l)),null;case 27:if(tr(a),l=bt.current,d=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Ki(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return ie(a),null}n=ht.current,Er(a)?Kg(a):(n=T_(d,c,l),a.stateNode=n,Ki(a))}return ie(a),null;case 5:if(tr(a),d=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Ki(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return ie(a),null}if(p=ht.current,Er(a))Kg(a);else{var v=bu(bt.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?v.createElement("select",{is:c.is}):v.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?v.createElement(d,{is:c.is}):v.createElement(d)}}p[xe]=a,p[Ve]=c;t:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break t;for(;v.sibling===null;){if(v.return===null||v.return===a)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=p;t:switch(Ye(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ki(a)}}return ie(a),Jf(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,l),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&Ki(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(n=bt.current,Er(a)){if(n=a.stateNode,l=a.memoizedProps,c=null,d=He,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[xe]=a,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||f_(n.nodeValue,l)),n||Ss(a,!0)}else n=bu(n).createTextNode(c),n[xe]=a,a.stateNode=n}return ie(a),null;case 31:if(l=a.memoizedState,n===null||n.memoizedState!==null){if(c=Er(a),l!==null){if(n===null){if(!c)throw Error(s(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[xe]=a}else Ea(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ie(a),n=!1}else l=cf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return a.flags&256?(Sn(a),a):(Sn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return ie(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Er(a),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[xe]=a}else Ea(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ie(a),d=!1}else d=cf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Sn(a),a):(Sn(a),null)}return Sn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,n=n!==null&&n.memoizedState!==null,l&&(c=a.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),l!==n&&l&&(a.child.flags|=8192),au(a,a.updateQueue),ie(a),null);case 4:return ae(),n===null&&xd(a.stateNode.containerInfo),ie(a),null;case 10:return Yi(a.type),ie(a),null;case 19:if(K(pe),c=a.memoizedState,c===null)return ie(a),null;if(d=(a.flags&128)!==0,p=c.rendering,p===null)if(d)Kl(c,!1);else{if(fe!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Gc(n),p!==null){for(a.flags|=128,Kl(c,!1),n=p.updateQueue,a.updateQueue=n,au(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)qg(l,n),l=l.sibling;return ct(pe,pe.current&1|2),It&&Fi(a,c.treeForkCount),a.child}n=n.sibling}c.tail!==null&&sn()>uu&&(a.flags|=128,d=!0,Kl(c,!1),a.lanes=4194304)}else{if(!d)if(n=Gc(p),n!==null){if(a.flags|=128,d=!0,n=n.updateQueue,a.updateQueue=n,au(a,n),Kl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!It)return ie(a),null}else 2*sn()-c.renderingStartTime>uu&&l!==536870912&&(a.flags|=128,d=!0,Kl(c,!1),a.lanes=4194304);c.isBackwards?(p.sibling=a.child,a.child=p):(n=c.last,n!==null?n.sibling=p:a.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=sn(),n.sibling=null,l=pe.current,ct(pe,d?l&1|2:l&1),It&&Fi(a,c.treeForkCount),n):(ie(a),null);case 22:case 23:return Sn(a),Ef(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(ie(a),a.subtreeFlags&6&&(a.flags|=8192)):ie(a),l=a.updateQueue,l!==null&&au(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),n!==null&&K(Aa),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Yi(Se),ie(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function iE(n,a){switch(lf(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Yi(Se),ae(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return tr(a),null;case 31:if(a.memoizedState!==null){if(Sn(a),a.alternate===null)throw Error(s(340));Ea()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Sn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ea()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return K(pe),null;case 4:return ae(),null;case 10:return Yi(a.type),null;case 22:case 23:return Sn(a),Ef(),n!==null&&K(Aa),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Yi(Se),null;case 25:return null;default:return null}}function yy(n,a){switch(lf(a),a.tag){case 3:Yi(Se),ae();break;case 26:case 27:case 5:tr(a);break;case 4:ae();break;case 31:a.memoizedState!==null&&Sn(a);break;case 13:Sn(a);break;case 19:K(pe);break;case 10:Yi(a.type);break;case 22:case 23:Sn(a),Ef(),n!==null&&K(Aa);break;case 24:Yi(Se)}}function Zl(n,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&n)===n){c=void 0;var p=l.create,v=l.inst;c=p(),v.destroy=c}l=l.next}while(l!==d)}}catch(T){Xt(a,a.return,T)}}function Os(n,a,l){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var v=c.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=a;var z=l,q=T;try{q()}catch(Z){Xt(d,z,Z)}}}c=c.next}while(c!==p)}}catch(Z){Xt(a,a.return,Z)}}function _y(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{op(a,l)}catch(c){Xt(n,n.return,c)}}}function vy(n,a,l){l.props=Ma(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){Xt(n,a,c)}}function Wl(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(d){Xt(n,a,d)}}function Di(n,a){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(d){Xt(n,a,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Xt(n,a,d)}else l.current=null}function by(n){var a=n.type,l=n.memoizedProps,c=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(d){Xt(n,n.return,d)}}function td(n,a,l){try{var c=n.stateNode;AE(c,n.type,l,a),c[Ve]=a}catch(d){Xt(n,n.return,d)}}function xy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&js(n.type)||n.tag===4}function ed(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||xy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&js(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nd(n,a,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Zn));else if(c!==4&&(c===27&&js(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(nd(n,a,l),n=n.sibling;n!==null;)nd(n,a,l),n=n.sibling}function ru(n,a,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(c!==4&&(c===27&&js(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(ru(n,a,l),n=n.sibling;n!==null;)ru(n,a,l),n=n.sibling}function Ey(n){var a=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Ye(a,c,l),a[xe]=n,a[Ve]=l}catch(p){Xt(n,n.return,p)}}var Zi=!1,Ce=!1,id=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,ke=null;function sE(n,a){if(n=n.containerInfo,Sd=Cu,n=kg(n),Kh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var v=0,T=-1,z=-1,q=0,Z=0,et=n,G=null;e:for(;;){for(var Q;et!==l||d!==0&&et.nodeType!==3||(T=v+d),et!==p||c!==0&&et.nodeType!==3||(z=v+c),et.nodeType===3&&(v+=et.nodeValue.length),(Q=et.firstChild)!==null;)G=et,et=Q;for(;;){if(et===n)break e;if(G===l&&++q===d&&(T=v),G===p&&++Z===c&&(z=v),(Q=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Q}l=T===-1||z===-1?null:{start:T,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ad={focusedElem:n,selectionRange:l},Cu=!1,ke=a;ke!==null;)if(a=ke,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,ke=n;else for(;ke!==null;){switch(a=ke,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)d=n[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,l=a,d=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var ft=Ma(l.type,d);n=c.getSnapshotBeforeUpdate(ft,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(vt){Xt(l,l.return,vt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Rd(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,ke=n;break}ke=a.return}}function Sy(n,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:$i(n,l),c&4&&Zl(5,l);break;case 1:if($i(n,l),c&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(v){Xt(l,l.return,v)}else{var d=Ma(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(d,a,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(l,l.return,v)}}c&64&&_y(l),c&512&&Wl(l,l.return);break;case 3:if($i(n,l),c&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{op(n,a)}catch(v){Xt(l,l.return,v)}}break;case 27:a===null&&c&4&&Ey(l);case 26:case 5:$i(n,l),a===null&&c&4&&by(l),c&512&&Wl(l,l.return);break;case 12:$i(n,l);break;case 31:$i(n,l),c&4&&Cy(n,l);break;case 13:$i(n,l),c&4&&Ry(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=dE.bind(null,l),VE(n,l))));break;case 22:if(c=l.memoizedState!==null||Zi,!c){a=a!==null&&a.memoizedState!==null||Ce,d=Zi;var p=Ce;Zi=c,(Ce=a)&&!p?Ji(n,l,(l.subtreeFlags&8772)!==0):$i(n,l),Zi=d,Ce=p}break;case 30:break;default:$i(n,l)}}function Ay(n){var a=n.alternate;a!==null&&(n.alternate=null,Ay(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&ar(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var le=null,cn=!1;function Wi(n,a,l){for(l=l.child;l!==null;)wy(n,a,l),l=l.sibling}function wy(n,a,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Gn,l)}catch{}switch(l.tag){case 26:Ce||Di(l,a),Wi(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ce||Di(l,a);var c=le,d=cn;js(l.type)&&(le=l.stateNode,cn=!1),Wi(n,a,l),ro(l.stateNode),le=c,cn=d;break;case 5:Ce||Di(l,a);case 6:if(c=le,d=cn,le=null,Wi(n,a,l),le=c,cn=d,le!==null)if(cn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(l.stateNode)}catch(p){Xt(l,a,p)}else try{le.removeChild(l.stateNode)}catch(p){Xt(l,a,p)}break;case 18:le!==null&&(cn?(n=le,__(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Fr(n)):__(le,l.stateNode));break;case 4:c=le,d=cn,le=l.stateNode.containerInfo,cn=!0,Wi(n,a,l),le=c,cn=d;break;case 0:case 11:case 14:case 15:Os(2,l,a),Ce||Os(4,l,a),Wi(n,a,l);break;case 1:Ce||(Di(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&vy(l,a,c)),Wi(n,a,l);break;case 21:Wi(n,a,l);break;case 22:Ce=(c=Ce)||l.memoizedState!==null,Wi(n,a,l),Ce=c;break;default:Wi(n,a,l)}}function Cy(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Fr(n)}catch(l){Xt(a,a.return,l)}}}function Ry(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fr(n)}catch(l){Xt(a,a.return,l)}}function aE(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Ty),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Ty),a;default:throw Error(s(435,n.tag))}}function lu(n,a){var l=aE(n);a.forEach(function(c){if(!l.has(c)){l.add(c);var d=mE.bind(null,n,c);c.then(d,d)}})}function un(n,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c],p=n,v=a,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(js(T.type)){le=T.stateNode,cn=!1;break t}break;case 5:le=T.stateNode,cn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(le===null)throw Error(s(160));wy(p,v,d),le=null,cn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Dy(a,n),a=a.sibling}var ni=null;function Dy(n,a){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:un(a,n),hn(n),c&4&&(Os(3,n,n.return),Zl(3,n),Os(5,n,n.return));break;case 1:un(a,n),hn(n),c&512&&(Ce||l===null||Di(l,l.return)),c&64&&Zi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var d=ni;if(un(a,n),hn(n),c&512&&(Ce||l===null||Di(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){t:{c=n.type,l=n.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[gi]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),Ye(p,c,l),p[xe]=n,Ee(p),c=p;break t;case"link":var v=D_("link","href",d).get(c+(l.href||""));if(v){for(var T=0;T<v.length;T++)if(p=v[T],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(T,1);break e}}p=d.createElement(c),Ye(p,c,l),d.head.appendChild(p);break;case"meta":if(v=D_("meta","content",d).get(c+(l.content||""))){for(T=0;T<v.length;T++)if(p=v[T],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(T,1);break e}}p=d.createElement(c),Ye(p,c,l),d.head.appendChild(p);break;default:throw Error(s(468,c))}p[xe]=n,Ee(p),c=p}n.stateNode=c}else M_(d,n.type,n.stateNode);else n.stateNode=R_(d,c,n.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?M_(d,n.type,n.stateNode):R_(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&td(n,n.memoizedProps,l.memoizedProps)}break;case 27:un(a,n),hn(n),c&512&&(Ce||l===null||Di(l,l.return)),l!==null&&c&4&&td(n,n.memoizedProps,l.memoizedProps);break;case 5:if(un(a,n),hn(n),c&512&&(Ce||l===null||Di(l,l.return)),n.flags&32){d=n.stateNode;try{on(d,"")}catch(ft){Xt(n,n.return,ft)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,td(n,d,l!==null?l.memoizedProps:d)),c&1024&&(id=!0);break;case 6:if(un(a,n),hn(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(ft){Xt(n,n.return,ft)}}break;case 3:if(Tu=null,d=ni,ni=xu(a.containerInfo),un(a,n),ni=d,hn(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Fr(a.containerInfo)}catch(ft){Xt(n,n.return,ft)}id&&(id=!1,My(n));break;case 4:c=ni,ni=xu(n.stateNode.containerInfo),un(a,n),hn(n),ni=c;break;case 12:un(a,n),hn(n);break;case 31:un(a,n),hn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,lu(n,c)));break;case 13:un(a,n),hn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cu=sn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,lu(n,c)));break;case 22:d=n.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,q=Zi,Z=Ce;if(Zi=q||d,Ce=Z||z,un(a,n),Ce=Z,Zi=q,hn(n),c&8192)t:for(a=n.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(l===null||z||Zi||Ce||Oa(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(p=z.stateNode,d)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=z.stateNode;var et=z.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ft){Xt(z,z.return,ft)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=d?"":z.memoizedProps}catch(ft){Xt(z,z.return,ft)}}}else if(a.tag===18){if(l===null){z=a;try{var Q=z.stateNode;d?v_(Q,!0):v_(z.stateNode,!1)}catch(ft){Xt(z,z.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,lu(n,l))));break;case 19:un(a,n),hn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,lu(n,c)));break;case 30:break;case 21:break;default:un(a,n),hn(n)}}function hn(n){var a=n.flags;if(a&2){try{for(var l,c=n.return;c!==null;){if(xy(c)){l=c;break}c=c.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,p=ed(n);ru(n,p,d);break;case 5:var v=l.stateNode;l.flags&32&&(on(v,""),l.flags&=-33);var T=ed(n);ru(n,T,v);break;case 3:case 4:var z=l.stateNode.containerInfo,q=ed(n);nd(n,q,z);break;default:throw Error(s(161))}}catch(Z){Xt(n,n.return,Z)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function My(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;My(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function $i(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Sy(n,a.alternate,a),a=a.sibling}function Oa(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Os(4,a,a.return),Oa(a);break;case 1:Di(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&vy(a,a.return,l),Oa(a);break;case 27:ro(a.stateNode);case 26:case 5:Di(a,a.return),Oa(a);break;case 22:a.memoizedState===null&&Oa(a);break;case 30:Oa(a);break;default:Oa(a)}n=n.sibling}}function Ji(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,d=n,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ji(d,p,l),Zl(4,p);break;case 1:if(Ji(d,p,l),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Xt(c,c.return,q)}if(c=p,d=c.updateQueue,d!==null){var T=c.stateNode;try{var z=d.shared.hiddenCallbacks;if(z!==null)for(d.shared.hiddenCallbacks=null,d=0;d<z.length;d++)lp(z[d],T)}catch(q){Xt(c,c.return,q)}}l&&v&64&&_y(p),Wl(p,p.return);break;case 27:Ey(p);case 26:case 5:Ji(d,p,l),l&&c===null&&v&4&&by(p),Wl(p,p.return);break;case 12:Ji(d,p,l);break;case 31:Ji(d,p,l),l&&v&4&&Cy(d,p);break;case 13:Ji(d,p,l),l&&v&4&&Ry(d,p);break;case 22:p.memoizedState===null&&Ji(d,p,l),Wl(p,p.return);break;case 30:break;default:Ji(d,p,l)}a=a.sibling}}function sd(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ll(l))}function ad(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ll(n))}function ii(n,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Oy(n,a,l,c),a=a.sibling}function Oy(n,a,l,c){var d=a.flags;switch(a.tag){case 0:case 11:case 15:ii(n,a,l,c),d&2048&&Zl(9,a);break;case 1:ii(n,a,l,c);break;case 3:ii(n,a,l,c),d&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ll(n)));break;case 12:if(d&2048){ii(n,a,l,c),n=a.stateNode;try{var p=a.memoizedProps,v=p.id,T=p.onPostCommit;typeof T=="function"&&T(v,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(z){Xt(a,a.return,z)}}else ii(n,a,l,c);break;case 31:ii(n,a,l,c);break;case 13:ii(n,a,l,c);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?ii(n,a,l,c):$l(n,a):p._visibility&2?ii(n,a,l,c):(p._visibility|=2,Nr(n,a,l,c,(a.subtreeFlags&10256)!==0||!1)),d&2048&&sd(v,a);break;case 24:ii(n,a,l,c),d&2048&&ad(a.alternate,a);break;default:ii(n,a,l,c)}}function Nr(n,a,l,c,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,v=a,T=l,z=c,q=v.flags;switch(v.tag){case 0:case 11:case 15:Nr(p,v,T,z,d),Zl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Nr(p,v,T,z,d):$l(p,v):(Z._visibility|=2,Nr(p,v,T,z,d)),d&&q&2048&&sd(v.alternate,v);break;case 24:Nr(p,v,T,z,d),d&&q&2048&&ad(v.alternate,v);break;default:Nr(p,v,T,z,d)}a=a.sibling}}function $l(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,c=a,d=c.flags;switch(c.tag){case 22:$l(l,c),d&2048&&sd(c.alternate,c);break;case 24:$l(l,c),d&2048&&ad(c.alternate,c);break;default:$l(l,c)}a=a.sibling}}var Jl=8192;function Vr(n,a,l){if(n.subtreeFlags&Jl)for(n=n.child;n!==null;)Ny(n,a,l),n=n.sibling}function Ny(n,a,l){switch(n.tag){case 26:Vr(n,a,l),n.flags&Jl&&n.memoizedState!==null&&YE(l,ni,n.memoizedState,n.memoizedProps);break;case 5:Vr(n,a,l);break;case 3:case 4:var c=ni;ni=xu(n.stateNode.containerInfo),Vr(n,a,l),ni=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Jl,Jl=16777216,Vr(n,a,l),Jl=c):Vr(n,a,l));break;default:Vr(n,a,l)}}function Vy(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function to(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];ke=c,ky(c,n)}Vy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(n),n=n.sibling}function Iy(n){switch(n.tag){case 0:case 11:case 15:to(n),n.flags&2048&&Os(9,n,n.return);break;case 3:to(n);break;case 12:to(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,ou(n)):to(n);break;default:to(n)}}function ou(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];ke=c,ky(c,n)}Vy(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Os(8,a,a.return),ou(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ou(a));break;default:ou(a)}n=n.sibling}}function ky(n,a){for(;ke!==null;){var l=ke;switch(l.tag){case 0:case 11:case 15:Os(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ll(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ke=c;else t:for(l=n;ke!==null;){c=ke;var d=c.sibling,p=c.return;if(Ay(c),c===l){ke=null;break t}if(d!==null){d.return=p,ke=d;break t}ke=p}}}var rE={getCacheForType:function(n){var a=Fe(Se),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l},cacheSignal:function(){return Fe(Se).controller.signal}},lE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Mt=null,Nt=0,Gt=0,An=null,Ns=!1,Ir=!1,rd=!1,ts=0,fe=0,Vs=0,Na=0,ld=0,wn=0,kr=0,eo=null,fn=null,od=!1,cu=0,zy=0,uu=1/0,hu=null,Is=null,Ne=0,ks=null,zr=null,es=0,cd=0,ud=null,Ly=null,no=0,hd=null;function Cn(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:U.T!==null?yd():fc()}function jy(){if(wn===0)if((Nt&536870912)===0||It){var n=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),wn=n}else wn=536870912;return n=Tn.current,n!==null&&(n.flags|=32),wn}function dn(n,a,l){(n===Jt&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)&&(Lr(n,0),zs(n,Nt,wn,!1)),ra(n,l),((Ht&2)===0||n!==Jt)&&(n===Jt&&((Ht&2)===0&&(Na|=l),fe===4&&zs(n,Nt,wn,!1)),Mi(n))}function By(n,a,l){if((Ht&6)!==0)throw Error(s(327));var c=!l&&(a&127)===0&&(a&n.expiredLanes)===0||Xn(n,a),d=c?uE(n,a):dd(n,a,!0),p=c;do{if(d===0){Ir&&!c&&zs(n,a,0,!1);break}else{if(l=n.current.alternate,p&&!oE(l)){d=dd(n,a,!1),p=!1;continue}if(d===2){if(p=a,n.errorRecoveryDisabledLanes&p)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;t:{var T=n;d=eo;var z=T.current.memoizedState.isDehydrated;if(z&&(Lr(T,v).flags|=256),v=dd(T,v,!1),v!==2){if(rd&&!z){T.errorRecoveryDisabledLanes|=p,Na|=p,d=4;break t}p=fn,fn=d,p!==null&&(fn===null?fn=p:fn.push.apply(fn,p))}d=v}if(p=!1,d!==2)continue}}if(d===1){Lr(n,0),zs(n,a,0,!0);break}t:{switch(c=n,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:zs(c,a,wn,!Ns);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(d=cu+300-sn(),10<d)){if(zs(c,a,wn,!Ns),fi(c,0,!0)!==0)break t;es=a,c.timeoutHandle=p_(Uy.bind(null,c,l,fn,hu,od,a,wn,Na,kr,Ns,p,"Throttled",-0,0),d);break t}Uy(c,l,fn,hu,od,a,wn,Na,kr,Ns,p,null,-0,0)}}break}while(!0);Mi(n)}function Uy(n,a,l,c,d,p,v,T,z,q,Z,et,G,Q){if(n.timeoutHandle=-1,et=a.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Ny(a,p,et);var ft=(p&62914560)===p?cu-sn():(p&4194048)===p?zy-sn():0;if(ft=GE(et,ft),ft!==null){es=p,n.cancelPendingCommit=ft(Qy.bind(null,n,a,p,l,c,d,v,T,z,Z,et,null,G,Q)),zs(n,p,v,!q);return}}Qy(n,a,p,l,c,d,v,T,z)}function oE(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var d=l[c],p=d.getSnapshot;d=d.value;try{if(!xn(p(),d))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zs(n,a,l,c){a&=~ld,a&=~Na,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var d=a;0<d;){var p=31-me(d),v=1<<p;c[p]=-1,d&=~v}l!==0&&la(n,l,a)}function fu(){return(Ht&6)===0?(io(0),!1):!0}function fd(){if(Mt!==null){if(Gt===0)var n=Mt.return;else n=Mt,qi=Ta=null,Rf(n),Cr=null,Bl=0,n=Mt;for(;n!==null;)yy(n.alternate,n),n=n.return;Mt=null}}function Lr(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,RE(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),es=0,fd(),Jt=n,Mt=l=Hi(n.current,null),Nt=a,Gt=0,An=null,Ns=!1,Ir=Xn(n,a),rd=!1,kr=wn=ld=Na=Vs=fe=0,fn=eo=null,od=!1,(a&8)!==0&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var d=31-me(c),p=1<<d;a|=n[d],c&=~p}return ts=a,Vc(),l}function Py(n,a){wt=null,U.H=Xl,a===wr||a===Pc?(a=ip(),Gt=3):a===pf?(a=ip(),Gt=4):Gt=a===qf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,An=a,Mt===null&&(fe=1,eu(n,In(a,n.current)))}function Hy(){var n=Tn.current;return n===null?!0:(Nt&4194048)===Nt?jn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?n===jn:!1}function Fy(){var n=U.H;return U.H=Xl,n===null?Xl:n}function qy(){var n=U.A;return U.A=rE,n}function du(){fe=4,Ns||(Nt&4194048)!==Nt&&Tn.current!==null||(Ir=!0),(Vs&134217727)===0&&(Na&134217727)===0||Jt===null||zs(Jt,Nt,wn,!1)}function dd(n,a,l){var c=Ht;Ht|=2;var d=Fy(),p=qy();(Jt!==n||Nt!==a)&&(hu=null,Lr(n,a)),a=!1;var v=fe;t:do try{if(Gt!==0&&Mt!==null){var T=Mt,z=An;switch(Gt){case 8:fd(),v=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(a=!0);var q=Gt;if(Gt=0,An=null,jr(n,T,z,q),l&&Ir){v=0;break t}break;default:q=Gt,Gt=0,An=null,jr(n,T,z,q)}}cE(),v=fe;break}catch(Z){Py(n,Z)}while(!0);return a&&n.shellSuspendCounter++,qi=Ta=null,Ht=c,U.H=d,U.A=p,Mt===null&&(Jt=null,Nt=0,Vc()),v}function cE(){for(;Mt!==null;)Yy(Mt)}function uE(n,a){var l=Ht;Ht|=2;var c=Fy(),d=qy();Jt!==n||Nt!==a?(hu=null,uu=sn()+500,Lr(n,a)):Ir=Xn(n,a);t:do try{if(Gt!==0&&Mt!==null){a=Mt;var p=An;e:switch(Gt){case 1:Gt=0,An=null,jr(n,a,p,1);break;case 2:case 9:if(ep(p)){Gt=0,An=null,Gy(a);break}a=function(){Gt!==2&&Gt!==9||Jt!==n||(Gt=7),Mi(n)},p.then(a,a);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ep(p)?(Gt=0,An=null,Gy(a)):(Gt=0,An=null,jr(n,a,p,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var T=Mt;if(v?O_(v):T.stateNode.complete){Gt=0,An=null;var z=T.sibling;if(z!==null)Mt=z;else{var q=T.return;q!==null?(Mt=q,mu(q)):Mt=null}break e}}Gt=0,An=null,jr(n,a,p,5);break;case 6:Gt=0,An=null,jr(n,a,p,6);break;case 8:fd(),fe=6;break t;default:throw Error(s(462))}}hE();break}catch(Z){Py(n,Z)}while(!0);return qi=Ta=null,U.H=c,U.A=d,Ht=l,Mt!==null?0:(Jt=null,Nt=0,Vc(),fe)}function hE(){for(;Mt!==null&&!Hh();)Yy(Mt)}function Yy(n){var a=gy(n.alternate,n,ts);n.memoizedProps=n.pendingProps,a===null?mu(n):Mt=a}function Gy(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=cy(l,a,a.pendingProps,a.type,void 0,Nt);break;case 11:a=cy(l,a,a.pendingProps,a.type.render,a.ref,Nt);break;case 5:Rf(a);default:yy(l,a),a=Mt=qg(a,ts),a=gy(l,a,ts)}n.memoizedProps=n.pendingProps,a===null?mu(n):Mt=a}function jr(n,a,l,c){qi=Ta=null,Rf(a),Cr=null,Bl=0;var d=a.return;try{if(Jx(n,d,a,l,Nt)){fe=1,eu(n,In(l,n.current)),Mt=null;return}}catch(p){if(d!==null)throw Mt=d,p;fe=1,eu(n,In(l,n.current)),Mt=null;return}a.flags&32768?(It||c===1?n=!0:Ir||(Nt&536870912)!==0?n=!1:(Ns=n=!0,(c===2||c===9||c===3||c===6)&&(c=Tn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Xy(a,n)):mu(a)}function mu(n){var a=n;do{if((a.flags&32768)!==0){Xy(a,Ns);return}n=a.return;var l=nE(a.alternate,a,ts);if(l!==null){Mt=l;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=n}while(a!==null);fe===0&&(fe=5)}function Xy(n,a){do{var l=iE(n.alternate,n);if(l!==null){l.flags&=32767,Mt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Mt=n;return}Mt=n=l}while(n!==null);fe=6,Mt=null}function Qy(n,a,l,c,d,p,v,T,z){n.cancelPendingCommit=null;do gu();while(Ne!==0);if((Ht&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=tf,Yh(n,l,p,v,T,z),n===Jt&&(Mt=Jt=null,Nt=0),zr=a,ks=n,es=l,cd=p,ud=d,Ly=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gE(fs,function(){return Jy(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,d=tt.p,tt.p=2,v=Ht,Ht|=4;try{sE(n,a,l)}finally{Ht=v,tt.p=d,U.T=c}}Ne=1,Ky(),Zy(),Wy()}}function Ky(){if(Ne===1){Ne=0;var n=ks,a=zr,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var c=tt.p;tt.p=2;var d=Ht;Ht|=4;try{Dy(a,n);var p=Ad,v=kg(n.containerInfo),T=p.focusedElem,z=p.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ig(T.ownerDocument.documentElement,T)){if(z!==null&&Kh(T)){var q=z.start,Z=z.end;if(Z===void 0&&(Z=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Z,T.value.length);else{var et=T.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ft=T.textContent.length,vt=Math.min(z.start,ft),$t=z.end===void 0?vt:Math.min(z.end,ft);!Q.extend&&vt>$t&&(v=$t,$t=vt,vt=v);var P=Vg(T,vt),B=Vg(T,$t);if(P&&B&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var F=et.createRange();F.setStart(P.node,P.offset),Q.removeAllRanges(),vt>$t?(Q.addRange(F),Q.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),Q.addRange(F))}}}}for(et=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<et.length;T++){var J=et[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Cu=!!Sd,Ad=Sd=null}finally{Ht=d,tt.p=c,U.T=l}}n.current=a,Ne=2}}function Zy(){if(Ne===2){Ne=0;var n=ks,a=zr,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var c=tt.p;tt.p=2;var d=Ht;Ht|=4;try{Sy(n,a.alternate,a)}finally{Ht=d,tt.p=c,U.T=l}}Ne=3}}function Wy(){if(Ne===4||Ne===3){Ne=0,ac();var n=ks,a=zr,l=es,c=Ly;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ne=5:(Ne=0,zr=ks=null,$y(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Is=null),ji(l),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Gn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=U.T,d=tt.p,tt.p=2,U.T=null;try{for(var p=n.onRecoverableError,v=0;v<c.length;v++){var T=c[v];p(T.value,{componentStack:T.stack})}}finally{U.T=a,tt.p=d}}(es&3)!==0&&gu(),Mi(n),d=n.pendingLanes,(l&261930)!==0&&(d&42)!==0?n===hd?no++:(no=0,hd=n):no=0,io(0)}}function $y(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Ll(a)))}function gu(){return Ky(),Zy(),Wy(),Jy()}function Jy(){if(Ne!==5)return!1;var n=ks,a=cd;cd=0;var l=ji(es),c=U.T,d=tt.p;try{tt.p=32>l?32:l,U.T=null,l=ud,ud=null;var p=ks,v=es;if(Ne=0,zr=ks=null,es=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,Iy(p.current),Oy(p,p.current,v,l),Ht=T,io(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Gn,p)}catch{}return!0}finally{tt.p=d,U.T=c,$y(n,a)}}function t_(n,a,l){a=In(l,a),a=Ff(n.stateNode,a,2),n=Rs(n,a,2),n!==null&&(ra(n,2),Mi(n))}function Xt(n,a,l){if(n.tag===3)t_(n,n,l);else for(;a!==null;){if(a.tag===3){t_(a,n,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Is===null||!Is.has(c))){n=In(l,n),l=ey(2),c=Rs(a,l,2),c!==null&&(ny(l,c,a,n),ra(c,2),Mi(c));break}}a=a.return}}function md(n,a,l){var c=n.pingCache;if(c===null){c=n.pingCache=new lE;var d=new Set;c.set(a,d)}else d=c.get(a),d===void 0&&(d=new Set,c.set(a,d));d.has(l)||(rd=!0,d.add(l),n=fE.bind(null,n,a,l),a.then(n,n))}function fE(n,a,l){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Jt===n&&(Nt&l)===l&&(fe===4||fe===3&&(Nt&62914560)===Nt&&300>sn()-cu?(Ht&2)===0&&Lr(n,0):ld|=l,kr===Nt&&(kr=0)),Mi(n)}function e_(n,a){a===0&&(a=hc()),n=ba(n,a),n!==null&&(ra(n,a),Mi(n))}function dE(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),e_(n,l)}function mE(n,a){var l=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),e_(n,l)}function gE(n,a){return Oe(n,a)}var pu=null,Br=null,gd=!1,yu=!1,pd=!1,Ls=0;function Mi(n){n!==Br&&n.next===null&&(Br===null?pu=Br=n:Br=Br.next=n),yu=!0,gd||(gd=!0,yE())}function io(n,a){if(!pd&&yu){pd=!0;do for(var l=!1,c=pu;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var v=c.suspendedLanes,T=c.pingedLanes;p=(1<<31-me(42|n)+1)-1,p&=d&~(v&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,a_(c,p))}else p=Nt,p=fi(c,c===Jt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Xn(c,p)||(l=!0,a_(c,p));c=c.next}while(l);pd=!1}}function pE(){n_()}function n_(){yu=gd=!1;var n=0;Ls!==0&&CE()&&(n=Ls);for(var a=sn(),l=null,c=pu;c!==null;){var d=c.next,p=i_(c,a);p===0?(c.next=null,l===null?pu=d:l.next=d,d===null&&(Br=l)):(l=c,(n!==0||(p&3)!==0)&&(yu=!0)),c=d}Ne!==0&&Ne!==5||io(n),Ls!==0&&(Ls=0)}function i_(n,a){for(var l=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var v=31-me(p),T=1<<v,z=d[v];z===-1?((T&l)===0||(T&c)!==0)&&(d[v]=qh(T,a)):z<=a&&(n.expiredLanes|=T),p&=~T}if(a=Jt,l=Nt,l=fi(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===a&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&hs(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Xn(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(c!==null&&hs(c),ji(l)){case 2:case 8:l=dl;break;case 32:l=fs;break;case 268435456:l=rc;break;default:l=fs}return c=s_.bind(null,n),l=Oe(l,c),n.callbackPriority=a,n.callbackNode=l,a}return c!==null&&c!==null&&hs(c),n.callbackPriority=2,n.callbackNode=null,2}function s_(n,a){if(Ne!==0&&Ne!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(gu()&&n.callbackNode!==l)return null;var c=Nt;return c=fi(n,n===Jt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(By(n,c,a),i_(n,sn()),n.callbackNode!=null&&n.callbackNode===l?s_.bind(null,n):null)}function a_(n,a){if(gu())return null;By(n,a,!0)}function yE(){DE(function(){(Ht&6)!==0?Oe(fl,pE):n_()})}function yd(){if(Ls===0){var n=Sr;n===0&&(n=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Ls=n}return Ls}function r_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:cr(""+n)}function l_(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function _E(n,a,l,c,d){if(a==="submit"&&l&&l.stateNode===d){var p=r_((d[Ve]||null).action),v=c.submitter;v&&(a=(a=v[Ve]||null)?r_(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var T=new Ti("action","action",null,c,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ls!==0){var z=v?l_(d,v):new FormData(d);Lf(l,{pending:!0,data:z,method:d.method,action:p},null,z)}}else typeof p=="function"&&(T.preventDefault(),z=v?l_(d,v):new FormData(d),Lf(l,{pending:!0,data:z,method:d.method,action:p},p,z))},currentTarget:d}]})}}for(var _d=0;_d<Jh.length;_d++){var vd=Jh[_d],vE=vd.toLowerCase(),bE=vd[0].toUpperCase()+vd.slice(1);ei(vE,"on"+bE)}ei(jg,"onAnimationEnd"),ei(Bg,"onAnimationIteration"),ei(Ug,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(zx,"onTransitionRun"),ei(Lx,"onTransitionStart"),ei(jx,"onTransitionCancel"),ei(Pg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function o_(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],d=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var v=c.length-1;0<=v;v--){var T=c[v],z=T.instance,q=T.currentTarget;if(T=T.listener,z!==p&&d.isPropagationStopped())break t;p=T,d.currentTarget=q;try{p(d)}catch(Z){Nc(Z)}d.currentTarget=null,p=z}else for(v=0;v<c.length;v++){if(T=c[v],z=T.instance,q=T.currentTarget,T=T.listener,z!==p&&d.isPropagationStopped())break t;p=T,d.currentTarget=q;try{p(d)}catch(Z){Nc(Z)}d.currentTarget=null,p=z}}}}function Ot(n,a){var l=a[sr];l===void 0&&(l=a[sr]=new Set);var c=n+"__bubble";l.has(c)||(c_(a,n,2,!1),l.add(c))}function bd(n,a,l){var c=0;a&&(c|=4),c_(l,n,c,a)}var _u="_reactListening"+Math.random().toString(36).slice(2);function xd(n){if(!n[_u]){n[_u]=!0,pl.forEach(function(l){l!=="selectionchange"&&(xE.has(l)||bd(l,!1,n),bd(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[_u]||(a[_u]=!0,bd("selectionchange",!1,a))}}function c_(n,a,l,c){switch(j_(a)){case 2:var d=KE;break;case 8:d=ZE;break;default:d=zd}l=d.bind(null,a,l,n),d=void 0,!fa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(a,l,{capture:!0,passive:d}):n.addEventListener(a,l,!0):d!==void 0?n.addEventListener(a,l,{passive:d}):n.addEventListener(a,l,!1)}function Ed(n,a,l,c,d){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var T=c.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=c.return;v!==null;){var z=v.tag;if((z===3||z===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(z=v.tag,z===5||z===6||z===26||z===27){c=p=v;continue t}T=T.parentNode}}c=c.return}_s(function(){var q=p,Z=Mn(l),et=[];t:{var G=Hg.get(n);if(G!==void 0){var Q=Ti,ft=n;switch(n){case"keypress":if(ma(l)===0)break t;case"keydown":case"keyup":Q=Dc;break;case"focusin":ft="focus",Q=pa;break;case"focusout":ft="blur",Q=pa;break;case"beforeblur":case"afterblur":Q=pa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case jg:case Bg:case Ug:Q=Ec;break;case Pg:Q=S;break;case"scroll":case"scrollend":Q=Rl;break;case"wheel":Q=X;break;case"copy":case"cut":case"paste":Q=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Pi;break;case"toggle":case"beforetoggle":Q=At}var vt=(a&4)!==0,$t=!vt&&(n==="scroll"||n==="scrollend"),P=vt?G!==null?G+"Capture":null:G;vt=[];for(var B=q,F;B!==null;){var J=B;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||P===null||(J=Wn(B,P),J!=null&&vt.push(ao(B,J,F))),$t)break;B=B.return}0<vt.length&&(G=new Q(G,ft,null,l,Z),et.push({event:G,listeners:vt}))}}if((a&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",G&&l!==Al&&(ft=l.relatedTarget||l.fromElement)&&(pi(ft)||ft[mi]))break t;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ft=l.relatedTarget||l.toElement,Q=q,ft=ft?pi(ft):null,ft!==null&&($t=o(ft),vt=ft.tag,ft!==$t||vt!==5&&vt!==27&&vt!==6)&&(ft=null)):(Q=null,ft=q),Q!==ft)){if(vt=Dl,J="onMouseLeave",P="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(vt=Pi,J="onPointerLeave",P="onPointerEnter",B="pointer"),$t=Q==null?G:vn(Q),F=ft==null?G:vn(ft),G=new vt(J,B+"leave",Q,l,Z),G.target=$t,G.relatedTarget=F,J=null,pi(Z)===q&&(vt=new vt(P,B+"enter",ft,l,Z),vt.target=F,vt.relatedTarget=$t,J=vt),$t=J,Q&&ft)e:{for(vt=EE,P=Q,B=ft,F=0,J=P;J;J=vt(J))F++;J=0;for(var pt=B;pt;pt=vt(pt))J++;for(;0<F-J;)P=vt(P),F--;for(;0<J-F;)B=vt(B),J--;for(;F--;){if(P===B||B!==null&&P===B.alternate){vt=P;break e}P=vt(P),B=vt(B)}vt=null}else vt=null;Q!==null&&u_(et,G,Q,vt,!1),ft!==null&&$t!==null&&u_(et,$t,ft,vt,!0)}}t:{if(G=q?vn(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Bt=Cg;else if(Ag(G))if(Rg)Bt=Vx;else{Bt=Ox;var mt=Mx}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&or(q.elementType)&&(Bt=Cg):Bt=Nx;if(Bt&&(Bt=Bt(n,q))){wg(et,Bt,l,Z);break t}mt&&mt(n,G,q),n==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&El(G,"number",G.value)}switch(mt=q?vn(q):window,n){case"focusin":(Ag(mt)||mt.contentEditable==="true")&&(pr=mt,Zh=q,Il=null);break;case"focusout":Il=Zh=pr=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,zg(et,l,Z);break;case"selectionchange":if(kx)break;case"keydown":case"keyup":zg(et,l,Z)}var Ct;if(Pt)t:{switch(n){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else gr?ya(n,l)&&(Vt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Vt="onCompositionStart");Vt&&(wi&&l.locale!=="ko"&&(gr||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&gr&&(Ct=Cl()):(Ei=Z,wl="value"in Ei?Ei.value:Ei.textContent,gr=!0)),mt=vu(q,Vt),0<mt.length&&(Vt=new Ai(Vt,n,null,l,Z),et.push({event:Vt,listeners:mt}),Ct?Vt.data=Ct:(Ct=mr(l),Ct!==null&&(Vt.data=Ct)))),(Ct=Nn?wx(n,l):Cx(n,l))&&(Vt=vu(q,"onBeforeInput"),0<Vt.length&&(mt=new Ai("onBeforeInput","beforeinput",null,l,Z),et.push({event:mt,listeners:Vt}),mt.data=Ct)),_E(et,n,q,l,Z)}o_(et,a)})}function ao(n,a,l){return{instance:n,listener:a,currentTarget:l}}function vu(n,a){for(var l=a+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Wn(n,l),d!=null&&c.unshift(ao(n,d,p)),d=Wn(n,a),d!=null&&c.push(ao(n,d,p))),n.tag===3)return c;n=n.return}return[]}function EE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function u_(n,a,l,c,d){for(var p=a._reactName,v=[];l!==null&&l!==c;){var T=l,z=T.alternate,q=T.stateNode;if(T=T.tag,z!==null&&z===c)break;T!==5&&T!==26&&T!==27||q===null||(z=q,d?(q=Wn(l,p),q!=null&&v.unshift(ao(l,q,z))):d||(q=Wn(l,p),q!=null&&v.push(ao(l,q,z)))),l=l.return}v.length!==0&&n.push({event:a,listeners:v})}var TE=/\r\n?/g,SE=/\u0000|\uFFFD/g;function h_(n){return(typeof n=="string"?n:""+n).replace(TE,`
`).replace(SE,"")}function f_(n,a){return a=h_(a),h_(n)===a}function Wt(n,a,l,c,d,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||on(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&on(n,""+c);break;case"className":bn(n,"class",c);break;case"tabIndex":bn(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(n,l,c);break;case"style":Sl(n,c,p);break;case"data":if(a!=="object"){bn(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=cr(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&Wt(n,a,"name",d.name,d,null),Wt(n,a,"formEncType",d.formEncType,d,null),Wt(n,a,"formMethod",d.formMethod,d,null),Wt(n,a,"formTarget",d.formTarget,d,null)):(Wt(n,a,"encType",d.encType,d,null),Wt(n,a,"method",d.method,d,null),Wt(n,a,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=cr(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=Zn);break;case"onScroll":c!=null&&Ot("scroll",n);break;case"onScrollEnd":c!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=cr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),rr(n,"popover",c);break;case"xlinkActuate":Te(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Te(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Te(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Te(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Te(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Te(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Te(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Te(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Te(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":rr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vc.get(l)||l,rr(n,l,c))}}function Td(n,a,l,c,d,p){switch(l){case"style":Sl(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof c=="string"?on(n,c):(typeof c=="number"||typeof c=="bigint")&&on(n,""+c);break;case"onScroll":c!=null&&Ot("scroll",n);break;case"onScrollEnd":c!=null&&Ot("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),a=l.slice(2,d?l.length-7:void 0),p=n[Ve]||null,p=p!=null?p[l]:null,typeof p=="function"&&n.removeEventListener(a,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,c,d);break t}l in n?n[l]=c:c===!0?n.setAttribute(l,""):rr(n,l,c)}}}function Ye(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var c=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var v=l[p];if(v!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Wt(n,a,p,v,l,null)}}d&&Wt(n,a,"srcSet",l.srcSet,l,null),c&&Wt(n,a,"src",l.src,l,null);return;case"input":Ot("invalid",n);var T=p=v=d=null,z=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":d=Z;break;case"type":v=Z;break;case"checked":z=Z;break;case"defaultChecked":q=Z;break;case"value":p=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,a));break;default:Wt(n,a,c,Z,l,null)}}pc(n,p,T,z,q,v,d,!1);return;case"select":Ot("invalid",n),c=v=p=null;for(d in l)if(l.hasOwnProperty(d)&&(T=l[d],T!=null))switch(d){case"value":p=T;break;case"defaultValue":v=T;break;case"multiple":c=T;default:Wt(n,a,d,T,l,null)}a=p,l=v,n.multiple=!!c,a!=null?ms(n,!!c,a,!1):l!=null&&ms(n,!!c,l,!0);return;case"textarea":Ot("invalid",n),p=d=c=null;for(v in l)if(l.hasOwnProperty(v)&&(T=l[v],T!=null))switch(v){case"value":c=T;break;case"defaultValue":d=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(n,a,v,T,l,null)}gs(n,c,d,p);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Wt(n,a,z,c,l,null)}return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(c=0;c<so.length;c++)Ot(so[c],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Wt(n,a,q,c,l,null)}return;default:if(or(a)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&Td(n,a,Z,c,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(c=l[T],c!=null&&Wt(n,a,T,c,l,null))}function AE(n,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,v=null,T=null,z=null,q=null,Z=null;for(Q in l){var et=l[Q];if(l.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":z=et;default:c.hasOwnProperty(Q)||Wt(n,a,Q,null,c,et)}}for(var G in c){var Q=c[G];if(et=l[G],c.hasOwnProperty(G)&&(Q!=null||et!=null))switch(G){case"type":p=Q;break;case"name":d=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,a));break;default:Q!==et&&Wt(n,a,G,Q,c,et)}}lr(n,v,T,z,q,Z,p,d);return;case"select":Q=v=T=G=null;for(p in l)if(z=l[p],l.hasOwnProperty(p)&&z!=null)switch(p){case"value":break;case"multiple":Q=z;default:c.hasOwnProperty(p)||Wt(n,a,p,null,c,z)}for(d in c)if(p=c[d],z=l[d],c.hasOwnProperty(d)&&(p!=null||z!=null))switch(d){case"value":G=p;break;case"defaultValue":T=p;break;case"multiple":v=p;default:p!==z&&Wt(n,a,d,p,c,z)}a=T,l=v,c=Q,G!=null?ms(n,!!l,G,!1):!!c!=!!l&&(a!=null?ms(n,!!l,a,!0):ms(n,!!l,l?[]:"",!1));return;case"textarea":Q=G=null;for(T in l)if(d=l[T],l.hasOwnProperty(T)&&d!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(n,a,T,null,c,d)}for(v in c)if(d=c[v],p=l[v],c.hasOwnProperty(v)&&(d!=null||p!=null))switch(v){case"value":G=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&Wt(n,a,v,d,c,p)}yc(n,G,Q);return;case"option":for(var ft in l)if(G=l[ft],l.hasOwnProperty(ft)&&G!=null&&!c.hasOwnProperty(ft))switch(ft){case"selected":n.selected=!1;break;default:Wt(n,a,ft,null,c,G)}for(z in c)if(G=c[z],Q=l[z],c.hasOwnProperty(z)&&G!==Q&&(G!=null||Q!=null))switch(z){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Wt(n,a,z,G,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)G=l[vt],l.hasOwnProperty(vt)&&G!=null&&!c.hasOwnProperty(vt)&&Wt(n,a,vt,null,c,G);for(q in c)if(G=c[q],Q=l[q],c.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,a));break;default:Wt(n,a,q,G,c,Q)}return;default:if(or(a)){for(var $t in l)G=l[$t],l.hasOwnProperty($t)&&G!==void 0&&!c.hasOwnProperty($t)&&Td(n,a,$t,void 0,c,G);for(Z in c)G=c[Z],Q=l[Z],!c.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||Td(n,a,Z,G,c,Q);return}}for(var P in l)G=l[P],l.hasOwnProperty(P)&&G!=null&&!c.hasOwnProperty(P)&&Wt(n,a,P,null,c,G);for(et in c)G=c[et],Q=l[et],!c.hasOwnProperty(et)||G===Q||G==null&&Q==null||Wt(n,a,et,G,c,Q)}function d_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var d=l[c],p=d.transferSize,v=d.initiatorType,T=d.duration;if(p&&T&&d_(v)){for(v=0,T=d.responseEnd,c+=1;c<l.length;c++){var z=l[c],q=z.startTime;if(q>T)break;var Z=z.transferSize,et=z.initiatorType;Z&&d_(et)&&(z=z.responseEnd,v+=Z*(z<T?1:(T-q)/(z-q)))}if(--c,a+=8*(p+v)/(d.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sd=null,Ad=null;function bu(n){return n.nodeType===9?n:n.ownerDocument}function m_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function wd(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cd=null;function CE(){var n=window.event;return n&&n.type==="popstate"?n===Cd?!1:(Cd=n,!0):(Cd=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,RE=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(n){return y_.resolve(null).then(n).catch(ME)}:p_;function ME(n){setTimeout(function(){throw n})}function js(n){return n==="head"}function __(n,a){var l=a,c=0;do{var d=l.nextSibling;if(n.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(c===0){n.removeChild(d),Fr(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")ro(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,ro(l);for(var p=l.firstChild;p;){var v=p.nextSibling,T=p.nodeName;p[gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=v}}else l==="body"&&ro(n.ownerDocument.body);l=d}while(l);Fr(a)}function v_(n,a){var l=n;n=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=c}while(l)}function Rd(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rd(l),ar(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function OE(n,a,l,c){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[gi])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Bn(n.nextSibling),n===null)break}return null}function NE(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Bn(n.nextSibling),n===null))return null;return n}function b_(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Bn(n.nextSibling),n===null))return null;return n}function Dd(n){return n.data==="$?"||n.data==="$~"}function Md(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function VE(n,a){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Bn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Od=null;function x_(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(a===0)return Bn(n.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}n=n.nextSibling}return null}function E_(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return n;a--}else l!=="/$"&&l!=="/&"||a++}n=n.previousSibling}return null}function T_(n,a,l){switch(a=bu(l),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function ro(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);ar(n)}var Un=new Map,S_=new Set;function xu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ns=tt.d;tt.d={f:IE,r:kE,D:zE,C:LE,L:jE,m:BE,X:PE,S:UE,M:HE};function IE(){var n=ns.f(),a=fu();return n||a}function kE(n){var a=Dn(n);a!==null&&a.tag===5&&a.type==="form"?Pp(a):ns.r(n)}var Ur=typeof document>"u"?null:document;function A_(n,a,l){var c=Ur;if(c&&typeof a=="string"&&a){var d=ln(a);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),S_.has(d)||(S_.add(d),n={rel:n,crossOrigin:l,href:a},c.querySelector(d)===null&&(a=c.createElement("link"),Ye(a,"link",n),Ee(a),c.head.appendChild(a)))}}function zE(n){ns.D(n),A_("dns-prefetch",n,null)}function LE(n,a){ns.C(n,a),A_("preconnect",n,a)}function jE(n,a,l){ns.L(n,a,l);var c=Ur;if(c&&n&&a){var d='link[rel="preload"][as="'+ln(a)+'"]';a==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+ln(l.imageSizes)+'"]')):d+='[href="'+ln(n)+'"]';var p=d;switch(a){case"style":p=Pr(n);break;case"script":p=Hr(n)}Un.has(p)||(n=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),Un.set(p,n),c.querySelector(d)!==null||a==="style"&&c.querySelector(lo(p))||a==="script"&&c.querySelector(oo(p))||(a=c.createElement("link"),Ye(a,"link",n),Ee(a),c.head.appendChild(a)))}}function BE(n,a){ns.m(n,a);var l=Ur;if(l&&n){var c=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+ln(c)+'"][href="'+ln(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Hr(n)}if(!Un.has(p)&&(n=b({rel:"modulepreload",href:n},a),Un.set(p,n),l.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(oo(p)))return}c=l.createElement("link"),Ye(c,"link",n),Ee(c),l.head.appendChild(c)}}}function UE(n,a,l){ns.S(n,a,l);var c=Ur;if(c&&n){var d=yi(c).hoistableStyles,p=Pr(n);a=a||"default";var v=d.get(p);if(!v){var T={loading:0,preload:null};if(v=c.querySelector(lo(p)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},l),(l=Un.get(p))&&Nd(n,l);var z=v=c.createElement("link");Ee(z),Ye(z,"link",n),z._p=new Promise(function(q,Z){z.onload=q,z.onerror=Z}),z.addEventListener("load",function(){T.loading|=1}),z.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Eu(v,a,c)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(p,v)}}}function PE(n,a){ns.X(n,a);var l=Ur;if(l&&n){var c=yi(l).hoistableScripts,d=Hr(n),p=c.get(d);p||(p=l.querySelector(oo(d)),p||(n=b({src:n,async:!0},a),(a=Un.get(d))&&Vd(n,a),p=l.createElement("script"),Ee(p),Ye(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function HE(n,a){ns.M(n,a);var l=Ur;if(l&&n){var c=yi(l).hoistableScripts,d=Hr(n),p=c.get(d);p||(p=l.querySelector(oo(d)),p||(n=b({src:n,async:!0,type:"module"},a),(a=Un.get(d))&&Vd(n,a),p=l.createElement("script"),Ee(p),Ye(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function w_(n,a,l,c){var d=(d=bt.current)?xu(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Pr(l.href),l=yi(d).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Pr(l.href);var p=yi(d).hoistableStyles,v=p.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,v),(p=d.querySelector(lo(n)))&&!p._p&&(v.instance=p,v.state.loading=5),Un.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Un.set(n,l),p||FE(d,n,l,v.state))),a&&c===null)throw Error(s(528,""));return v}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Hr(l),l=yi(d).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Pr(n){return'href="'+ln(n)+'"'}function lo(n){return'link[rel="stylesheet"]['+n+"]"}function C_(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function FE(n,a,l,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Ye(a,"link",l),Ee(a),n.head.appendChild(a))}function Hr(n){return'[src="'+ln(n)+'"]'}function oo(n){return"script[async]"+n}function R_(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+ln(l.href)+'"]');if(c)return a.instance=c,Ee(c),c;var d=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ee(c),Ye(c,"style",d),Eu(c,l.precedence,n),a.instance=c;case"stylesheet":d=Pr(l.href);var p=n.querySelector(lo(d));if(p)return a.state.loading|=4,a.instance=p,Ee(p),p;c=C_(l),(d=Un.get(d))&&Nd(c,d),p=(n.ownerDocument||n).createElement("link"),Ee(p);var v=p;return v._p=new Promise(function(T,z){v.onload=T,v.onerror=z}),Ye(p,"link",c),a.state.loading|=4,Eu(p,l.precedence,n),a.instance=p;case"script":return p=Hr(l.src),(d=n.querySelector(oo(p)))?(a.instance=d,Ee(d),d):(c=l,(d=Un.get(p))&&(c=b({},l),Vd(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Ee(d),Ye(d,"link",c),n.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Eu(c,l.precedence,n));return a.instance}function Eu(n,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,v=0;v<c.length;v++){var T=c[v];if(T.dataset.precedence===a)p=T;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function Nd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Vd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Tu=null;function D_(n,a,l){if(Tu===null){var c=new Map,d=Tu=new Map;d.set(l,c)}else d=Tu,c=d.get(l),c||(c=new Map,d.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var p=l[d];if(!(p[gi]||p[xe]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=n+v;var T=c.get(v);T?T.push(p):c.set(v,[p])}}return c}function M_(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function qE(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function O_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function YE(n,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Pr(c.href),p=a.querySelector(lo(d));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Su.bind(n),a.then(n,n)),l.state.loading|=4,l.instance=p,Ee(p);return}p=a.ownerDocument||a,c=C_(c),(d=Un.get(d))&&Nd(c,d),p=p.createElement("link"),Ee(p);var v=p;v._p=new Promise(function(T,z){v.onload=T,v.onerror=z}),Ye(p,"link",c),l.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Su.bind(n),a.addEventListener("load",l),a.addEventListener("error",l))}}var Id=0;function GE(n,a){return n.stylesheets&&n.count===0&&wu(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var c=setTimeout(function(){if(n.stylesheets&&wu(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Id===0&&(Id=62500*wE());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&wu(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Id?50:800)+a);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Au=null;function wu(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Au=new Map,a.forEach(XE,n),Au=null,Su.call(n))}function XE(n,a){if(!(a.state.loading&4)){var l=Au.get(n);if(l)var c=l.get(null);else{l=new Map,Au.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var v=d[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),c=v)}c&&l.set(null,c)}d=a.instance,v=d.getAttribute("data-precedence"),p=l.get(v)||c,p===c&&l.set(null,d),l.set(v,d),this.count++,c=Su.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),a.state.loading|=4}}var co={$$typeof:W,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function QE(n,a,l,c,d,p,v,T,z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function N_(n,a,l,c,d,p,v,T,z,q,Z,et){return n=new QE(n,a,l,v,z,q,Z,et,T),a=1,p===!0&&(a|=24),p=En(3,null,null,a),n.current=p,p.stateNode=n,a=df(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},yf(p),n}function V_(n){return n?(n=vr,n):vr}function I_(n,a,l,c,d,p){d=V_(d),c.context===null?c.context=d:c.pendingContext=d,c=Cs(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Rs(n,c,a),l!==null&&(dn(l,n,a),Pl(l,n,a))}function k_(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function kd(n,a){k_(n,a),(n=n.alternate)&&k_(n,a)}function z_(n){if(n.tag===13||n.tag===31){var a=ba(n,67108864);a!==null&&dn(a,n,67108864),kd(n,67108864)}}function L_(n){if(n.tag===13||n.tag===31){var a=Cn();a=oa(a);var l=ba(n,a);l!==null&&dn(l,n,a),kd(n,a)}}var Cu=!0;function KE(n,a,l,c){var d=U.T;U.T=null;var p=tt.p;try{tt.p=2,zd(n,a,l,c)}finally{tt.p=p,U.T=d}}function ZE(n,a,l,c){var d=U.T;U.T=null;var p=tt.p;try{tt.p=8,zd(n,a,l,c)}finally{tt.p=p,U.T=d}}function zd(n,a,l,c){if(Cu){var d=Ld(c);if(d===null)Ed(n,a,c,Ru,l),B_(n,c);else if($E(d,n,a,l,c))c.stopPropagation();else if(B_(n,c),a&4&&-1<WE.indexOf(n)){for(;d!==null;){var p=Dn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=hi(p.pendingLanes);if(v!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var z=1<<31-me(v);T.entanglements[1]|=z,v&=~z}Mi(p),(Ht&6)===0&&(uu=sn()+500,io(0))}}break;case 31:case 13:T=ba(p,2),T!==null&&dn(T,p,2),fu(),kd(p,2)}if(p=Ld(c),p===null&&Ed(n,a,c,Ru,l),p===d)break;d=p}d!==null&&c.stopPropagation()}else Ed(n,a,c,null,l)}}function Ld(n){return n=Mn(n),jd(n)}var Ru=null;function jd(n){if(Ru=null,n=pi(n),n!==null){var a=o(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=u(a),n!==null)return n;n=null}else if(l===31){if(n=f(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Ru=n,null}function j_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case fl:return 2;case dl:return 8;case fs:case Fh:return 32;case rc:return 268435456;default:return 32}default:return 32}}var Bd=!1,Bs=null,Us=null,Ps=null,uo=new Map,ho=new Map,Hs=[],WE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(n,a){switch(n){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":uo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(a.pointerId)}}function fo(n,a,l,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},a!==null&&(a=Dn(a),a!==null&&z_(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),n)}function $E(n,a,l,c,d){switch(a){case"focusin":return Bs=fo(Bs,n,a,l,c,d),!0;case"dragenter":return Us=fo(Us,n,a,l,c,d),!0;case"mouseover":return Ps=fo(Ps,n,a,l,c,d),!0;case"pointerover":var p=d.pointerId;return uo.set(p,fo(uo.get(p)||null,n,a,l,c,d)),!0;case"gotpointercapture":return p=d.pointerId,ho.set(p,fo(ho.get(p)||null,n,a,l,c,d)),!0}return!1}function U_(n){var a=pi(n.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){n.blockedOn=a,Qn(n.priority,function(){L_(l)});return}}else if(a===31){if(a=f(l),a!==null){n.blockedOn=a,Qn(n.priority,function(){L_(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Du(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Ld(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Al=c,l.target.dispatchEvent(c),Al=null}else return a=Dn(l),a!==null&&z_(a),n.blockedOn=l,!1;a.shift()}return!0}function P_(n,a,l){Du(n)&&l.delete(a)}function JE(){Bd=!1,Bs!==null&&Du(Bs)&&(Bs=null),Us!==null&&Du(Us)&&(Us=null),Ps!==null&&Du(Ps)&&(Ps=null),uo.forEach(P_),ho.forEach(P_)}function Mu(n,a){n.blockedOn===a&&(n.blockedOn=null,Bd||(Bd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,JE)))}var Ou=null;function H_(n){Ou!==n&&(Ou=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ou===n&&(Ou=null);for(var a=0;a<n.length;a+=3){var l=n[a],c=n[a+1],d=n[a+2];if(typeof c!="function"){if(jd(c||l)===null)continue;break}var p=Dn(l);p!==null&&(n.splice(a,3),a-=3,Lf(p,{pending:!0,data:d,method:l.method,action:c},c,d))}}))}function Fr(n){function a(z){return Mu(z,n)}Bs!==null&&Mu(Bs,n),Us!==null&&Mu(Us,n),Ps!==null&&Mu(Ps,n),uo.forEach(a),ho.forEach(a);for(var l=0;l<Hs.length;l++){var c=Hs[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Hs.length&&(l=Hs[0],l.blockedOn===null);)U_(l),l.blockedOn===null&&Hs.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var d=l[c],p=l[c+1],v=d[Ve]||null;if(typeof p=="function")v||H_(l);else if(v){var T=null;if(p&&p.hasAttribute("formAction")){if(d=p,v=p[Ve]||null)T=v.formAction;else if(jd(d)!==null)continue}else T=v.action;typeof T=="function"?l[c+1]=T:(l.splice(c,3),c-=3),H_(l)}}}function F_(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function Ud(n){this._internalRoot=n}Nu.prototype.render=Ud.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,c=Cn();I_(l,c,n,a,null,null)},Nu.prototype.unmount=Ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;I_(n.current,2,null,n,null,null),fu(),a[mi]=null}};function Nu(n){this._internalRoot=n}Nu.prototype.unstable_scheduleHydration=function(n){if(n){var a=fc();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Hs.length&&a!==0&&a<Hs[l].priority;l++);Hs.splice(l,0,n),l===0&&U_(n)}};var q_=t.version;if(q_!=="19.2.0")throw Error(s(527,q_,"19.2.0"));tt.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(a),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var tT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Gn=Vu.inject(tT),Ue=Vu}catch{}}return go.createRoot=function(n,a){if(!r(n))throw Error(s(299));var l=!1,c="",d=Wp,p=$p,v=Jp;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=N_(n,1,!1,null,null,l,c,null,d,p,v,F_),n[mi]=a.current,xd(n),new Ud(a)},go.hydrateRoot=function(n,a,l){if(!r(n))throw Error(s(299));var c=!1,d="",p=Wp,v=$p,T=Jp,z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),a=N_(n,1,!0,a,l??null,c,d,z,p,v,T,F_),a.context=V_(null),l=a.current,c=Cn(),c=oa(c),d=Cs(c),d.callback=null,Rs(l,d,c),l=c,a.current.lanes=l,ra(a,l),Mi(a),n[mi]=a.current,xd(n),new Nu(a)},go.version="19.2.0",go}var t0;function uT(){if(t0)return Fd.exports;t0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Fd.exports=cT(),Fd.exports}var hT=uT();const gn=i=>{if(!i&&i!==0||i===0)return"0";const t=Math.abs(i),e=Math.floor(Math.log10(t))+1;let s;t<1&&t>0?s=Math.floor(Math.log10(t)/3)*3:e<=3?s=0:s=Math.floor((e-1)/3)*3;const o=(i/Math.pow(10,s)).toFixed(4);return s===0?o.toString():`${o}*10^${s}`};function fT({sheetSize:i,setSheetSize:t,squeeze:e,setSqueeze:s,scales:r,tickCounts:o,setTickCounts:u,show10mmMarkers:f,setShow10mmMarkers:m,tickLabelMode:g,setTickLabelMode:y}){const b=()=>{t({x:i.y,y:i.x})},E=(D,V)=>{const N=parseFloat(V)||0;t({...i,[D]:N})},w=(D,V)=>{const N=parseInt(V)||1;u({...o,[D]:Math.max(1,N)})};return I.jsxs("div",{className:"glass-card sheet-controls-container",children:[I.jsx("h2",{children:" Sheet Dimensions"}),I.jsx("p",{className:"text-small text-muted mb-md",children:"Set your physical graph sheet size in millimeters"}),I.jsxs("div",{className:"dimension-inputs",children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"sheet-x",children:"Width (X-axis)"}),I.jsxs("div",{className:"input-with-unit",children:[I.jsx("input",{id:"sheet-x",type:"number",value:i.x,onChange:D=>E("x",D.target.value),min:"1",step:"1"}),I.jsx("span",{className:"unit",children:"mm"})]})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"sheet-y",children:"Height (Y-axis)"}),I.jsxs("div",{className:"input-with-unit",children:[I.jsx("input",{id:"sheet-y",type:"number",value:i.y,onChange:D=>E("y",D.target.value),min:"1",step:"1"}),I.jsx("span",{className:"unit",children:"mm"})]})]})]}),I.jsx("button",{onClick:b,className:"btn-secondary w-full mb-lg",children:" Swap Dimensions"}),I.jsxs("div",{className:"squeeze-controls mb-lg",children:[I.jsx("h3",{children:"Graph Margins (Squeeze)"}),I.jsxs("div",{className:"slider-group",children:[I.jsxs("div",{className:"slider-item",children:[I.jsxs("div",{className:"flex justify-between mb-xs",children:[I.jsxs("label",{htmlFor:"squeeze-x",children:["X Squeeze",r&&r.x>0&&I.jsxs("span",{className:"text-xs text-muted ml-sm",children:["(1mm = ",gn(r.x),")"]})]}),I.jsxs("span",{className:"text-small text-muted",children:[e.x,"mm"]})]}),I.jsx("input",{id:"squeeze-x",type:"range",min:"0",max:"30",value:e.x,onChange:D=>s({...e,x:parseFloat(D.target.value)}),className:"range-slider"})]}),I.jsxs("div",{className:"slider-item",children:[I.jsxs("div",{className:"flex justify-between mb-xs",children:[I.jsxs("label",{htmlFor:"squeeze-y",children:["Y Squeeze",r&&r.y>0&&I.jsxs("span",{className:"text-xs text-muted ml-sm",children:["(1mm = ",gn(r.y),")"]})]}),I.jsxs("span",{className:"text-small text-muted",children:[e.y,"mm"]})]}),I.jsx("input",{id:"squeeze-y",type:"range",min:"0",max:"30",value:e.y,onChange:D=>s({...e,y:parseFloat(D.target.value)}),className:"range-slider"})]})]})]}),I.jsxs("div",{className:"tick-counts-controls mb-lg",children:[I.jsx("h3",{children:"Axis Tick Counts"}),I.jsxs("div",{className:"dimension-inputs",children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"tick-x",children:"X Axis Ticks"}),I.jsx("input",{id:"tick-x",type:"number",value:o.x,onChange:D=>w("x",D.target.value),min:"1",max:"20",step:"1"})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"tick-y",children:"Y Axis Ticks"}),I.jsx("input",{id:"tick-y",type:"number",value:o.y,onChange:D=>w("y",D.target.value),min:"1",max:"20",step:"1"})]})]}),I.jsxs("div",{className:"tick-mode-control mt-md",children:[I.jsx("label",{className:"block text-small text-muted mb-xs",children:"Tick Labeling"}),I.jsxs("div",{className:"segmented-control",children:[I.jsx("button",{className:`segment-btn ${g==="none"?"active":""}`,onClick:()=>y("none"),title:"No tick labels",children:"None"}),I.jsx("button",{className:`segment-btn ${g==="interval"?"active":""}`,onClick:()=>y("interval"),title:"Show labels at intervals",children:"Interval"}),I.jsx("button",{className:`segment-btn ${g==="all"?"active":""}`,onClick:()=>y("all"),title:"Show all labels (10mm)",children:"All"})]})]}),I.jsx("div",{className:"toggle-container mt-sm",children:I.jsxs("label",{className:"toggle-label",children:[I.jsx("span",{children:"Show 10mm Grid"}),I.jsxs("div",{className:"toggle-switch",children:[I.jsx("input",{type:"checkbox",checked:f,onChange:D=>m(D.target.checked)}),I.jsx("span",{className:"toggle-slider"})]})]})})]}),I.jsx("div",{className:"sheet-info",children:I.jsxs("div",{className:"info-item",children:[I.jsx("span",{className:"info-label",children:"Orientation:"}),I.jsx("span",{className:"info-value",children:i.x>i.y?" Landscape":" Portrait"})]})})]})}function dT({dataPoints:i,sheetSize:t,squeeze:e,ranges:s,unitsPerMm:r,tickAt0:o}){const u=m=>{if(!m.x||!m.y||isNaN(m.x)||isNaN(m.y))return{x:"",y:""};const g=parseFloat(m.x),y=parseFloat(m.y),b=(g-s.minX)/r.x+e.x,E=(y-s.minY)/r.y+e.y,w=b*r.x+o.x,D=E*r.y+o.y;return{x:w.toFixed(6),y:D.toFixed(6)}},f=(m,g)=>{if(!m&&!g)return!0;const y=parseFloat(m),b=parseFloat(g);return isNaN(y)||isNaN(b)?!1:Math.abs(y-b)<1e-4};return I.jsx("div",{className:"glass-card data-input-container",children:I.jsxs("div",{className:"manual-input-section",children:[I.jsx("div",{className:"flex justify-between items-center mb-sm",children:I.jsx("h3",{children:"Round Trip Validation"})}),I.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:[I.jsxs("div",{className:"stat-card",style:{background:"var(--bg-secondary)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-subtle)"},children:[I.jsx("div",{className:"stat-label",style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",marginBottom:"4px"},children:"X Scale"}),I.jsxs("div",{className:"stat-value",style:{fontSize:"0.85rem",fontWeight:"600",color:"var(--accent-primary)"},children:["1mm  ",gn(r.x)," units"]})]}),I.jsxs("div",{className:"stat-card",style:{background:"var(--bg-secondary)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-subtle)"},children:[I.jsx("div",{className:"stat-label",style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",marginBottom:"4px"},children:"Y Scale"}),I.jsxs("div",{className:"stat-value",style:{fontSize:"0.85rem",fontWeight:"600",color:"var(--accent-primary)"},children:["1mm  ",gn(r.y)," units"]})]})]}),I.jsxs("div",{className:"data-table-container",children:[I.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"40px 1fr 1fr 60px"},children:[I.jsx("div",{className:"header-cell",children:"#"}),I.jsx("div",{className:"header-cell",children:"X Value"}),I.jsx("div",{className:"header-cell",children:"Y Value"}),I.jsx("div",{className:"header-cell",children:"Status"})]}),I.jsx("div",{className:"table-body",children:i.map((m,g)=>{const y=u(m),b=f(m.x,y.x),E=f(m.y,y.y),w=b&&E&&m.x&&m.y;return I.jsxs("div",{className:"table-row fade-in",style:{gridTemplateColumns:"40px 1fr 1fr 60px"},children:[I.jsx("div",{className:"cell index-cell",children:g+1}),I.jsxs("div",{className:"cell",style:{display:"flex",flexDirection:"column",gap:"2px"},children:[I.jsx("div",{style:{fontSize:"0.875rem"},children:m.x||"-"}),I.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:y.x||"-"})]}),I.jsxs("div",{className:"cell",style:{display:"flex",flexDirection:"column",gap:"2px"},children:[I.jsx("div",{style:{fontSize:"0.875rem"},children:m.y||"-"}),I.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:y.y||"-"})]}),I.jsx("div",{className:"cell text-center",children:m.x&&m.y?w?I.jsx("span",{className:"text-success",title:"Values match",children:""}):I.jsx("span",{className:"text-danger",title:"Values differ",children:""}):I.jsx("span",{className:"text-muted",title:"Incomplete data",children:"-"})})]},g)})})]}),I.jsx("div",{className:"content-below-table",children:I.jsxs("div",{className:"data-summary text-small text-muted mb-sm",children:["Valid Points: ",I.jsx("strong",{children:i.filter(m=>m.x&&m.y).length})," / ",i.length]})})]})})}function mT({dataPoints:i,setDataPoints:t,onDataApplied:e,onAutoSave:s}){const[r,o]=xt.useState("10"),[u,f]=xt.useState([]),[m,g]=xt.useState([]),y=xt.useRef(null),b=(at=i)=>{f(U=>[...U,at]),g([])},E=()=>{if(u.length===0)return;const at=u[u.length-1];g(U=>[i,...U]),t(at),f(U=>U.slice(0,-1)),s&&s(at)},w=()=>{if(m.length===0)return;const at=m[0];f(U=>[...U,i]),t(at),g(U=>U.slice(1)),s&&s(at)},D=()=>{y.current=JSON.parse(JSON.stringify(i))},V=()=>{y.current&&JSON.stringify(y.current)!==JSON.stringify(i)&&b(y.current),y.current=null},N=(at,U,tt)=>{const ut=[...i];ut[at][U]=tt,t(ut),s&&s(ut)},Y=()=>{b();const at=[...i,{x:"",y:""}];t(at),s&&s(at)},$=at=>{if(i.length>1){b();const U=i.filter((tt,ut)=>ut!==at);t(U),s&&s(U)}},W=async()=>{const at=i.filter(tt=>tt.x!==""&&tt.y!=="");if(at.length===0){alert("No data to export");return}const U=at.map(tt=>`${tt.x}	${tt.y}`).join(`
`);try{await navigator.clipboard.writeText(U),alert("Data copied to clipboard! You can now paste it into a spreadsheet.")}catch(tt){console.error("Failed to copy text: ",tt),alert("Failed to copy data to clipboard")}},nt=async()=>{try{const at=await navigator.clipboard.readText();if(!at.trim())return;const U=at.trim().split(`
`),tt=[];U.forEach(ut=>{const dt=ut.split(/\t|,|\s+/).filter(Et=>Et.trim());dt.length>=2?tt.push({x:dt[0],y:dt[1]}):dt.length===1&&tt.push({x:dt[0],y:""})}),tt.length>0&&(b(),t(tt),e&&e(),s&&s(tt))}catch(at){console.error("Failed to read clipboard:",at),alert("Please allow clipboard access to use Smart Paste")}},rt=()=>{const at=parseInt(r,10);if(isNaN(at)||at<=0){alert("Please enter a valid count");return}if(at>100){alert("Maximum count is 100");return}const U=Array.from({length:at},()=>({x:(Math.random()*2e4-1e4).toFixed(2),y:(Math.random()*2e4-1e4).toFixed(2)}));b(),t(U),e&&e()},st=()=>{b();const at=[{x:"",y:""}];t(at),s&&s(at)},C=()=>{if(i.length===0)return;b();const at=i.map(U=>({x:U.y,y:U.x}));t(at),e&&e(),s&&s(at)},[A,R]=xt.useState(""),[k,O]=xt.useState(""),[j,M]=xt.useState(!1),St=()=>{if(!A.trim()&&!k.trim())return;const at=A.trim().split(`
`).map(dt=>dt.trim()),U=k.trim().split(`
`).map(dt=>dt.trim()),tt=Math.max(at.length,U.length),ut=[];for(let dt=0;dt<tt;dt++){const Et=at[dt]||"",L=U[dt]||"";(Et||L)&&ut.push({x:Et,y:L})}if(ut.length>0){b();const dt=[...i,...ut];t(dt),R(""),O(""),e&&e(),s&&s(dt)}};return I.jsx("div",{className:"glass-card data-input-container",children:I.jsxs("div",{className:"manual-input-section",children:[I.jsxs("div",{className:"input-header",children:[I.jsx("h3",{children:"Data Points"}),I.jsxs("p",{className:"text-muted text-small",children:["Add data points manually or",I.jsx("button",{onClick:nt,className:"inline-smart-paste-btn",title:"Paste two columns from spreadsheet at once",children:" Smart Paste"}),"use Smart Export below."]})]}),I.jsx("div",{className:"flex justify-between items-center mb-sm wrap-controls",children:I.jsxs("div",{className:"flex gap-sm items-center",children:[I.jsx("div",{className:"flex flex-col gap-xs",children:I.jsx("button",{onClick:C,className:"btn-secondary btn-small",title:"Swap X and Y values",children:" Swap"})}),I.jsxs("div",{className:"input-group compact",children:[I.jsx("input",{type:"number",min:"1",max:"100",value:r,onChange:at=>o(at.target.value),className:"small-input",placeholder:"#"}),I.jsx("button",{onClick:rt,className:"btn-secondary btn-small",title:"Generate random sample",children:" Random"})]})]})}),I.jsxs("div",{className:"data-table",children:[I.jsxs("div",{className:"table-header",children:[I.jsx("div",{className:"header-cell",children:"#"}),I.jsx("div",{className:"header-cell",children:"X Value"}),I.jsx("div",{className:"header-cell",children:"Y Value"}),I.jsx("div",{className:"header-cell",children:"Actions"})]}),I.jsx("div",{className:"table-body",children:i.map((at,U)=>I.jsxs("div",{className:"table-row fade-in",children:[I.jsx("div",{className:"cell index-cell",children:U+1}),I.jsx("div",{className:"cell",children:I.jsx("input",{type:"text",value:at.x,onFocus:D,onBlur:V,onChange:tt=>N(U,"x",tt.target.value),placeholder:"X",className:"thin-input"})}),I.jsx("div",{className:"cell",children:I.jsx("input",{type:"text",value:at.y,onFocus:D,onBlur:V,onChange:tt=>N(U,"y",tt.target.value),placeholder:"Y",className:"thin-input"})}),I.jsx("div",{className:"cell",children:I.jsx("button",{onClick:()=>$(U),className:"btn-danger btn-small",disabled:i.length===1,children:""})})]},U))})]}),I.jsxs("div",{className:"bottom-controls",children:[I.jsxs("div",{className:"data-summary text-small text-muted mb-sm",children:["Total Points: ",I.jsx("strong",{children:i.filter(at=>at.x&&at.y).length})," / ",i.length]}),I.jsxs("div",{className:"action-buttons flex gap-sm justify-center mb-sm",children:[I.jsx("button",{onClick:E,className:"btn-small btn-secondary",disabled:u.length===0,title:"Undo last action",children:" Undo"}),I.jsx("button",{onClick:w,className:"btn-small btn-secondary",disabled:m.length===0,title:"Redo last undone action",children:" Redo"}),I.jsx("button",{onClick:Y,className:"btn-small btn-secondary",children:"+ Empty Row"}),I.jsx("button",{onClick:()=>M(!j),className:`btn-small ${j?"btn-primary":"btn-secondary"}`,children:j?" Hide":"+ Add+"}),I.jsx("button",{onClick:st,className:"btn-small btn-danger",children:" Clear All"}),I.jsx("button",{onClick:W,className:"btn-small btn-secondary",title:"Copy data to clipboard",children:" Export"})]}),I.jsx("div",{className:`quick-add-section ${j?"expanded":"collapsed"}`,children:I.jsxs("div",{className:"input-group full-width",children:[I.jsx("textarea",{value:A,onChange:at=>R(at.target.value),placeholder:"New X (multi-line)",className:"thin-input multi-line-input",rows:2}),I.jsx("textarea",{value:k,onChange:at=>O(at.target.value),placeholder:"New Y (multi-line)",className:"thin-input multi-line-input",rows:2}),I.jsx("button",{onClick:St,className:"btn-success h-full",children:"+ Add"})]})})]})]})})}function gT({isOpen:i,onClose:t,onSubmit:e,isSubmitting:s}){const[r,o]=xt.useState(""),u=f=>{f.preventDefault(),r.trim()&&(e(r),o(""))};return i?I.jsx("div",{className:"modal-overlay",onClick:t,children:I.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("h3",{children:"Send Feedback"}),I.jsx("button",{className:"modal-close",onClick:t,children:""})]}),I.jsxs("form",{onSubmit:u,children:[I.jsx("div",{className:"modal-body",children:I.jsx("textarea",{value:r,onChange:f=>o(f.target.value),placeholder:"Share your feedback, suggestions, or report issues...",rows:6,className:"comment-textarea",disabled:s,autoFocus:!0})}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:s,children:"Cancel"}),I.jsx("button",{type:"submit",className:"btn-primary",disabled:s||!r.trim(),children:s?"Sending...":"Send Feedback"})]})]})]})}):null}function pT({isOpen:i,onClose:t}){if(!i)return null;const e=[{icon:"",title:"Works Best with Spreadsheets",description:"Use spreadsheets for precalculations."},{icon:"",title:"Smart Paste Magic",description:"Smart Paste can paste two columns from a spreadsheet at once - even if they're not adjacent! Just copy any two columns and paste."},{icon:"",title:"Use Squeeze for Simple Scaling",description:"Adjust the squeeze (margins) to get simpler, more convenient scaling factors for your graph."},{icon:"",title:"Manual Entry Tips",description:"Enter data points one by one, or use the 'Quick Add' section to paste multiple values as new lines."},{icon:"",title:"Round Trip Validation",description:"Check the validation tab to verify"}];return I.jsx("div",{className:"modal-overlay",onClick:t,children:I.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),style:{maxWidth:"600px"},children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("h3",{children:" Tips & Tricks"}),I.jsx("button",{className:"modal-close",onClick:t,children:""})]}),I.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:e.map((s,r)=>I.jsx("div",{style:{padding:"var(--spacing-sm)",background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-subtle)"},children:I.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--spacing-sm)"},children:[I.jsx("span",{style:{fontSize:"1.5rem",flexShrink:0},children:s.icon}),I.jsxs("div",{children:[I.jsx("h4",{style:{margin:"0 0 4px 0",color:"var(--text-primary)",fontSize:"0.9375rem"},children:s.title}),I.jsx("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.875rem",lineHeight:"1.5"},children:s.description})]})]})},r))})}),I.jsx("div",{className:"modal-footer",children:I.jsx("button",{type:"button",onClick:t,className:"btn-primary",children:"Got it!"})})]})})}const gb=i=>i.filter(t=>t.x!==""&&t.y!==""&&!isNaN(t.x)&&!isNaN(t.y)).map(t=>({x:parseFloat(t.x),y:parseFloat(t.y)})),pb=i=>{if(i.length===0)return{minX:0,maxX:10,minY:0,maxY:10};const t=i.map(s=>s.x),e=i.map(s=>s.y);return{minX:Math.min(...t),maxX:Math.max(...t),minY:Math.min(...e),maxY:Math.max(...e)}},yb=(i,t,e)=>{const s=(i.maxX-i.minX)/(t.x-2*e.x),r=(i.maxY-i.minY)/(t.y-2*e.y);return{x:s,y:r}},yT=(i,t,e,s)=>{if(!navigator.onLine)return{mappedPoints:[],axisLines:[]};if(i.length===0)return{mappedPoints:[],axisLines:[]};const{minX:r,maxX:o,minY:u,maxY:f}=t,m=o-r||1,g=f-u||1,y=e.x-2*s.x,b=e.y-2*s.y,E=N=>(N-r)*y/m+s.x,w=N=>(N-u)*b/g+s.y,D=i.map(N=>({x:E(N.x),y:w(N.y),originalX:N.x,originalY:N.y})),V=[];if(r<=0&&o>=0){const N=E(0);V.push({label:`y axis (${N.toFixed(1)}mm)`,data:[{x:N,y:0},{x:N,y:e.y}],borderColor:"rgba(255, 255, 255, 0.5)",borderWidth:2,borderDash:[5,5],showLine:!0,pointRadius:0,type:"scatter"})}if(u<=0&&f>=0){const N=w(0);V.push({label:`x axis (${N.toFixed(1)}mm)`,data:[{x:0,y:N},{x:e.x,y:N}],borderColor:"rgba(255, 255, 255, 0.5)",borderWidth:2,borderDash:[5,5],showLine:!0,pointRadius:0,type:"scatter"})}return{mappedPoints:D,axisLines:V}},_T=()=>{};var e0={};const _b=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let r=i.charCodeAt(s);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},vT=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const r=i[e++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=i[e++];t[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=i[e++],u=i[e++],f=i[e++],m=((r&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const o=i[e++],u=i[e++];t[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<i.length;r+=3){const o=i[r],u=r+1<i.length,f=u?i[r+1]:0,m=r+2<i.length,g=m?i[r+2]:0,y=o>>2,b=(o&3)<<4|f>>4;let E=(f&15)<<2|g>>6,w=g&63;m||(w=64,u||(E=64)),s.push(e[y],e[b],e[E],e[w])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(_b(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):vT(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<i.length;){const o=e[i.charAt(r++)],f=r<i.length?e[i.charAt(r)]:0;++r;const g=r<i.length?e[i.charAt(r)]:64;++r;const b=r<i.length?e[i.charAt(r)]:64;if(++r,o==null||f==null||g==null||b==null)throw new bT;const E=o<<2|f>>4;if(s.push(E),g!==64){const w=f<<4&240|g>>2;if(s.push(w),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xT=function(i){const t=_b(i);return vb.encodeByteArray(t,!0)},rh=function(i){return xT(i).replace(/\./g,"")},ET=function(i){try{return vb.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ST=()=>TT().__FIREBASE_DEFAULTS__,AT=()=>{if(typeof process>"u"||typeof e0>"u")return;const i=e0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&ET(i[1]);return t&&JSON.parse(t)},zm=()=>{try{return _T()||ST()||AT()||wT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},CT=i=>zm()?.emulatorHosts?.[i],RT=i=>{const t=CT(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},bb=()=>zm()?.config;class DT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Lm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MT(i){return(await fetch(i,{credentials:"include"})).ok}function OT(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",r=i.iat||0,o=i.sub||i.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...i};return[rh(JSON.stringify(e)),rh(JSON.stringify(u)),""].join(".")}const Co={};function NT(){const i={prod:[],emulator:[]};for(const t of Object.keys(Co))Co[t]?i.emulator.push(t):i.prod.push(t);return i}function VT(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let n0=!1;function IT(i,t){if(typeof window>"u"||typeof document>"u"||!Lm(window.location.host)||Co[i]===t||Co[i]||n0)return;Co[i]=t;function e(E){return`__firebase__banner__${E}`}const s="__firebase__banner",o=NT().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{n0=!0,u()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=VT(s),w=e("text"),D=document.getElementById(w)||document.createElement("span"),V=e("learnmore"),N=document.getElementById(V)||document.createElement("a"),Y=e("preprendIcon"),$=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const W=E.element;f(W),y(N,V);const nt=g();m($,Y),W.append($,D,N,nt),document.body.appendChild(W)}o?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function kT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zT(){const i=zm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LT(){return!zT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jT(){try{return typeof indexedDB=="object"}catch{return!1}}function BT(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const UT="FirebaseError";class al extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=UT,Object.setPrototypeOf(this,al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xb.prototype.create)}}class xb{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?PT(o,s):"Error",f=`${this.serviceName}: ${u} (${r}).`;return new al(r,f,s)}}function PT(i,t){return i.replace(HT,(e,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const HT=/\{\$([^}]+)}/g;function lh(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const r of e){if(!s.includes(r))return!1;const o=i[r],u=t[r];if(i0(o)&&i0(u)){if(!lh(o,u))return!1}else if(o!==u)return!1}for(const r of s)if(!e.includes(r))return!1;return!0}function i0(i){return i!==null&&typeof i=="object"}function jo(i){return i&&i._delegate?i._delegate:i}class Bo{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const za="[DEFAULT]";class FT{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new DT;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YT(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);s===f&&u.resolve(r)}return r}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(s)??new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const r of s)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qT(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qT(i){return i===za?void 0:i}function YT(i){return i.instantiationMode==="EAGER"}class GT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new FT(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Lt||(Lt={}));const XT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},QT=Lt.INFO,KT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},ZT=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),r=KT[t];if(r)console[r](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Eb{constructor(t){this.name=t,this._logLevel=QT,this._logHandler=ZT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const WT=(i,t)=>t.some(e=>i instanceof e);let s0,a0;function $T(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tb=new WeakMap,um=new WeakMap,Sb=new WeakMap,Xd=new WeakMap,jm=new WeakMap;function tS(i){const t=new Promise((e,s)=>{const r=()=>{i.removeEventListener("success",o),i.removeEventListener("error",u)},o=()=>{e(Xs(i.result)),r()},u=()=>{s(i.error),r()};i.addEventListener("success",o),i.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Tb.set(e,i)}).catch(()=>{}),jm.set(t,i),t}function eS(i){if(um.has(i))return;const t=new Promise((e,s)=>{const r=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",u),i.removeEventListener("abort",u)},o=()=>{e(),r()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",o),i.addEventListener("error",u),i.addEventListener("abort",u)});um.set(i,t)}let hm={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return um.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Sb.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Xs(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function nS(i){hm=i(hm)}function iS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(Qd(this),t,...e);return Sb.set(s,t.sort?t.sort():[t]),Xs(s)}:JT().includes(i)?function(...t){return i.apply(Qd(this),t),Xs(Tb.get(this))}:function(...t){return Xs(i.apply(Qd(this),t))}}function sS(i){return typeof i=="function"?iS(i):(i instanceof IDBTransaction&&eS(i),WT(i,$T())?new Proxy(i,hm):i)}function Xs(i){if(i instanceof IDBRequest)return tS(i);if(Xd.has(i))return Xd.get(i);const t=sS(i);return t!==i&&(Xd.set(i,t),jm.set(t,i)),t}const Qd=i=>jm.get(i);function aS(i,t,{blocked:e,upgrade:s,blocking:r,terminated:o}={}){const u=indexedDB.open(i,t),f=Xs(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Xs(u.result),m.oldVersion,m.newVersion,Xs(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{o&&m.addEventListener("close",()=>o()),r&&m.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const rS=["get","getKey","getAll","getAllKeys","count"],lS=["put","add","delete","clear"],Kd=new Map;function r0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,r=lS.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(r||rS.includes(e)))return;const o=async function(u,...f){const m=this.transaction(u,r?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[e](...f),r&&m.done]))[0]};return Kd.set(t,o),o}nS(i=>({...i,get:(t,e,s)=>r0(t,e)||i.get(t,e,s),has:(t,e)=>!!r0(t,e)||i.has(t,e)}));class oS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cS(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function cS(i){return i.getComponent()?.type==="VERSION"}const fm="@firebase/app",l0="0.14.6";const us=new Eb("@firebase/app"),uS="@firebase/app-compat",hS="@firebase/analytics-compat",fS="@firebase/analytics",dS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",pS="@firebase/auth-compat",yS="@firebase/database",_S="@firebase/data-connect",vS="@firebase/database-compat",bS="@firebase/functions",xS="@firebase/functions-compat",ES="@firebase/installations",TS="@firebase/installations-compat",SS="@firebase/messaging",AS="@firebase/messaging-compat",wS="@firebase/performance",CS="@firebase/performance-compat",RS="@firebase/remote-config",DS="@firebase/remote-config-compat",MS="@firebase/storage",OS="@firebase/storage-compat",NS="@firebase/firestore",VS="@firebase/ai",IS="@firebase/firestore-compat",kS="firebase",zS="12.6.0";const dm="[DEFAULT]",LS={[fm]:"fire-core",[uS]:"fire-core-compat",[fS]:"fire-analytics",[hS]:"fire-analytics-compat",[mS]:"fire-app-check",[dS]:"fire-app-check-compat",[gS]:"fire-auth",[pS]:"fire-auth-compat",[yS]:"fire-rtdb",[_S]:"fire-data-connect",[vS]:"fire-rtdb-compat",[bS]:"fire-fn",[xS]:"fire-fn-compat",[ES]:"fire-iid",[TS]:"fire-iid-compat",[SS]:"fire-fcm",[AS]:"fire-fcm-compat",[wS]:"fire-perf",[CS]:"fire-perf-compat",[RS]:"fire-rc",[DS]:"fire-rc-compat",[MS]:"fire-gcs",[OS]:"fire-gcs-compat",[NS]:"fire-fst",[IS]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[kS]:"fire-js-all"};const oh=new Map,jS=new Map,mm=new Map;function o0(i,t){try{i.container.addComponent(t)}catch(e){us.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function ch(i){const t=i.name;if(mm.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,i);for(const e of oh.values())o0(e,i);for(const e of jS.values())o0(e,i);return!0}function BS(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function US(i){return i==null?!1:i.settings!==void 0}const PS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new xb("app","Firebase",PS);class HS{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const FS=zS;function Ab(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s={name:dm,automaticDataCollectionEnabled:!0,...t},r=s.name;if(typeof r!="string"||!r)throw Qs.create("bad-app-name",{appName:String(r)});if(e||(e=bb()),!e)throw Qs.create("no-options");const o=oh.get(r);if(o){if(lh(e,o.options)&&lh(s,o.config))return o;throw Qs.create("duplicate-app",{appName:r})}const u=new GT(r);for(const m of mm.values())u.addComponent(m);const f=new HS(e,s,u);return oh.set(r,f),f}function qS(i=dm){const t=oh.get(i);if(!t&&i===dm&&bb())return Ab();if(!t)throw Qs.create("no-app",{appName:i});return t}function Xr(i,t,e){let s=LS[i]??i;e&&(s+=`-${e}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const u=[`Unable to register library "${s}" with version "${t}":`];r&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(u.join(" "));return}ch(new Bo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const YS="firebase-heartbeat-database",GS=1,Uo="firebase-heartbeat-store";let Zd=null;function wb(){return Zd||(Zd=aS(YS,GS,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Uo)}catch(e){console.warn(e)}}}}).catch(i=>{throw Qs.create("idb-open",{originalErrorMessage:i.message})})),Zd}async function XS(i){try{const e=(await wb()).transaction(Uo),s=await e.objectStore(Uo).get(Cb(i));return await e.done,s}catch(t){if(t instanceof al)us.warn(t.message);else{const e=Qs.create("idb-get",{originalErrorMessage:t?.message});us.warn(e.message)}}}async function c0(i,t){try{const s=(await wb()).transaction(Uo,"readwrite");await s.objectStore(Uo).put(t,Cb(i)),await s.done}catch(e){if(e instanceof al)us.warn(e.message);else{const s=Qs.create("idb-set",{originalErrorMessage:e?.message});us.warn(s.message)}}}function Cb(i){return`${i.name}!${i.options.appId}`}const QS=1024,KS=30;class ZS{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new $S(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>KS){const r=JS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u0(),{heartbeatsToSend:e,unsentEntries:s}=WS(this._heartbeatsCache.heartbeats),r=rh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return us.warn(t),""}}}function u0(){return new Date().toISOString().substring(0,10)}function WS(i,t=QS){const e=[];let s=i.slice();for(const r of i){const o=e.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),h0(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),h0(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class $S{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jT()?BT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await XS(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function h0(i){return rh(JSON.stringify({version:2,heartbeats:i})).length}function JS(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}function tA(i){ch(new Bo("platform-logger",t=>new oS(t),"PRIVATE")),ch(new Bo("heartbeat",t=>new ZS(t),"PRIVATE")),Xr(fm,l0,i),Xr(fm,l0,"esm2020"),Xr("fire-js","")}tA("");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bm;(function(){var i;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(k,O,j){for(var M=Array(arguments.length-2),St=2;St<arguments.length;St++)M[St-2]=arguments[St];return A.prototype[O].apply(k,M)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)k[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],O=C.g[2];let j=C.g[3],M;M=A+(j^R&(O^j))+k[0]+3614090360&4294967295,A=R+(M<<7&4294967295|M>>>25),M=j+(O^A&(R^O))+k[1]+3905402710&4294967295,j=A+(M<<12&4294967295|M>>>20),M=O+(R^j&(A^R))+k[2]+606105819&4294967295,O=j+(M<<17&4294967295|M>>>15),M=R+(A^O&(j^A))+k[3]+3250441966&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(j^R&(O^j))+k[4]+4118548399&4294967295,A=R+(M<<7&4294967295|M>>>25),M=j+(O^A&(R^O))+k[5]+1200080426&4294967295,j=A+(M<<12&4294967295|M>>>20),M=O+(R^j&(A^R))+k[6]+2821735955&4294967295,O=j+(M<<17&4294967295|M>>>15),M=R+(A^O&(j^A))+k[7]+4249261313&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(j^R&(O^j))+k[8]+1770035416&4294967295,A=R+(M<<7&4294967295|M>>>25),M=j+(O^A&(R^O))+k[9]+2336552879&4294967295,j=A+(M<<12&4294967295|M>>>20),M=O+(R^j&(A^R))+k[10]+4294925233&4294967295,O=j+(M<<17&4294967295|M>>>15),M=R+(A^O&(j^A))+k[11]+2304563134&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(j^R&(O^j))+k[12]+1804603682&4294967295,A=R+(M<<7&4294967295|M>>>25),M=j+(O^A&(R^O))+k[13]+4254626195&4294967295,j=A+(M<<12&4294967295|M>>>20),M=O+(R^j&(A^R))+k[14]+2792965006&4294967295,O=j+(M<<17&4294967295|M>>>15),M=R+(A^O&(j^A))+k[15]+1236535329&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(O^j&(R^O))+k[1]+4129170786&4294967295,A=R+(M<<5&4294967295|M>>>27),M=j+(R^O&(A^R))+k[6]+3225465664&4294967295,j=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(j^A))+k[11]+643717713&4294967295,O=j+(M<<14&4294967295|M>>>18),M=R+(j^A&(O^j))+k[0]+3921069994&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(O^j&(R^O))+k[5]+3593408605&4294967295,A=R+(M<<5&4294967295|M>>>27),M=j+(R^O&(A^R))+k[10]+38016083&4294967295,j=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(j^A))+k[15]+3634488961&4294967295,O=j+(M<<14&4294967295|M>>>18),M=R+(j^A&(O^j))+k[4]+3889429448&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(O^j&(R^O))+k[9]+568446438&4294967295,A=R+(M<<5&4294967295|M>>>27),M=j+(R^O&(A^R))+k[14]+3275163606&4294967295,j=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(j^A))+k[3]+4107603335&4294967295,O=j+(M<<14&4294967295|M>>>18),M=R+(j^A&(O^j))+k[8]+1163531501&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(O^j&(R^O))+k[13]+2850285829&4294967295,A=R+(M<<5&4294967295|M>>>27),M=j+(R^O&(A^R))+k[2]+4243563512&4294967295,j=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(j^A))+k[7]+1735328473&4294967295,O=j+(M<<14&4294967295|M>>>18),M=R+(j^A&(O^j))+k[12]+2368359562&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(R^O^j)+k[5]+4294588738&4294967295,A=R+(M<<4&4294967295|M>>>28),M=j+(A^R^O)+k[8]+2272392833&4294967295,j=A+(M<<11&4294967295|M>>>21),M=O+(j^A^R)+k[11]+1839030562&4294967295,O=j+(M<<16&4294967295|M>>>16),M=R+(O^j^A)+k[14]+4259657740&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(R^O^j)+k[1]+2763975236&4294967295,A=R+(M<<4&4294967295|M>>>28),M=j+(A^R^O)+k[4]+1272893353&4294967295,j=A+(M<<11&4294967295|M>>>21),M=O+(j^A^R)+k[7]+4139469664&4294967295,O=j+(M<<16&4294967295|M>>>16),M=R+(O^j^A)+k[10]+3200236656&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(R^O^j)+k[13]+681279174&4294967295,A=R+(M<<4&4294967295|M>>>28),M=j+(A^R^O)+k[0]+3936430074&4294967295,j=A+(M<<11&4294967295|M>>>21),M=O+(j^A^R)+k[3]+3572445317&4294967295,O=j+(M<<16&4294967295|M>>>16),M=R+(O^j^A)+k[6]+76029189&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(R^O^j)+k[9]+3654602809&4294967295,A=R+(M<<4&4294967295|M>>>28),M=j+(A^R^O)+k[12]+3873151461&4294967295,j=A+(M<<11&4294967295|M>>>21),M=O+(j^A^R)+k[15]+530742520&4294967295,O=j+(M<<16&4294967295|M>>>16),M=R+(O^j^A)+k[2]+3299628645&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(O^(R|~j))+k[0]+4096336452&4294967295,A=R+(M<<6&4294967295|M>>>26),M=j+(R^(A|~O))+k[7]+1126891415&4294967295,j=A+(M<<10&4294967295|M>>>22),M=O+(A^(j|~R))+k[14]+2878612391&4294967295,O=j+(M<<15&4294967295|M>>>17),M=R+(j^(O|~A))+k[5]+4237533241&4294967295,R=O+(M<<21&4294967295|M>>>11),M=A+(O^(R|~j))+k[12]+1700485571&4294967295,A=R+(M<<6&4294967295|M>>>26),M=j+(R^(A|~O))+k[3]+2399980690&4294967295,j=A+(M<<10&4294967295|M>>>22),M=O+(A^(j|~R))+k[10]+4293915773&4294967295,O=j+(M<<15&4294967295|M>>>17),M=R+(j^(O|~A))+k[1]+2240044497&4294967295,R=O+(M<<21&4294967295|M>>>11),M=A+(O^(R|~j))+k[8]+1873313359&4294967295,A=R+(M<<6&4294967295|M>>>26),M=j+(R^(A|~O))+k[15]+4264355552&4294967295,j=A+(M<<10&4294967295|M>>>22),M=O+(A^(j|~R))+k[6]+2734768916&4294967295,O=j+(M<<15&4294967295|M>>>17),M=R+(j^(O|~A))+k[13]+1309151649&4294967295,R=O+(M<<21&4294967295|M>>>11),M=A+(O^(R|~j))+k[4]+4149444226&4294967295,A=R+(M<<6&4294967295|M>>>26),M=j+(R^(A|~O))+k[11]+3174756917&4294967295,j=A+(M<<10&4294967295|M>>>22),M=O+(A^(j|~R))+k[2]+718787259&4294967295,O=j+(M<<15&4294967295|M>>>17),M=R+(j^(O|~A))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+j&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,k=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=R;)r(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<A;)if(k[O++]=C.charCodeAt(j++),O==this.blockSize){r(this,k),O=0;break}}else for(;j<A;)if(k[O++]=C[j++],O==this.blockSize){r(this,k),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)C[A++]=this.g[R]>>>k&255;return C};function o(C,A){var R=f;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function u(C,A){this.h=A;const R=[];let k=!0;for(let O=C.length-1;O>=0;O--){const j=C[O]|0;k&&j==A||(R[O]=j,k=!1)}this.g=R}var f={};function m(C){return-128<=C&&C<128?o(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return N(g(-C));const A=[];let R=1;for(let k=0;C>=R;k++)A[k]=C/R|0,R*=4294967296;return new u(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return N(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let k=b;for(let j=0;j<C.length;j+=8){var O=Math.min(8,C.length-j);const M=parseInt(C.substring(j,j+O),A);O<8?(O=g(Math.pow(A,O)),k=k.j(O).add(g(M))):(k=k.j(R),k=k.add(g(M)))}return k}var b=m(0),E=m(1),w=m(16777216);i=u.prototype,i.m=function(){if(V(this))return-N(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);C+=(k>=0?k:4294967296+k)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(V(this))return"-"+N(this).toString(C);const A=g(Math.pow(C,6));var R=this;let k="";for(;;){const O=nt(R,A).g;R=Y(R,O.j(A));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,D(R))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function V(C){return C.h==-1}i.l=function(C){return C=Y(this,C),V(C)?-1:D(C)?0:1};function N(C){const A=C.g.length,R=[];for(let k=0;k<A;k++)R[k]=~C.g[k];return new u(R,~C.h).add(E)}i.abs=function(){return V(this)?N(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let k=0;for(let O=0;O<=A;O++){let j=k+(this.i(O)&65535)+(C.i(O)&65535),M=(j>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);k=M>>>16,j&=65535,M&=65535,R[O]=M<<16|j}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Y(C,A){return C.add(N(A))}i.j=function(C){if(D(this)||D(C))return b;if(V(this))return V(C)?N(this).j(N(C)):N(N(this).j(C));if(V(C))return N(this.j(N(C)));if(this.l(w)<0&&C.l(w)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<C.g.length;O++){const j=this.i(k)>>>16,M=this.i(k)&65535,St=C.i(O)>>>16,at=C.i(O)&65535;R[2*k+2*O]+=M*at,$(R,2*k+2*O),R[2*k+2*O+1]+=j*at,$(R,2*k+2*O+1),R[2*k+2*O+1]+=M*St,$(R,2*k+2*O+1),R[2*k+2*O+2]+=j*St,$(R,2*k+2*O+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new u(R,0)};function $(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function W(C,A){this.g=C,this.h=A}function nt(C,A){if(D(A))throw Error("division by zero");if(D(C))return new W(b,b);if(V(C))return A=nt(N(C),A),new W(N(A.g),N(A.h));if(V(A))return A=nt(C,N(A)),new W(N(A.g),A.h);if(C.g.length>30){if(V(C)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var R=E,k=A;k.l(C)<=0;)R=rt(R),k=rt(k);var O=st(R,1),j=st(k,1);for(k=st(k,2),R=st(R,2);!D(k);){var M=j.add(k);M.l(C)<=0&&(O=O.add(R),j=M),k=st(k,1),R=st(R,1)}return A=Y(C,O.j(A)),new W(O,A)}for(O=b;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=g(R),M=j.j(A);V(M)||M.l(C)>0;)R-=k,j=g(R),M=j.j(A);D(j)&&(j=E),O=O.add(j),C=Y(C,M)}return new W(O,C)}i.B=function(C){return nt(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&C.i(k);return new u(R,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|C.i(k);return new u(R,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^C.i(k);return new u(R,this.h^C.h)};function rt(C){const A=C.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=C.i(k)<<1|C.i(k-1)>>>31;return new u(R,C.h)}function st(C,A){const R=A>>5;A%=32;const k=C.g.length-R,O=[];for(let j=0;j<k;j++)O[j]=A>0?C.i(j+R)>>>A|C.i(j+R+1)<<32-A:C.i(j+R);return new u(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,Bm=u}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rb,Eo,Db,Ju,gm,Mb,Ob,Nb;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=e(this);function r(h,_){if(_)t:{var x=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in x))break t;x=x[H]}h=h[h.length-1],S=x[h],_=_(S),_!=S&&_!=null&&t(x,h,{configurable:!0,writable:!0,value:_})}}r("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(h){return h||function(_){var x=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&x.push([S,_[S]]);return x}});var o=o||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,x){return h.call.apply(h.bind,arguments)}function g(h,_,x){return g=m,g.apply(null,arguments)}function y(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function b(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(S,H,X){for(var ot=Array(arguments.length-2),At=2;At<arguments.length;At++)ot[At-2]=arguments[At];return _.prototype[H].apply(S,ot)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const x=Array(_);for(let S=0;S<_;S++)x[S]=h[S];return x}return[]}function D(h,_){for(let S=1;S<arguments.length;S++){const H=arguments[S];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=h.length||0;const X=H.length||0;h.length=x+X;for(let ot=0;ot<X;ot++)h[x+ot]=H[ot]}else h.push(H)}}class V{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){u.setTimeout(()=>{throw h},0)}function Y(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,x){const S=W.get();S.set(_,x),this.h?this.h.next=S:this.g=S,this.h=S}}var W=new V(()=>new nt,h=>h.reset());class nt{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,st=!1,C=new $,A=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(R)}};function R(){for(var h;h=Y();){try{h.h.call(h.g)}catch(x){N(x)}var _=W;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}st=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,_),u.removeEventListener("test",x,_)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function St(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(St,O),St.prototype.init=function(h,_){const x=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&St.Z.h.call(this)},St.prototype.h=function(){St.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),U=0;function tt(h,_,x,S,H){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!S,this.ha=H,this.key=++U,this.da=this.fa=!1}function ut(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function dt(h,_,x){for(const S in h)_.call(x,h[S],S,h)}function Et(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function L(h){const _={};for(const x in h)_[x]=h[x];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,_){let x,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(x in S)h[x]=S[x];for(let X=0;X<K.length;X++)x=K[X],Object.prototype.hasOwnProperty.call(S,x)&&(h[x]=S[x])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,_,x,S,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ot=bt(h,_,S,H);return ot>-1?(_=h[ot],x||(_.fa=!1)):(_=new tt(_,this.src,X,!!S,H),_.fa=x,h.push(_)),_};function _t(h,_){const x=_.type;if(x in h.g){var S=h.g[x],H=Array.prototype.indexOf.call(S,_,void 0),X;(X=H>=0)&&Array.prototype.splice.call(S,H,1),X&&(ut(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function bt(h,_,x,S){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==_&&X.capture==!!x&&X.ha==S)return H}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Me={};function ae(h,_,x,S,H){if(Array.isArray(_)){for(let X=0;X<_.length;X++)ae(h,_[X],x,S,H);return null}return x=hl(x),h&&h[at]?h.J(_,x,f(S)?!!S.capture:!1,H):na(h,_,x,!1,S,H)}function na(h,_,x,S,H,X){if(!_)throw Error("Invalid event type");const ot=f(H)?!!H.capture:!!H;let At=ia(h);if(At||(h[kt]=At=new ht(h)),x=At.add(_,x,S,ot,X),x.proxy)return x;if(S=tr(),x.proxy=S,S.src=h,S.listener=x,h.addEventListener)j||(H=ot),H===void 0&&(H=!1),h.addEventListener(_.toString(),S,H);else if(h.attachEvent)h.attachEvent(ci(_.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function tr(){function h(x){return _.call(h.src,h.listener,x)}const _=cl;return h}function er(h,_,x,S,H){if(Array.isArray(_))for(var X=0;X<_.length;X++)er(h,_[X],x,S,H);else S=f(S)?!!S.capture:!!S,x=hl(x),h&&h[at]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],x=bt(_,x,S,H),x>-1&&(ut(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=ia(h))&&(_=h.g[_.toString()],h=-1,_&&(h=bt(_,x,S,H)),(x=h>-1?_[h]:null)&&nr(x))}function nr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[at])_t(_.i,h);else{var x=h.type,S=h.proxy;_.removeEventListener?_.removeEventListener(x,S,h.capture):_.detachEvent?_.detachEvent(ci(x),S):_.addListener&&_.removeListener&&_.removeListener(S),(x=ia(_))?(_t(x,h),x.h==0&&(x.src=null,_[kt]=null)):ut(h)}}}function ci(h){return h in Me?Me[h]:Me[h]="on"+h}function cl(h,_){if(h.da)h=!0;else{_=new St(_,this);const x=h.listener,S=h.ha||h.src;h.fa&&nr(h),h=x.call(S,_)}return h}function ia(h){return h=h[kt],h instanceof ht?h:null}var ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(h){return typeof h=="function"?h:(h[ul]||(h[ul]=function(_){return h.handleEvent(_)}),h[ul])}function ve(){k.call(this),this.i=new ht(this),this.M=this,this.G=null}b(ve,k),ve.prototype[at]=!0,ve.prototype.removeEventListener=function(h,_,x,S){er(this,h,_,x,S)};function Oe(h,_){var x,S=h.G;if(S)for(x=[];S;S=S.G)x.push(S);if(h=h.M,S=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var H=_;_=new O(S,h),ct(_,H)}H=!0;let X,ot;if(x)for(ot=x.length-1;ot>=0;ot--)X=_.g=x[ot],H=hs(X,S,!0,_)&&H;if(X=_.g=h,H=hs(X,S,!0,_)&&H,H=hs(X,S,!1,_)&&H,x)for(ot=0;ot<x.length;ot++)X=_.g=x[ot],H=hs(X,S,!1,_)&&H}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let S=0;S<x.length;S++)ut(x[S]);delete h.g[_],h.h--}}this.G=null},ve.prototype.J=function(h,_,x,S){return this.i.add(String(h),_,!1,x,S)},ve.prototype.K=function(h,_,x,S){return this.i.add(String(h),_,!0,x,S)};function hs(h,_,x,S){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let X=0;X<_.length;++X){const ot=_[X];if(ot&&!ot.da&&ot.capture==x){const At=ot.listener,ge=ot.ha||ot.src;ot.fa&&_t(h.i,ot),H=At.call(ge,S)!==!1&&H}}return H&&!S.defaultPrevented}function Hh(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function ac(h){h.g=Hh(()=>{h.g=null,h.i&&(h.i=!1,ac(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class sn extends k{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ac(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(h){k.call(this),this.h=h,this.g={}}b(sa,k);var fl=[];function dl(h){dt(h.g,function(_,x){this.g.hasOwnProperty(x)&&nr(_)},h),h.g={}}sa.prototype.N=function(){sa.Z.N.call(this),dl(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=u.JSON.stringify,Fh=u.JSON.parse,rc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function lc(){}function oc(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){O.call(this,"d")}b(Ue,O);function Rn(){O.call(this,"c")}b(Rn,O);var me={},cc=null;function ir(){return cc=cc||new ve}me.Ia="serverreachability";function uc(h){O.call(this,me.Ia,h)}b(uc,O);function ui(h){const _=ir();Oe(_,new uc(_))}me.STAT_EVENT="statevent";function aa(h,_){O.call(this,me.STAT_EVENT,h),this.stat=_}b(aa,O);function be(h){const _=ir();Oe(_,new aa(_,h))}me.Ja="timingevent";function hi(h,_){O.call(this,me.Ja,h),this.size=_}b(hi,O);function fi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function qh(h,_,x,S,H,X){h.info(function(){if(h.g)if(X){var ot="",At=X.split("&");for(let Pt=0;Pt<At.length;Pt++){var ge=At[Pt].split("=");if(ge.length>1){const re=ge[0];ge=ge[1];const Nn=re.split("_");ot=Nn.length>=2&&Nn[1]=="type"?ot+(re+"="+ge+"&"):ot+(re+"=redacted&")}}}else ot=null;else ot=X;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+_+`
`+x+`
`+ot})}function hc(h,_,x,S,H,X,ot){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+_+`
`+x+`
`+X+" "+ot})}function di(h,_,x,S){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Yh(h,x)+(S?" "+S:"")})}function ra(h,_){h.info(function(){return"TIMEOUT: "+_})}Xn.prototype.info=function(){};function Yh(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var x=X[h];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ot=1;ot<S.length;ot++)S[ot]=""}}}}return fs(X)}catch{return _}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function oa(){}b(oa,lc),oa.prototype.g=function(){return new XMLHttpRequest},gl=new oa;function ji(h){return encodeURIComponent(String(h))}function fc(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function Qn(h,_,x,S){this.j=h,this.i=_,this.l=x,this.S=S||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var xe={},Ve={};function mi(h,_,x){h.M=1,h.A=ca(Te(_)),h.u=x,h.R=!0,sr(h,null)}function sr(h,_){h.F=Date.now(),gi(h),h.B=Te(h.A);var x=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),or(x.i,"t",S),h.C=0,x=h.j.L,h.h=new Kn,h.g=Cc(h.j,x?_:null,!h.u),h.P>0&&(h.O=new sn(g(h.Y,h,h.g),h.P)),_=h.V,x=h.g,S=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(fl[0]=H.toString()),H=fl);for(let X=0;X<H.length;X++){const ot=ae(x,H[X],S||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),ui(),qh(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const _=this.O;_&&$n(h)==3?_.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)t:{const At=$n(this.g),ge=this.g.ya(),Pt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||At!=4||ge==7||(ge==8||Pt<=0?ui(3):ui(2)),pi(this);var _=this.g.ca();this.X=_;var x=Gh(this);if(this.o=_==200,hc(this.i,this.v,this.B,this.l,this.S,At,_),this.o){if(this.U&&!this.L){e:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(S)){var X=S;break e}}X=null}if(h=X)di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,h);else{this.o=!1,this.m=3,be(12),vn(this),Dn(this);break t}}if(this.R){h=!0;let re;for(;!this.K&&this.C<x.length;)if(re=mc(this,x),re==Ve){At==4&&(this.m=4,be(14),h=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(re==xe){this.m=4,be(15),di(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else di(this.i,this.l,re,null),yi(this,re);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||x.length!=0||this.h.h||(this.m=1,be(16),h=!1),this.o=this.o&&h,!h)di(this.i,this.l,x,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(x.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Ml(ot),ot.P=!0,be(11))}}else di(this.i,this.l,x,null),yi(this,x);At==4&&vn(this),this.o&&!this.K&&(At==4?Tc(this.j,this):(this.o=!1,gi(this)))}else Ui(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),vn(this),Dn(this)}}}catch{}finally{}};function Gh(h){if(!dc(h))return h.g.la();const _=Pe(h.g);if(_==="")return"";let x="";const S=_.length,H=$n(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return vn(h),Dn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<S;X++)h.h.h=!0,x+=h.h.i.decode(_[X],{stream:!(H&&X==S-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function dc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function mc(h,_){var x=h.C,S=_.indexOf(`
`,x);return S==-1?Ve:(x=Number(_.substring(x,S)),isNaN(x)?xe:(S+=1,S+x>_.length?Ve:(_=_.slice(S,S+x),h.C=S+x,_)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function gi(h){h.T=Date.now()+h.H,ar(h,h.H)}function ar(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fi(g(h.aa,h),_)}function pi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(ui(),be(17)),vn(this),this.m=2,Dn(this)):ar(this,this.T-h)};function Dn(h){h.j.I==0||h.K||Tc(h.j,h)}function vn(h){pi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,dl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function yi(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||vi(x.h,h))){if(!h.L&&vi(x.h,h)&&x.I==3){try{var S=x.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)dr(x),bs(x);else break t;pa(x),be(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=fi(g(x.Va,x),6e3));_i(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ai(x,11)}else if((h.L||x.g==h)&&dr(x),!M(_))for(H=x.Ba.g.parse(_),_=0;_<H.length;_++){let Pt=H[_];const re=Pt[0];if(!(re<=x.K))if(x.K=re,Pt=Pt[1],x.I==2)if(Pt[0]=="c"){x.M=Pt[1],x.ba=Pt[2];const Nn=Pt[3];Nn!=null&&(x.ka=Nn,x.j.info("VER="+x.ka));const wi=Pt[4];wi!=null&&(x.za=wi,x.j.info("SVER="+x.za));const Jn=Pt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(S=1.5*Jn,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const ti=h.g;if(ti){const ya=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var X=S.h;X.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_l(X,X.h),X.h=null))}if(S.G){const mr=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;mr&&(S.wa=mr,Yt(S.J,S.G,mr))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var ot=h;if(S.na=wc(S,S.L?S.ba:null,S.W),ot.L){vl(S.h,ot);var At=ot,ge=S.O;ge&&(At.H=ge),At.D&&(pi(At),gi(At)),S.g=ot}else xc(S);x.i.length>0&&Si(x)}else Pt[0]!="stop"&&Pt[0]!="close"||Ai(x,7);else x.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ai(x,7):Rl(x):Pt[0]!="noop"&&x.l&&x.l.qa(Pt),x.A=0)}}ui(4)}catch{}}var Ee=class{constructor(h,_){this.g=h,this.map=_}};function pl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _i(h){return h.h?1:h.g?h.g.size:0}function vi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function _l(h,_){h.g?h.g.add(_):h.h=_}function vl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}pl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return w(h.i)}var gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rr(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const S=h[x].indexOf("=");let H,X=null;S>=0?(H=h[x].substring(0,S),X=h[x].substring(S+1)):H=h[x],_(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof bn?(this.l=h.l,Ie(this,h.j),this.o=h.o,this.g=h.g,ds(this,h.u),this.h=h.h,xl(this,vc(h.i)),this.m=h.m):h&&(_=String(h).match(gc))?(this.l=!1,Ie(this,_[1]||"",!0),this.o=bi(_[2]||""),this.g=bi(_[3]||"",!0),ds(this,_[4]),this.h=bi(_[5]||"",!0),xl(this,_[6]||"",!0),this.m=bi(_[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}bn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ua(_,lr,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ua(_,lr,!0),"@"),h.push(ji(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(ua(x,x.charAt(0)=="/"?El:pc,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",ua(x,yc)),h.join("")},bn.prototype.resolve=function(h){const _=Te(this);let x=!!h.j;x?Ie(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var S=h.h;if(x)ds(_,h.u);else if(x=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=_.h.lastIndexOf("/");H!=-1&&(S=_.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ot=0;ot<H.length;){const At=H[ot++];At=="."?S&&ot==H.length&&X.push(""):At==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),S&&ot==H.length&&X.push("")):(X.push(At),S=!0)}S=X.join("/")}else S=H}return x?_.h=S:x=h.i.toString()!=="",x?xl(_,vc(h.i)):x=!!h.m,x&&(_.m=h.m),_};function Te(h){return new bn(h)}function Ie(h,_,x){h.j=x?bi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ds(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function xl(h,_,x){_ instanceof gs?(h.i=_,cr(h.i,h.l)):(x||(_=ua(_,ms)),h.i=new gs(_,h.l))}function Yt(h,_,x){h.i.set(_,x)}function ca(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function bi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ua(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,ln),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var lr=/[#\/\?@]/g,pc=/[#\?:]/g,El=/[#\?]/g,ms=/[#\?@]/g,yc=/#/g;function gs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function on(h){h.g||(h.g=new Map,h.h=0,h.i&&rr(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}i=gs.prototype,i.add=function(h,_){on(this),this.i=null,h=ps(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function _c(h,_){on(h),_=ps(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Tl(h,_){return on(h),_=ps(h,_),h.g.has(_)}i.forEach=function(h,_){on(this),this.g.forEach(function(x,S){x.forEach(function(H){h.call(_,H,S,this)},this)},this)};function Sl(h,_){on(h);let x=[];if(typeof _=="string")Tl(h,_)&&(x=x.concat(h.g.get(ps(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}i.set=function(h,_){return on(this),this.i=null,h=ps(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=Sl(this,h),h.length>0?String(h[0]):_):_};function or(h,_,x){_c(h,_),x.length>0&&(h.i=null,h.g.set(ps(h,_),w(x)),h.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var x=_[S];const H=ji(x);x=Sl(this,x);for(let X=0;X<x.length;X++){let ot=H;x[X]!==""&&(ot+="="+ji(x[X])),h.push(ot)}}return this.i=h.join("&")};function vc(h){const _=new gs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function ps(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function cr(h,_){_&&!h.j&&(on(h),h.i=null,h.g.forEach(function(x,S){const H=S.toLowerCase();S!=H&&(_c(this,S),or(this,H,x))},h)),h.j=_}function Zn(h,_){const x=new Xn;if(u.Image){const S=new Image;S.onload=y(Mn,x,"TestLoadImage: loaded",!0,_,S),S.onerror=y(Mn,x,"TestLoadImage: error",!1,_,S),S.onabort=y(Mn,x,"TestLoadImage: abort",!1,_,S),S.ontimeout=y(Mn,x,"TestLoadImage: timeout",!1,_,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else _(!1)}function Al(h,_){const x=new Xn,S=new AbortController,H=setTimeout(()=>{S.abort(),Mn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(H),X.ok?Mn(x,"TestPingServer: ok",!0,_):Mn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Mn(x,"TestPingServer: error",!1,_)})}function Mn(h,_,x,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(x)}catch{}}function ys(){this.g=new rc}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(xi,lc),xi.prototype.g=function(){return new ha(this.i,this.h)};function ha(h,_){ve.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ha,ve),i=ha.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Wn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ur(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ur(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?_s(this):Wn(this),this.readyState==3&&ur(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,_s(this))},i.Na=function(h){this.g&&(this.response=h,_s(this))},i.ga=function(){this.g&&_s(this)};function _s(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Wn(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function Wn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let _="";return dt(h,function(x,S){_+=S,_+=":",_+=x,_+=`\r
`}),_}function fa(h,_,x){t:{for(S in x){var S=!1;break t}S=!0}S||(x=On(x),typeof h=="string"?x!=null&&ji(x):Yt(h,_,x))}function Kt(h){ve.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,ve);var Ei=/^https?$/i,wl=["POST","PUT"];i=Kt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){da(this,X);return}if(h=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)x.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())x.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),H=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(wl,_,void 0)>=0)||S||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of x)this.g.setRequestHeader(X,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){da(this,X)}};function da(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Cl(h),Bi(h)}function Cl(h){h.A||(h.A=!0,Oe(h,"complete"),Oe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Oe(this,"complete"),Oe(this,"abort"),Bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Kt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},i.Xa=function(){ma(this)};function ma(h){if(h.h&&typeof o<"u"){if(h.v&&$n(h)==4)setTimeout(h.Ca.bind(h),0);else if(Oe(h,"readystatechange"),$n(h)==4){h.h=!1;try{const X=h.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var x;if(!(x=_)){var S;if(S=X===0){let ot=String(h.D).match(gc)[1]||null;!ot&&u.self&&u.self.location&&(ot=u.self.location.protocol.slice(0,-1)),S=!Ei.test(ot?ot.toLowerCase():"")}x=S}if(x)Oe(h,"complete"),Oe(h,"success");else{h.o=6;try{var H=$n(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Cl(h)}}finally{Bi(h)}}}}function Bi(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||Oe(h,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function $n(h){return h.g?h.g.readyState:0}i.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Fh(_)}};function Pe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(h){const _={};h=(h.g&&$n(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(M(h[S]))continue;var x=fc(h[S]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=_[H]||[];_[H]=X,X.push(x)}Et(_,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function vs(h){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,h),this.Za=Ti("retryDelaySeedMs",1e4,h),this.Ta=Ti("forwardChannelMaxRetries",2,h),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(h&&h.concurrentRequestLimit),this.Ba=new ys,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=vs.prototype,i.ka=8,i.I=1,i.connect=function(h,_,x,S){be(0),this.W=h,this.H=_||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=wc(this,null,this.W),Si(this)};function Rl(h){if(hr(h),h.I==3){var _=h.V++,x=Te(h.J);if(Yt(x,"SID",h.M),Yt(x,"RID",_),Yt(x,"TYPE","terminate"),ga(h,x),_=new Qn(h,h.j,_),_.M=2,_.A=ca(Te(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=_.A,x=!0),x||(_.g=Cc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),gi(_)}Ac(h)}function bs(h){h.g&&(Ml(h),h.g.cancel(),h.g=null)}function hr(h){bs(h),h.v&&(u.clearTimeout(h.v),h.v=null),dr(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Si(h){if(!yl(h.h)&&!h.m){h.m=!0;var _=h.Ea;rt||A(),st||(rt(),st=!0),C.add(_,h),h.D=0}}function fr(h,_){return _i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fi(g(h.Ea,h,_),Sc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Qn(this,this.j,h);let X=this.o;if(this.U&&(X?(X=L(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)t:{for(var _=0,x=0;x<this.i.length;x++){e:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=x;break t}if(_===4096||x===this.i.length-1){_=x+1;break t}}_=1e3}else _=1e3;_=bc(this,H,_),x=Te(this.J),Yt(x,"RID",h),Yt(x,"CVER",22),this.G&&Yt(x,"X-HTTP-Session-Id",this.G),ga(this,x),X&&(this.R?_="headers="+ji(On(X))+"&"+_:this.u&&fa(x,this.u,X)),_l(this.h,H),this.Ra&&Yt(x,"TYPE","init"),this.S?(Yt(x,"$req",_),Yt(x,"SID","null"),H.U=!0,mi(H,x,null)):mi(H,x,_),this.I=2}}else this.I==3&&(h?Dl(this,h):this.i.length==0||yl(this.h)||Dl(this))};function Dl(h,_){var x;_?x=_.l:x=h.V++;const S=Te(h.J);Yt(S,"SID",h.M),Yt(S,"RID",x),Yt(S,"AID",h.K),ga(h,S),h.u&&h.o&&fa(S,h.u,h.o),x=new Qn(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=bc(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),_l(h.h,x),mi(x,S,_)}function ga(h,_){h.H&&dt(h.H,function(x,S){Yt(_,S,x)}),h.l&&dt({},function(x,S){Yt(_,S,x)})}function bc(h,_,x){x=Math.min(h.i.length,x);const S=h.l?g(h.l.Ka,h.l,h):null;t:{var H=h.i;let At=-1;for(;;){const ge=["count="+x];At==-1?x>0?(At=H[0].g,ge.push("ofs="+At)):At=0:ge.push("ofs="+At);let Pt=!0;for(let re=0;re<x;re++){var X=H[re].g;const Nn=H[re].map;if(X-=At,X<0)At=Math.max(0,H[re].g-100),Pt=!1;else try{X="req"+X+"_"||"";try{var ot=Nn instanceof Map?Nn:Object.entries(Nn);for(const[wi,Jn]of ot){let ti=Jn;f(Jn)&&(ti=fs(Jn)),ge.push(X+wi+"="+encodeURIComponent(ti))}}catch(wi){throw ge.push(X+"type="+encodeURIComponent("_badmap")),wi}}catch{S&&S(Nn)}}if(Pt){ot=ge.join("&");break t}}ot=void 0}return h=h.i.splice(0,x),_.G=h,ot}function xc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;rt||A(),st||(rt(),st=!0),C.add(_,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fi(g(h.Da,h),Sc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),bs(this),Ec(this))};function Ml(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Ec(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Te(h.na);Yt(_,"RID","rpc"),Yt(_,"SID",h.M),Yt(_,"AID",h.K),Yt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(_,"TO",h.ia),Yt(_,"TYPE","xmlhttp"),ga(h,_),h.u&&h.o&&fa(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=ca(Te(_)),x.u=null,x.R=!0,sr(x,h)}i.Va=function(){this.C!=null&&(this.C=null,bs(this),pa(this),be(19))};function dr(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Tc(h,_){var x=null;if(h.g==_){dr(h),Ml(h),h.g=null;var S=2}else if(vi(h.h,_))x=_.G,vl(h.h,_),S=1;else return;if(h.I!=0){if(_.o)if(S==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;S=ir(),Oe(S,new hi(S,x)),Si(h)}else xc(h);else if(H=_.m,H==3||H==0&&_.X>0||!(S==1&&fr(h,_)||S==2&&pa(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),H){case 1:Ai(h,5);break;case 4:Ai(h,10);break;case 3:Ai(h,6);break;default:Ai(h,2)}}}function Sc(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function Ai(h,_){if(h.j.info("Error code "+_),_==2){var x=g(h.bb,h),S=h.Ua;const H=!S;S=new bn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ie(S,"https"),ca(S),H?Zn(S.toString(),x):Al(S.toString(),x)}else be(2);h.I=0,h.l&&h.l.pa(_),Ac(h),hr(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Ac(h){if(h.I=0,h.ja=[],h.l){const _=bl(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function wc(h,_,x){var S=x instanceof bn?Te(x):new bn(x);if(S.g!="")_&&(S.g=_+"."+S.g),ds(S,S.u);else{var H=u.location;S=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const X=new bn(null);S&&Ie(X,S),_&&(X.g=_),H&&ds(X,H),x&&(X.h=x),S=X}return x=h.G,_=h.wa,x&&_&&Yt(S,x,_),Yt(S,"VER",h.ka),ga(h,S),S}function Cc(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Kt(new xi({ab:x})):new Kt(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}i=Rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function xs(){}xs.prototype.g=function(h,_){return new an(h,_)};function an(h,_){ve.call(this),this.g=new vs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!M(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Pi(this)}b(an,ve),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Rl(this.g)},an.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=fs(h),h=x);_.i.push(new Ee(_.Ya++,h)),_.I==3&&Si(_)},an.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,an.Z.N.call(this)};function Dc(h){Ue.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const x in _){h=x;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Dc,Ue);function Mc(){Rn.call(this),this.status=1}b(Mc,Rn);function Pi(h){this.g=h}b(Pi,Rc),Pi.prototype.ra=function(){Oe(this.g,"a")},Pi.prototype.qa=function(h){Oe(this.g,new Dc(h))},Pi.prototype.pa=function(h){Oe(this.g,new Mc)},Pi.prototype.oa=function(){Oe(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Nb=function(){return new xs},Ob=function(){return ir()},Mb=me,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Ju=la,ml.COMPLETE="complete",Db=ml,oc.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Eo=oc,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,Rb=Kt}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",m0="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let rl="12.7.0";const Ya=new Eb("@firebase/firestore");function Yr(){return Ya.logLevel}function gt(i,...t){if(Ya.logLevel<=Lt.DEBUG){const e=t.map(Um);Ya.debug(`Firestore (${rl}): ${i}`,...e)}}function Ga(i,...t){if(Ya.logLevel<=Lt.ERROR){const e=t.map(Um);Ya.error(`Firestore (${rl}): ${i}`,...e)}}function Dh(i,...t){if(Ya.logLevel<=Lt.WARN){const e=t.map(Um);Ya.warn(`Firestore (${rl}): ${i}`,...e)}}function Um(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function Dt(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,Vb(i,s,e)}function Vb(i,t,e){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ga(s),new Error(s)}function de(i,t,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,i||Vb(t,r,s)}function ee(i,t){return i}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends al{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ha{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Ib{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Je.UNAUTHENTICATED)))}shutdown(){}}class nA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class iA{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){de(this.o===void 0,42304);let s=this.i;const r=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let o=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ha,t.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const m=o;t.enqueueRetryable((async()=>{await m.promise,await r(this.currentUser)}))},f=m=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ha)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(de(typeof s.accessToken=="string",31837,{l:s}),new Ib(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class sA{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aA{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new sA(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,US(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){de(this.o===void 0,3512);const s=o=>{o.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,gt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>s(o)))};const r=o=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(de(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new g0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lA(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=lA(40);for(let o=0;o<r.length;++o)s.length<20&&r[o]<e&&(s+=t.charAt(r[o]%62))}return s}}function qt(i,t){return i<t?-1:i>t?1:0}function pm(i,t){const e=Math.min(i.length,t.length);for(let s=0;s<e;s++){const r=i.charAt(s),o=t.charAt(s);if(r!==o)return Wd(r)===Wd(o)?qt(r,o):Wd(r)?1:-1}return qt(i.length,t.length)}const oA=55296,cA=57343;function Wd(i){const t=i.charCodeAt(0);return t>=oA&&t<=cA}function Wr(i,t,e){return i.length===t.length&&i.every(((s,r)=>e(s,t[r])))}const p0="__name__";class Ii{constructor(t,e,s){e===void 0?e=0:e>t.length&&Dt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Dt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let r=0;r<s;r++){const o=Ii.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return qt(t.length,e.length)}static compareSegments(t,e){const s=Ii.isNumericId(t),r=Ii.isNumericId(e);return s&&!r?-1:!s&&r?1:s&&r?Ii.extractNumericId(t).compare(Ii.extractNumericId(e)):pm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bm.fromString(t.substring(4,t.length-2))}}class ue extends Ii{construct(t,e,s){return new ue(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const uA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ii{construct(t,e,s){return new Qe(t,e,s)}static isValidIdentifier(t){return uA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new Qe([p0])}static fromServerFormat(t){const e=[];let s="",r=0;const o=()=>{if(s.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let u=!1;for(;r<t.length;){const f=t[r];if(f==="\\"){if(r+1===t.length)throw new yt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,r+=2}else f==="`"?(u=!u,r++):f!=="."||u?(s+=f,r++):(o(),r++)}if(o(),u)throw new yt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(e)}static emptyPath(){return new Qe([])}}class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(ue.fromString(t))}static fromName(t){return new Rt(ue.fromString(t).popFirst(5))}static empty(){return new Rt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new ue(t.slice()))}}function kb(i,t,e){if(!e)throw new yt(lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function hA(i,t,e,s){if(t===!0&&s===!0)throw new yt(lt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function y0(i){if(!Rt.isDocumentKey(i))throw new yt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _0(i){if(Rt.isDocumentKey(i))throw new yt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Hm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Dt(12329,{type:typeof i})}function Lb(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new yt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Hm(i);throw new yt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function De(i,t){const e={typeString:i};return t&&(e.value=t),e}function $o(i,t){if(!zb(i))throw new yt(lt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const r=t[s].typeString,o="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){e=`JSON missing required field: '${s}'`;break}const u=i[s];if(r&&typeof u!==r){e=`JSON field '${s}' must be a ${r}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${s}' field to equal '${o.value}'`;break}}if(e)throw new yt(lt.INVALID_ARGUMENT,e);return!0}const v0=-62135596800,b0=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*b0);return new ce(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<v0)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($o(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-v0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:De("string",ce._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class oe{static fromTimestamp(t){return new oe(t)}static min(){return new oe(new ce(0,0))}static max(){return new oe(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Po=-1;function fA(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,r=oe.fromTimestamp(s===1e9?new ce(e+1,0):new ce(e,s));return new Ws(r,Rt.empty(),t)}function dA(i){return new Ws(i.readTime,i.key,Po)}class Ws{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Ws(oe.min(),Rt.empty(),Po)}static max(){return new Ws(oe.max(),Rt.empty(),Po)}}function mA(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Rt.comparator(i.documentKey,t.documentKey),e!==0?e:qt(i.largestBatchId,t.largestBatchId))}const gA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Fm(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==gA)throw i;gt("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((s,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(s,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(s,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,s)=>{e(t)}))}static reject(t){return new it(((e,s)=>{s(t)}))}static waitFor(t){return new it(((e,s)=>{let r=0,o=0,u=!1;t.forEach((f=>{++r,f.next((()=>{++o,u&&o===r&&e()}),(m=>s(m)))})),u=!0,o===r&&e()}))}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next((r=>r?it.resolve(r):s()));return e}static forEach(t,e){const s=[];return t.forEach(((r,o)=>{s.push(e.call(this,r,o))})),this.waitFor(s)}static mapArray(t,e){return new it(((s,r)=>{const o=t.length,u=new Array(o);let f=0;for(let m=0;m<o;m++){const g=m;e(t[g]).next((y=>{u[g]=y,++f,f===o&&s(u)}),(y=>r(y)))}}))}static doWhile(t,e){return new it(((s,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):s()};o()}))}}function yA(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Jo(i){return i.name==="IndexedDbTransactionError"}class qm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}qm.ce=-1;const Ym=-1;function Gm(i){return i==null}function uh(i){return i===0&&1/i==-1/0}function _A(i){return typeof i=="number"&&Number.isInteger(i)&&!uh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const jb="";function vA(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=x0(t)),t=bA(i.get(e),t);return x0(t)}function bA(i,t){let e=t;const s=i.length;for(let r=0;r<s;r++){const o=i.charAt(r);switch(o){case"\0":e+="";break;case jb:e+="";break;default:e+=o}}return e}function x0(i){return i+jb+""}function E0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function ll(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Bb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class _n{constructor(t,e){this.comparator=t,this.root=e||Ge.EMPTY}insert(t,e){return new _n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new _n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return e+s.left.size;r<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ku(this.root,t,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ku(this.root,t,this.comparator,!0)}}class ku{constructor(t,e,s,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?s(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,e,s,r,o){this.key=t,this.value=e,this.color=s??Ge.RED,this.left=r??Ge.EMPTY,this.right=o??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,r,o){return new Ge(t??this.key,e??this.value,s??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let r=this;const o=s(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,s),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Ge.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,e,s,r,o){return this}insert(t,e,s){return new Ge(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ke{constructor(t){this.comparator=t,this.data=new _n(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(t){return new T0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=s.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ke(this.comparator);return e.data=t,e}}class T0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class li{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new li([])}unionWith(t){let e=new Ke(Qe.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new li(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wr(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class xA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xA("Invalid base64 string: "+o):o}})(t);return new zi(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o})(t);return new zi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zi.EMPTY_BYTE_STRING=new zi("");const EA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(i){if(de(!!i,39018),typeof i=="string"){let t=0;const e=EA.exec(i);if(de(!!e,46558,{timestamp:i}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Xe(i.seconds),nanos:Xe(i.nanos)}}function Xe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $r(i){return typeof i=="string"?zi.fromBase64String(i):zi.fromUint8Array(i)}const Ub="server_timestamp",Pb="__type__",Hb="__previous_value__",Fb="__local_write_time__";function Xm(i){return(i?.mapValue?.fields||{})[Pb]?.stringValue===Ub}function Qm(i){const t=i.mapValue.fields[Hb];return Xm(t)?Qm(t):t}function hh(i){const t=Xa(i.mapValue.fields[Fb].timestampValue);return new ce(t.seconds,t.nanos)}class TA{constructor(t,e,s,r,o,u,f,m,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const fh="(default)";class dh{constructor(t,e){this.projectId=t,this.database=e||fh}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof dh&&t.projectId===this.projectId&&t.database===this.database}}const qb="__type__",SA="__max__",zu={mapValue:{}},Yb="__vector__",ym="value";function Qa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xm(i)?4:wA(i)?9007199254740991:AA(i)?10:11:Dt(28295,{value:i})}function Li(i,t){if(i===t)return!0;const e=Qa(i);if(e!==Qa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return hh(i).isEqual(hh(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Xa(r.timestampValue),f=Xa(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(r,o){return $r(r.bytesValue).isEqual($r(o.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(r,o){return Xe(r.geoPointValue.latitude)===Xe(o.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(o.geoPointValue.longitude)})(i,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Xe(r.integerValue)===Xe(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Xe(r.doubleValue),f=Xe(o.doubleValue);return u===f?uh(u)===uh(f):isNaN(u)&&isNaN(f)}return!1})(i,t);case 9:return Wr(i.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(r,o){const u=r.mapValue.fields||{},f=o.mapValue.fields||{};if(E0(u)!==E0(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Li(u[m],f[m])))return!1;return!0})(i,t);default:return Dt(52216,{left:i})}}function Ho(i,t){return(i.values||[]).find((e=>Li(e,t)))!==void 0}function Jr(i,t){if(i===t)return 0;const e=Qa(i),s=Qa(t);if(e!==s)return qt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return qt(i.booleanValue,t.booleanValue);case 2:return(function(o,u){const f=Xe(o.integerValue||o.doubleValue),m=Xe(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(i,t);case 3:return S0(i.timestampValue,t.timestampValue);case 4:return S0(hh(i),hh(t));case 5:return pm(i.stringValue,t.stringValue);case 6:return(function(o,u){const f=$r(o),m=$r(u);return f.compareTo(m)})(i.bytesValue,t.bytesValue);case 7:return(function(o,u){const f=o.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=qt(f[g],m[g]);if(y!==0)return y}return qt(f.length,m.length)})(i.referenceValue,t.referenceValue);case 8:return(function(o,u){const f=qt(Xe(o.latitude),Xe(u.latitude));return f!==0?f:qt(Xe(o.longitude),Xe(u.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return A0(i.arrayValue,t.arrayValue);case 10:return(function(o,u){const f=o.fields||{},m=u.fields||{},g=f[ym]?.arrayValue,y=m[ym]?.arrayValue,b=qt(g?.values?.length||0,y?.values?.length||0);return b!==0?b:A0(g,y)})(i.mapValue,t.mapValue);case 11:return(function(o,u){if(o===zu.mapValue&&u===zu.mapValue)return 0;if(o===zu.mapValue)return 1;if(u===zu.mapValue)return-1;const f=o.fields||{},m=Object.keys(f),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const E=pm(m[b],y[b]);if(E!==0)return E;const w=Jr(f[m[b]],g[y[b]]);if(w!==0)return w}return qt(m.length,y.length)})(i.mapValue,t.mapValue);default:throw Dt(23264,{he:e})}}function S0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return qt(i,t);const e=Xa(i),s=Xa(t),r=qt(e.seconds,s.seconds);return r!==0?r:qt(e.nanos,s.nanos)}function A0(i,t){const e=i.values||[],s=t.values||[];for(let r=0;r<e.length&&r<s.length;++r){const o=Jr(e[r],s[r]);if(o)return o}return qt(e.length,s.length)}function tl(i){return _m(i)}function _m(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const s=Xa(e);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return $r(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return Rt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let s="[",r=!0;for(const o of e.values||[])r?r=!1:s+=",",s+=_m(o);return s+"]"})(i.arrayValue):"mapValue"in i?(function(e){const s=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const u of s)o?o=!1:r+=",",r+=`${u}:${_m(e.fields[u])}`;return r+"}"})(i.mapValue):Dt(61005,{value:i})}function th(i){switch(Qa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qm(i);return t?16+th(t):16;case 5:return 2*i.stringValue.length;case 6:return $r(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,o)=>r+th(o)),0)})(i.arrayValue);case 10:case 11:return(function(s){let r=0;return ll(s.fields,((o,u)=>{r+=o.length+th(u)})),r})(i.mapValue);default:throw Dt(13486,{value:i})}}function vm(i){return!!i&&"integerValue"in i}function Km(i){return!!i&&"arrayValue"in i}function eh(i){return!!i&&"mapValue"in i}function AA(i){return(i?.mapValue?.fields||{})[qb]?.stringValue===Yb}function Ro(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return ll(i.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Ro(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ro(i.arrayValue.values[e]);return t}return{...i}}function wA(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===SA}class ai{constructor(t){this.value=t}static empty(){return new ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!eh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ro(e)}setAll(t){let e=Qe.emptyPath(),s={},r=[];t.forEach(((u,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,s,r),s={},r=[],e=f.popLast()}u?s[f.lastSegment()]=Ro(u):r.push(f.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,s,r)}delete(t){const e=this.field(t.popLast());eh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=e.mapValue.fields[t.get(s)];eh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,s){ll(e,((r,o)=>t[r]=o));for(const r of s)delete t[r]}clone(){return new ai(Ro(this.value))}}function Gb(i){const t=[];return ll(i.fields,((e,s)=>{const r=new Qe([e]);if(eh(s)){const o=Gb(s.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)})),new li(t)}class si{constructor(t,e,s,r,o,u,f){this.key=t,this.documentType=e,this.version=s,this.readTime=r,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(t){return new si(t,0,oe.min(),oe.min(),oe.min(),ai.empty(),0)}static newFoundDocument(t,e,s,r){return new si(t,1,e,oe.min(),s,r,0)}static newNoDocument(t,e){return new si(t,2,e,oe.min(),oe.min(),ai.empty(),0)}static newUnknownDocument(t,e){return new si(t,3,e,oe.min(),oe.min(),ai.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(t,e){this.position=t,this.inclusive=e}}function w0(i,t,e){let s=0;for(let r=0;r<i.position.length;r++){const o=t[r],u=i.position[r];if(o.field.isKeyField()?s=Rt.comparator(Rt.fromName(u.referenceValue),e.key):s=Jr(u,e.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function C0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Li(i.position[e],t.position[e]))return!1;return!0}class gh{constructor(t,e="asc"){this.field=t,this.dir=e}}function CA(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class Xb{}class Le extends Xb{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new DA(t,e,s):e==="array-contains"?new NA(t,s):e==="in"?new VA(t,s):e==="not-in"?new IA(t,s):e==="array-contains-any"?new kA(t,s):new Le(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new MA(t,s):new OA(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Jr(e,this.value)):e!==null&&Qa(this.value)===Qa(e)&&this.matchesComparison(Jr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends Xb{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new $s(t,e)}matches(t){return Qb(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qb(i){return i.op==="and"}function Kb(i){return RA(i)&&Qb(i)}function RA(i){for(const t of i.filters)if(t instanceof $s)return!1;return!0}function bm(i){if(i instanceof Le)return i.field.canonicalString()+i.op.toString()+tl(i.value);if(Kb(i))return i.filters.map((t=>bm(t))).join(",");{const t=i.filters.map((e=>bm(e))).join(",");return`${i.op}(${t})`}}function Zb(i,t){return i instanceof Le?(function(s,r){return r instanceof Le&&s.op===r.op&&s.field.isEqual(r.field)&&Li(s.value,r.value)})(i,t):i instanceof $s?(function(s,r){return r instanceof $s&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((o,u,f)=>o&&Zb(u,r.filters[f])),!0):!1})(i,t):void Dt(19439)}function Wb(i){return i instanceof Le?(function(e){return`${e.field.canonicalString()} ${e.op} ${tl(e.value)}`})(i):i instanceof $s?(function(e){return e.op.toString()+" {"+e.getFilters().map(Wb).join(" ,")+"}"})(i):"Filter"}class DA extends Le{constructor(t,e,s){super(t,e,s),this.key=Rt.fromName(s.referenceValue)}matches(t){const e=Rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class MA extends Le{constructor(t,e){super(t,"in",e),this.keys=$b("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class OA extends Le{constructor(t,e){super(t,"not-in",e),this.keys=$b("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function $b(i,t){return(t.arrayValue?.values||[]).map((e=>Rt.fromName(e.referenceValue)))}class NA extends Le{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Km(e)&&Ho(e.arrayValue,this.value)}}class VA extends Le{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ho(this.value.arrayValue,e)}}class IA extends Le{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ho(this.value.arrayValue,e)}}class kA extends Le{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Km(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Ho(this.value.arrayValue,s)))}}class zA{constructor(t,e=null,s=[],r=[],o=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=r,this.limit=o,this.startAt=u,this.endAt=f,this.Te=null}}function R0(i,t=null,e=[],s=[],r=null,o=null,u=null){return new zA(i,t,e,s,r,o,u)}function Zm(i){const t=ee(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>bm(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Gm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>tl(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>tl(s))).join(",")),t.Te=e}return t.Te}function Wm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!CA(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!Zb(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!C0(i.startAt,t.startAt)&&C0(i.endAt,t.endAt)}class Mh{constructor(t,e=null,s=[],r=[],o=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=r,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LA(i,t,e,s,r,o,u,f){return new Mh(i,t,e,s,r,o,u,f)}function jA(i){return new Mh(i)}function D0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function BA(i){return i.collectionGroup!==null}function Do(i){const t=ee(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ke(Qe.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new gh(o,s))})),e.has(Qe.keyField().canonicalString())||t.Ie.push(new gh(Qe.keyField(),s))}return t.Ie}function Fa(i){const t=ee(i);return t.Ee||(t.Ee=UA(t,Do(i))),t.Ee}function UA(i,t){if(i.limitType==="F")return R0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new gh(r.field,o)}));const e=i.endAt?new mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new mh(i.startAt.position,i.startAt.inclusive):null;return R0(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function xm(i,t,e){return new Mh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Jb(i,t){return Wm(Fa(i),Fa(t))&&i.limitType===t.limitType}function t1(i){return`${Zm(Fa(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((r=>Wb(r))).join(", ")}]`),Gm(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>tl(r))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>tl(r))).join(",")),`Target(${s})`})(Fa(i))}; limitType=${i.limitType})`}function $m(i,t){return t.isFoundDocument()&&(function(s,r){const o=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Rt.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(i,t)&&(function(s,r){for(const o of Do(s))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(i,t)&&(function(s,r){for(const o of s.filters)if(!o.matches(r))return!1;return!0})(i,t)&&(function(s,r){return!(s.startAt&&!(function(u,f,m){const g=w0(u,f,m);return u.inclusive?g<=0:g<0})(s.startAt,Do(s),r)||s.endAt&&!(function(u,f,m){const g=w0(u,f,m);return u.inclusive?g>=0:g>0})(s.endAt,Do(s),r))})(i,t)}function PA(i){return(t,e)=>{let s=!1;for(const r of Do(i)){const o=HA(r,t,e);if(o!==0)return o;s=s||r.field.isKeyField()}return 0}}function HA(i,t,e){const s=i.field.isKeyField()?Rt.comparator(t.key,e.key):(function(o,u,f){const m=u.data.field(o),g=f.data.field(o);return m!==null&&g!==null?Jr(m,g):Dt(42886)})(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Dt(19790,{direction:i.dir})}}class Za{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[r,o]of s)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[e]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ll(this.inner,((e,s)=>{for(const[r,o]of s)t(r,o)}))}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}const FA=new _n(Rt.comparator);function ph(){return FA}const e1=new _n(Rt.comparator);function Lu(...i){let t=e1;for(const e of i)t=t.insert(e.key,e);return t}function n1(i){let t=e1;return i.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Ba(){return Mo()}function i1(){return Mo()}function Mo(){return new Za((i=>i.toString()),((i,t)=>i.isEqual(t)))}const qA=new _n(Rt.comparator),YA=new Ke(Rt.comparator);function tn(...i){let t=YA;for(const e of i)t=t.add(e);return t}const GA=new Ke(qt);function XA(){return GA}function Jm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(t)?"-0":t}}function s1(i){return{integerValue:""+i}}function QA(i,t){return _A(t)?s1(t):Jm(i,t)}class Oh{constructor(){this._=void 0}}function KA(i,t,e){return i instanceof Fo?(function(r,o){const u={fields:{[Pb]:{stringValue:Ub},[Fb]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Xm(o)&&(o=Qm(o)),o&&(u.fields[Hb]=o),{mapValue:u}})(e,t):i instanceof qo?r1(i,t):i instanceof Yo?l1(i,t):(function(r,o){const u=a1(r,o),f=M0(u)+M0(r.Ae);return vm(u)&&vm(r.Ae)?s1(f):Jm(r.serializer,f)})(i,t)}function ZA(i,t,e){return i instanceof qo?r1(i,t):i instanceof Yo?l1(i,t):e}function a1(i,t){return i instanceof yh?(function(s){return vm(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(t)?t:{integerValue:0}:null}class Fo extends Oh{}class qo extends Oh{constructor(t){super(),this.elements=t}}function r1(i,t){const e=o1(t);for(const s of i.elements)e.some((r=>Li(r,s)))||e.push(s);return{arrayValue:{values:e}}}class Yo extends Oh{constructor(t){super(),this.elements=t}}function l1(i,t){let e=o1(t);for(const s of i.elements)e=e.filter((r=>!Li(r,s)));return{arrayValue:{values:e}}}class yh extends Oh{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function M0(i){return Xe(i.integerValue||i.doubleValue)}function o1(i){return Km(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class WA{constructor(t,e){this.field=t,this.transform=e}}function $A(i,t){return i.field.isEqual(t.field)&&(function(s,r){return s instanceof qo&&r instanceof qo||s instanceof Yo&&r instanceof Yo?Wr(s.elements,r.elements,Li):s instanceof yh&&r instanceof yh?Li(s.Ae,r.Ae):s instanceof Fo&&r instanceof Fo})(i.transform,t.transform)}class JA{constructor(t,e){this.version=t,this.transformResults=e}}class ls{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Nh{}function c1(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new h1(i.key,ls.none()):new tc(i.key,i.data,ls.none());{const e=i.data,s=ai.empty();let r=new Ke(Qe.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?s.delete(o):s.set(o,u),r=r.add(o)}return new Wa(i.key,s,new li(r.toArray()),ls.none())}}function t2(i,t,e){i instanceof tc?(function(r,o,u){const f=r.value.clone(),m=N0(r.fieldTransforms,o,u.transformResults);f.setAll(m),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(i,t,e):i instanceof Wa?(function(r,o,u){if(!nh(r.precondition,o))return void o.convertToUnknownDocument(u.version);const f=N0(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(u1(r)),m.setAll(f),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,t,e):(function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Oo(i,t,e,s){return i instanceof tc?(function(o,u,f,m){if(!nh(o.precondition,u))return f;const g=o.value.clone(),y=V0(o.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(i,t,e,s):i instanceof Wa?(function(o,u,f,m){if(!nh(o.precondition,u))return f;const g=V0(o.fieldTransforms,m,u),y=u.data;return y.setAll(u1(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(i,t,e,s):(function(o,u,f){return nh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(i,t,e)}function e2(i,t){let e=null;for(const s of i.fieldTransforms){const r=t.data.field(s.field),o=a1(s.transform,r||null);o!=null&&(e===null&&(e=ai.empty()),e.set(s.field,o))}return e||null}function O0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Wr(s,r,((o,u)=>$A(o,u)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class tc extends Nh{constructor(t,e,s,r=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wa extends Nh{constructor(t,e,s,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function u1(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}})),t}function N0(i,t,e){const s=new Map;de(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let r=0;r<e.length;r++){const o=i[r],u=o.transform,f=t.data.field(o.field);s.set(o.field,ZA(u,f,e[r]))}return s}function V0(i,t,e){const s=new Map;for(const r of i){const o=r.transform,u=e.data.field(r.field);s.set(r.field,KA(o,u,t))}return s}class h1 extends Nh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n2 extends Nh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class i2{constructor(t,e,s,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&t2(o,t,s[r])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Oo(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Oo(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=i1();return this.mutations.forEach((r=>{const o=t.get(r.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=e.has(r.key)?null:f;const m=c1(u,f);m!==null&&s.set(r.key,m),u.isValidDocument()||u.convertToNoDocument(oe.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),tn())}isEqual(t){return this.batchId===t.batchId&&Wr(this.mutations,t.mutations,((e,s)=>O0(e,s)))&&Wr(this.baseMutations,t.baseMutations,((e,s)=>O0(e,s)))}}class tg{constructor(t,e,s,r){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=r}static from(t,e,s){de(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let r=(function(){return qA})();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,s[u].version);return new tg(t,e,s,r)}}class s2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}var Re,zt;function a2(i){switch(i){case lt.OK:return Dt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Dt(15467,{code:i})}}function r2(i){if(i===void 0)return Ga("GRPC error has no .code"),lt.UNKNOWN;switch(i){case Re.OK:return lt.OK;case Re.CANCELLED:return lt.CANCELLED;case Re.UNKNOWN:return lt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return lt.INTERNAL;case Re.UNAVAILABLE:return lt.UNAVAILABLE;case Re.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Re.NOT_FOUND:return lt.NOT_FOUND;case Re.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Re.ABORTED:return lt.ABORTED;case Re.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Re.DATA_LOSS:return lt.DATA_LOSS;default:return Dt(39323,{code:i})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";new Bm([4294967295,4294967295],0);class l2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Em(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o2(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function c2(i,t){return Em(i,t.toTimestamp())}function Qr(i){return de(!!i,49232),oe.fromTimestamp((function(e){const s=Xa(e);return new ce(s.seconds,s.nanos)})(i))}function f1(i,t){return Tm(i,t).canonicalString()}function Tm(i,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(i).child("documents");return t===void 0?e:e.child(t)}function u2(i){const t=ue.fromString(i);return de(_2(t),10190,{key:t.toString()}),t}function Sm(i,t){return f1(i.databaseId,t.path)}function h2(i){const t=u2(i);return t.length===4?ue.emptyPath():d2(t)}function f2(i){return new ue(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function d2(i){return de(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function I0(i,t,e){return{name:Sm(i,t),fields:e.value.mapValue.fields}}function m2(i,t){let e;if(t instanceof tc)e={update:I0(i,t.key,t.value)};else if(t instanceof h1)e={delete:Sm(i,t.key)};else if(t instanceof Wa)e={update:I0(i,t.key,t.data),updateMask:y2(t.fieldMask)};else{if(!(t instanceof n2))return Dt(16599,{Vt:t.type});e={verify:Sm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(o,u){const f=u.transform;if(f instanceof Fo)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Yo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yh)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Dt(20930,{transform:u.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:c2(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Dt(27497)})(i,t.precondition)),e}function g2(i,t){return i&&i.length>0?(de(t!==void 0,14353),i.map((e=>(function(r,o){let u=r.updateTime?Qr(r.updateTime):Qr(o);return u.isEqual(oe.min())&&(u=Qr(o)),new JA(u,r.transformResults||[])})(e,t)))):[]}function p2(i){let t=h2(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let r=null;if(s>0){de(s===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(b){const E=d1(b);return E instanceof $s&&Kb(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(b){return b.map((E=>(function(D){return new gh(Gr(D.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(e.orderBy));let f=null;e.limit&&(f=(function(b){let E;return E=typeof b=="object"?b.value:b,Gm(E)?null:E})(e.limit));let m=null;e.startAt&&(m=(function(b){const E=!!b.before,w=b.values||[];return new mh(w,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(b){const E=!b.before,w=b.values||[];return new mh(w,E)})(e.endAt)),LA(t,r,u,o,f,"F",m,g)}function d1(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Gr(e.unaryFilter.field);return Le.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Gr(e.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gr(e.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gr(e.unaryFilter.field);return Le.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Le.create(Gr(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return $s.create(e.compositeFilter.filters.map((s=>d1(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(e.compositeFilter.op))})(i):Dt(30097,{filter:i})}function Gr(i){return Qe.fromServerFormat(i.fieldPath)}function y2(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _2(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class v2{constructor(t){this.yt=t}}function b2(i){const t=p2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xm(t,t.limit,"L"):t}class x2{constructor(){this.Cn=new E2}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Ws.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class E2{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e]||new Ke(ue.comparator),o=!r.has(s);return this.index[e]=r.add(s),o}has(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e];return r&&r.has(s)}getEntries(t){return(this.index[t]||new Ke(ue.comparator)).toArray()}}const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m1=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(m1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const z0="LruGarbageCollector",T2=1048576;function L0([i,t],[e,s]){const r=qt(i,e);return r===0?qt(t,s):r}class S2{constructor(t){this.Ir=t,this.buffer=new Ke(L0),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();L0(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){gt(z0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Jo(e)?gt(z0,"Ignoring IndexedDB error during garbage collection: ",e):await Fm(e)}await this.Vr(3e5)}))}}class w2{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(qm.ce);const s=new S2(e);return this.mr.forEachTarget(t,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(k0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,r,o,u,f,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,u=Date.now(),this.nthSequenceNumber(t,r)))).next((b=>(s=b,f=Date.now(),this.removeTargets(t,s,e)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(g=Date.now(),Yr()<=Lt.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${r} in `+(f-u)+`ms
	Removed ${o} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b}))))}}function C2(i,t){return new w2(i,t)}class R2{constructor(){this.changes=new Za((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,si.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class D2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class M2{constructor(t,e,s,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(s=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(s!==null&&Oo(s.mutation,r,li.empty(),ce.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,tn()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=tn()){const r=Ba();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,s).next((o=>{let u=Lu();return o.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const s=Ba();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,tn())))}populateOverlays(t,e,s){const r=[];return s.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((u,f)=>{e.set(u,f)}))}))}computeViews(t,e,s,r){let o=ph();const u=Mo(),f=(function(){return Mo()})();return e.forEach(((m,g)=>{const y=s.get(g.key);r.has(g.key)&&(y===void 0||y.mutation instanceof Wa)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Oo(y.mutation,g,y.mutation.getFieldMask(),ce.now())):u.set(g.key,li.empty())})),this.recalculateAndSaveOverlays(t,o).next((m=>(m.forEach(((g,y)=>u.set(g,y))),e.forEach(((g,y)=>f.set(g,new D2(y,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(t,e){const s=Mo();let r=new _n(((u,f)=>u-f)),o=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const f of u)f.keys().forEach((m=>{const g=e.get(m);if(g===null)return;let y=s.get(m)||li.empty();y=f.applyToLocalView(g,y),s.set(m,y);const b=(r.get(f.batchId)||tn()).add(m);r=r.insert(f.batchId,b)}))})).next((()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,b=i1();y.forEach((E=>{if(!o.has(E)){const w=c1(e.get(E),s.get(E));w!==null&&b.set(E,w),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,g,b))}return it.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,r){return(function(u){return Rt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):BA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,r):this.getDocumentsMatchingCollectionQuery(t,e,s,r)}getNextDocuments(t,e,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,r).next((o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,r-o.size):it.resolve(Ba());let f=Po,m=o;return u.next((g=>it.forEach(g,((y,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,g,o))).next((()=>this.computeViews(t,m,g,tn()))).next((y=>({batchId:f,changes:n1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Rt(e)).next((s=>{let r=Lu();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,r){const o=e.collectionGroup;let u=Lu();return this.indexManager.getCollectionParents(t,o).next((f=>it.forEach(f,(m=>{const g=(function(b,E){return new Mh(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(e,m.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,s,r).next((y=>{y.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,s,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,o,r)))).next((u=>{o.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,si.newInvalidDocument(y)))}));let f=Lu();return u.forEach(((m,g)=>{const y=o.get(m);y!==void 0&&Oo(y.mutation,g,li.empty(),ce.now()),$m(e,g)&&(f=f.insert(m,g))})),f}))}}class O2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Qr(r.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:b2(r.bundledQuery),readTime:Qr(r.readTime)}})(e)),it.resolve()}}class N2{constructor(){this.overlays=new _n(Rt.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Ba();return it.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&s.set(r,o)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((r,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const r=Ba(),o=e.length+1,u=new Rt(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&m.largestBatchId>s&&r.set(m.getKey(),m)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,s,r){let o=new _n(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=o.get(g.largestBatchId);y===null&&(y=Ba(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=Ba(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=r)););return it.resolve(f)}St(t,e,s){const r=this.overlays.get(s.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new s2(e,s));let o=this.qr.get(e);o===void 0&&(o=tn(),this.qr.set(e,o)),this.qr.set(e,o.add(s.key))}}class V2{constructor(){this.sessionToken=zi.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}class eg{constructor(){this.Qr=new Ke(ze.$r),this.Ur=new Ke(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new ze(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new ze(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new Rt(new ue([])),s=new ze(e,t),r=new ze(e,t+1),o=[];return this.Ur.forEachInRange([s,r],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Rt(new ue([])),s=new ze(e,t),r=new ze(e,t+1);let o=tn();return this.Ur.forEachInRange([s,r],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new ze(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Rt.comparator(t.key,e.key)||qt(t.Yr,e.Yr)}static Kr(t,e){return qt(t.Yr,e.Yr)||Rt.comparator(t.key,e.key)}}class I2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(ze.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new i2(o,e,s,r);this.mutationQueue.push(u);for(const f of r)this.Zr=this.Zr.add(new ze(f.key,o)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return it.resolve(u)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,r=this.ei(s),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new ze(e,0),r=new ze(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,r],(u=>{const f=this.Xr(u.Yr);o.push(f)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ke(qt);return e.forEach((r=>{const o=new ze(r,0),u=new ze(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(f=>{s=s.add(f.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,r=s.length+1;let o=s;Rt.isDocumentKey(o)||(o=o.child(""));const u=new ze(new Rt(o),0);let f=new Ke(qt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===r&&(f=f.add(m.Yr)),!0)}),u),it.resolve(this.ti(f))}ti(t){const e=[];return t.forEach((s=>{const r=this.Xr(s);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){de(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(e.mutations,(r=>{const o=new ze(r.key,e.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new ze(e,0),r=this.Zr.firstAfterOrEqual(s);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class k2{constructor(t){this.ri=t,this.docs=(function(){return new _n(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,r=this.docs.get(s),o=r?r.size:0,u=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():si.newInvalidDocument(e))}getEntries(t,e){let s=ph();return e.forEach((r=>{const o=this.docs.get(r);s=s.insert(r,o?o.document.mutableCopy():si.newInvalidDocument(r))})),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,r){let o=ph();const u=e.path,f=new Rt(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||mA(dA(y),s)<=0||(r.has(y.key)||$m(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,s,r){Dt(9500)}ii(t,e){return it.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new z2(this)}getSize(t){return it.resolve(this.size)}}class z2 extends R2{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(s)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class L2{constructor(t){this.persistence=t,this.si=new Za((e=>Zm(e)),Wm),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new eg,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,e){return this.si.forEach(((s,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new el(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let r=0;const o=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=e&&s.get(f.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)})),it.waitFor(o).next((()=>r))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),it.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((u=>{o.push(r.markPotentiallyOrphaned(t,u))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}class g1{constructor(t,e){this.ui={},this.overlays={},this.ci=new qm(0),this.li=!1,this.li=!0,this.hi=new V2,this.referenceDelegate=t(this),this.Pi=new L2(this),this.indexManager=new x2,this.remoteDocumentCache=(function(r){return new k2(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new v2(e),this.Ii=new O2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new N2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new I2(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){gt("MemoryPersistence","Starting transaction:",t);const r=new j2(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class j2 extends pA{constructor(t){super(),this.currentSequenceNumber=t}}class ng{constructor(t){this.persistence=t,this.Ri=new eg,this.Vi=null}static mi(t){return new ng(t)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const r=Rt.fromPath(s);return this.gi(t,r).next((o=>{o||e.removeEntry(r,oe.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class _h{constructor(t,e){this.persistence=t,this.pi=new Za((s=>vA(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=C2(this,e)}static mi(t,e){return new _h(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((r=>s+r))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((s,r)=>this.br(t,s,r).next((o=>o?it.resolve():e(r)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(u=>this.br(t,u,e).next((f=>{f||(s++,o.removeEntry(u,oe.min()))})))).next((()=>o.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=th(t.data.value)),e}br(t,e,s){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return it.resolve(r!==void 0&&r>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ig{constructor(t,e,s,r){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=r}static As(t,e){let s=tn(),r=tn();for(const o of e.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new ig(t,e.fromCache,s,r)}}class B2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class U2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LT()?8:yA(kT())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,r){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,r,s).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new B2;return this.Ss(t,e,u).next((f=>{if(o.result=f,this.Vs)return this.bs(t,e,u,f.size)}))})).next((()=>o.result))}bs(t,e,s,r){return s.documentReadCount<this.fs?(Yr()<=Lt.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",po(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Yr()<=Lt.DEBUG&&gt("QueryEngine","Query:",po(e),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Yr()<=Lt.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",po(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fa(e))):it.resolve())}ys(t,e){if(D0(e))return it.resolve(null);let s=Fa(e);return this.indexManager.getIndexType(t,s).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=xm(e,null,"F"),s=Fa(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((o=>{const u=tn(...o);return this.ps.getDocuments(t,u).next((f=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(e,f);return this.Cs(e,g,u,m.readTime)?this.ys(t,xm(e,null,"F")):this.vs(t,g,e,m)}))))})))))}ws(t,e,s,r){return D0(e)||r.isEqual(oe.min())?it.resolve(null):this.ps.getDocuments(t,s).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,s,r)?it.resolve(null):(Yr()<=Lt.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),po(e)),this.vs(t,u,e,fA(r,Po)).next((f=>f)))}))}Ds(t,e){let s=new Ke(PA(t));return e.forEach(((r,o)=>{$m(t,o)&&(s=s.add(o))})),s}Cs(t,e,s,r){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,s){return Yr()<=Lt.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",po(e)),this.ps.getDocumentsMatchingQuery(t,e,Ws.min(),s)}vs(t,e,s,r){return this.ps.getDocumentsMatchingQuery(t,s,r).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const P2="LocalStore";class H2{constructor(t,e,s,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new _n(qt),this.xs=new Za((o=>Zm(o)),Wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new M2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function F2(i,t,e,s){return new H2(i,t,e,s)}async function p1(i,t){const e=ee(i);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return e.mutationQueue.getAllMutationBatches(s).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((o=>{const u=[],f=[];let m=tn();for(const g of r){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of o){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function q2(i,t){const e=ee(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const b=g.batch,E=b.keys();let w=it.resolve();return E.forEach((D=>{w=w.next((()=>y.getEntry(m,D))).next((V=>{const N=g.docVersions.get(D);de(N!==null,48541),V.version.compareTo(N)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),y.addEntry(V)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(e,s,t,o).next((()=>o.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=tn();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(s,r)))}))}function Y2(i){const t=ee(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function G2(i,t){const e=ee(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ym),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}class j0{constructor(){this.activeTargetIds=XA()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class X2{constructor(){this.Mo=new j0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new j0,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Q2{Oo(t){}shutdown(){}}const B0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt(B0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){gt(B0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ju=null;function Am(){return ju===null?ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():ju++,"0x"+ju.toString(16)}const $d="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(t,e,s,r,o){const u=Am(),f=this.zo(t,e.toUriEncodedString());gt($d,`Sending RPC '${t}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,r,o);const{host:g}=new URL(f),y=Lm(g);return this.Jo(t,f,m,s,y).then((b=>(gt($d,`Received RPC '${t}' ${u}: `,b),b)),(b=>{throw Dh($d,`RPC '${t}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(t,e,s,r,o,u){return this.Go(t,e,s,r,o)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),s&&s.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const s=K2[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}class W2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const We="WebChannelConnection";class $2 extends Z2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,r,o){const u=Am();return new Promise(((f,m)=>{const g=new Rb;g.setWithCredentials(!0),g.listenOnce(Db.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ju.NO_ERROR:const b=g.getResponseJson();gt(We,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(b)),f(b);break;case Ju.TIMEOUT:gt(We,`RPC '${t}' ${u} timed out`),m(new yt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const E=g.getStatus();if(gt(We,`RPC '${t}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const V=(function(Y){const $=Y.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf($)>=0?$:lt.UNKNOWN})(D.status);m(new yt(V,D.message))}else m(new yt(lt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new yt(lt.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:t,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{gt(We,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(r);gt(We,`RPC '${t}' ${u} sending request:`,r),g.send(e,"POST",y,s,15)}))}T_(t,e,s){const r=Am(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=Nb(),f=Ob(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const y=o.join("");gt(We,`Creating RPC '${t}' stream ${r}: ${y}`,m);const b=u.createWebChannel(y,m);this.I_(b);let E=!1,w=!1;const D=new W2({Yo:N=>{w?gt(We,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(E||(gt(We,`Opening RPC '${t}' stream ${r} transport.`),b.open(),E=!0),gt(We,`RPC '${t}' stream ${r} sending:`,N),b.send(N))},Zo:()=>b.close()}),V=(N,Y,$)=>{N.listen(Y,(W=>{try{$(W)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return V(b,Eo.EventType.OPEN,(()=>{w||(gt(We,`RPC '${t}' stream ${r} transport opened.`),D.o_())})),V(b,Eo.EventType.CLOSE,(()=>{w||(w=!0,gt(We,`RPC '${t}' stream ${r} transport closed`),D.a_(),this.E_(b))})),V(b,Eo.EventType.ERROR,(N=>{w||(w=!0,Dh(We,`RPC '${t}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),D.a_(new yt(lt.UNAVAILABLE,"The operation could not be completed")))})),V(b,Eo.EventType.MESSAGE,(N=>{if(!w){const Y=N.data[0];de(!!Y,16349);const $=Y,W=$?.error||$[0]?.error;if(W){gt(We,`RPC '${t}' stream ${r} received error:`,W);const nt=W.status;let rt=(function(A){const R=Re[A];if(R!==void 0)return r2(R)})(nt),st=W.message;rt===void 0&&(rt=lt.INTERNAL,st="Unknown error status: "+nt+" with message "+W.message),w=!0,D.a_(new yt(rt,st)),b.close()}else gt(We,`RPC '${t}' stream ${r} received:`,Y),D.u_(Y)}})),V(f,Mb.STAT_EVENT,(N=>{N.stat===gm.PROXY?gt(We,`RPC '${t}' stream ${r} detected buffering proxy`):N.stat===gm.NOPROXY&&gt(We,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Jd(){return typeof document<"u"?document:null}function Vh(i){return new l2(i,!0)}class y1{constructor(t,e,s=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-s);r>0&&gt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const P0="PersistentStream";class J2{constructor(t,e,s,r,o,u,f,m){this.Mi=t,this.S_=s,this.b_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(Ga(e.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===e&&this.G_(s,r)}),(s=>{t((()=>{const r=new yt(lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return gt(P0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(gt(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tw extends J2{constructor(t,e,s,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,r,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=g2(t.writeResults,t.commitTime),s=Qr(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=f2(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>m2(this.serializer,s)))};this.q_(e)}}class ew{}class nw extends ew{constructor(t,e,s,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,Tm(e,s),r,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(lt.UNKNOWN,o.toString())}))}Ho(t,e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(t,Tm(e,s),r,u,f,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(lt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iw{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ga(e),this.aa=!1):gt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ec="RemoteStore";class sw{constructor(t,e,s,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{ic(this)&&(gt(ec,"Restarting streams for network reachability change."),await(async function(m){const g=ee(m);g.Ea.add(4),await nc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ih(g)})(this))}))})),this.Ra=new iw(s,r)}}async function Ih(i){if(ic(i))for(const t of i.da)await t(!0)}async function nc(i){for(const t of i.da)await t(!1)}function ic(i){return ee(i).Ea.size===0}async function _1(i,t,e){if(!Jo(t))throw t;i.Ea.add(1),await nc(i),i.Ra.set("Offline"),e||(e=()=>Y2(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{gt(ec,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Ih(i)}))}function v1(i,t){return t().catch((e=>_1(i,e,t)))}async function kh(i){const t=ee(i),e=Js(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ym;for(;aw(t);)try{const r=await G2(t.localStore,s);if(r===null){t.Ta.length===0&&e.L_();break}s=r.batchId,rw(t,r)}catch(r){await _1(t,r)}b1(t)&&x1(t)}function aw(i){return ic(i)&&i.Ta.length<10}function rw(i,t){i.Ta.push(t);const e=Js(i);e.O_()&&e.X_&&e.ea(t.mutations)}function b1(i){return ic(i)&&!Js(i).x_()&&i.Ta.length>0}function x1(i){Js(i).start()}async function lw(i){Js(i).ra()}async function ow(i){const t=Js(i);for(const e of i.Ta)t.ea(e.mutations)}async function cw(i,t,e){const s=i.Ta.shift(),r=tg.from(s,t,e);await v1(i,(()=>i.remoteSyncer.applySuccessfulWrite(r))),await kh(i)}async function uw(i,t){t&&Js(i).X_&&await(async function(s,r){if((function(u){return a2(u)&&u!==lt.ABORTED})(r.code)){const o=s.Ta.shift();Js(s).B_(),await v1(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,r))),await kh(s)}})(i,t),b1(i)&&x1(i)}async function H0(i,t){const e=ee(i);e.asyncQueue.verifyOperationInProgress(),gt(ec,"RemoteStore received new credentials");const s=ic(e);e.Ea.add(3),await nc(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ih(e)}async function hw(i,t){const e=ee(i);t?(e.Ea.delete(2),await Ih(e)):t||(e.Ea.add(2),await nc(e),e.Ra.set("Unknown"))}function Js(i){return i.fa||(i.fa=(function(e,s,r){const o=ee(e);return o.sa(),new tw(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:lw.bind(null,i),r_:uw.bind(null,i),ta:ow.bind(null,i),na:cw.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await kh(i)):(await i.fa.stop(),i.Ta.length>0&&(gt(ec,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class sg{constructor(t,e,s,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=r,this.removalCallback=o,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,r,o){const u=Date.now()+s,f=new sg(t,e,u,r,o);return f.start(s),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E1(i,t){if(Ga("AsyncQueue",`${t}: ${i}`),Jo(i))return new yt(lt.UNAVAILABLE,`${t}: ${i}`);throw i}class fw{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const r=ee(e),o=r.queries;r.queries=F0(),o.forEach(((u,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new yt(lt.ABORTED,"Firestore shutting down"))}}function F0(){return new Za((i=>t1(i)),Jb)}function dw(i){i.Ca.forEach((t=>{t.next()}))}var q0,Y0;(Y0=q0||(q0={})).Ma="default",Y0.Cache="cache";const mw="SyncEngine";class gw{constructor(t,e,s,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Za((f=>t1(f)),Jb),this.Iu=new Map,this.Eu=new Set,this.du=new _n(Rt.comparator),this.Au=new Map,this.Ru=new eg,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pw(i,t,e){const s=bw(i);try{const r=await(function(u,f){const m=ee(u),g=ce.now(),y=f.reduce(((w,D)=>w.add(D.key)),tn());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=ph(),V=tn();return m.Ns.getEntries(w,y).next((N=>{D=N,D.forEach(((Y,$)=>{$.isValidDocument()||(V=V.add(Y))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,D))).next((N=>{b=N;const Y=[];for(const $ of f){const W=e2($,b.get($.key).overlayedDocument);W!=null&&Y.push(new Wa($.key,W,Gb(W.value.mapValue),ls.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,Y,f)})).next((N=>{E=N;const Y=N.applyToLocalDocumentSet(b,V);return m.documentOverlayCache.saveOverlays(w,N.batchId,Y)}))})).then((()=>({batchId:E.batchId,changes:n1(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),(function(u,f,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new _n(qt)),g=g.insert(f,m),u.Vu[u.currentUser.toKey()]=g})(s,r.batchId,e),await zh(s,r.changes),await kh(s.remoteStore)}catch(r){const o=E1(r,"Failed to persist write");e.reject(o)}}function G0(i,t,e){const s=ee(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const r=[];s.Tu.forEach(((o,u)=>{const f=u.view.va(t);f.snapshot&&r.push(f.snapshot)})),(function(u,f){const m=ee(u);m.onlineState=f;let g=!1;m.queries.forEach(((y,b)=>{for(const E of b.Sa)E.va(f)&&(g=!0)})),g&&dw(m)})(s.eventManager,t),r.length&&s.Pu.H_(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function yw(i,t){const e=ee(i),s=t.batch.batchId;try{const r=await q2(e.localStore,t);S1(e,s,null),T1(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await zh(e,r)}catch(r){await Fm(r)}}async function _w(i,t,e){const s=ee(i);try{const r=await(function(u,f){const m=ee(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((b=>(de(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);S1(s,t,e),T1(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await zh(s,r)}catch(r){await Fm(r)}}function T1(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function S1(i,t,e){const s=ee(i);let r=s.Vu[s.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),s.Vu[s.currentUser.toKey()]=r}}async function zh(i,t,e){const s=ee(i),r=[],o=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){r.push(g);const y=ig.As(m.targetId,g);o.push(y)}})))})),await Promise.all(u),s.Pu.H_(r),await(async function(m,g){const y=ee(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>it.forEach(g,(E=>it.forEach(E.Es,(w=>y.persistence.referenceDelegate.addReference(b,E.targetId,w))).next((()=>it.forEach(E.ds,(w=>y.persistence.referenceDelegate.removeReference(b,E.targetId,w)))))))))}catch(b){if(!Jo(b))throw b;gt(P2,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const w=y.Ms.get(E),D=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,V)}}})(s.localStore,o))}async function vw(i,t){const e=ee(i);if(!e.currentUser.isEqual(t)){gt(mw,"User change. New user:",t.toKey());const s=await p1(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((f=>{f.forEach((m=>{m.reject(new yt(lt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await zh(e,s.Ls)}}function bw(i){const t=ee(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_w.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return F2(this.persistence,new U2,t.initialUser,this.serializer)}Cu(t){return new g1(ng.mi,this.serializer)}Du(t){return new X2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class xw extends vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){de(this.persistence.referenceDelegate instanceof _h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new A2(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new g1((s=>_h.mi(s,e)),this.serializer)}}class wm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vw.bind(null,this.syncEngine),await hw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fw})()}createDatastore(t){const e=Vh(t.databaseInfo.databaseId),s=(function(o){return new $2(o)})(t.databaseInfo);return(function(o,u,f,m){return new nw(o,u,f,m)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,r,o,u,f){return new sw(s,r,o,u,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>G0(this.syncEngine,e,0)),(function(){return U0.v()?new U0:new Q2})())}createSyncEngine(t,e){return(function(r,o,u,f,m,g,y){const b=new gw(r,o,u,f,m,g);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=ee(e);gt(ec,"RemoteStore shutting down."),s.Ea.add(5),await nc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};const ta="FirestoreClient";class Ew{constructor(t,e,s,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=r,this.user=Je.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async u=>{gt(ta,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(gt(ta,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=E1(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function tm(i,t){i.asyncQueue.verifyOperationInProgress(),gt(ta,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener((async r=>{s.isEqual(r)||(await p1(t.localStore,r),s=r)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function X0(i,t){i.asyncQueue.verifyOperationInProgress();const e=await Tw(i);gt(ta,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((s=>H0(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,r)=>H0(t.remoteStore,r))),i._onlineComponents=t}async function Tw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){gt(ta,"Using user provided OfflineComponentProvider");try{await tm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===lt.FAILED_PRECONDITION||r.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Dh("Error using user provided cache. Falling back to memory cache: "+e),await tm(i,new vh)}}else gt(ta,"Using default OfflineComponentProvider"),await tm(i,new xw(void 0));return i._offlineComponents}async function Sw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(gt(ta,"Using user provided OnlineComponentProvider"),await X0(i,i._uninitializedComponentsProvider._online)):(gt(ta,"Using default OnlineComponentProvider"),await X0(i,new wm))),i._onlineComponents}function Aw(i){return Sw(i).then((t=>t.syncEngine))}function A1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const Q0=new Map;const w1="firestore.googleapis.com",K0=!0;class Z0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=K0}else this.host=t.host,this.ssl=t.ssl??K0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=m1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<T2)throw new yt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lh{constructor(t,e,s,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eA;switch(s.type){case"firstParty":return new aA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=Q0.get(e);s&&(gt("ComponentProvider","Removing Datastore"),Q0.delete(e),s.terminate())})(this),Promise.resolve()}}function ww(i,t,e,s={}){i=Lb(i,Lh);const r=Lm(t),o=i._getSettings(),u={...o,emulatorOptions:i._getEmulatorOptions()},f=`${t}:${e}`;r&&(MT(`https://${f}`),IT("Firestore",!0)),o.host!==w1&&o.host!==f&&Dh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:f,ssl:r,emulatorOptions:s};if(!lh(m,u)&&(i._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=Je.MOCK_USER;else{g=OT(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new yt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Je(b)}i._authCredentials=new nA(new Ib(g,y))}}class ag{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ag(this.firestore,t,this._query)}}class en{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if($o(e,en._jsonSchema))return new en(t,s||null,new Rt(ue.fromString(e.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:De("string",en._jsonSchemaVersion),referencePath:De("string")};class Ks extends ag{constructor(t,e,s){super(t,e,jA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new Rt(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function Cw(i,t,...e){if(i=jo(i),kb("collection","path",t),i instanceof Lh){const s=ue.fromString(t,...e);return _0(s),new Ks(i,null,s)}{if(!(i instanceof en||i instanceof Ks))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ue.fromString(t,...e));return _0(s),new Ks(i.firestore,null,s)}}function Rw(i,t,...e){if(i=jo(i),arguments.length===1&&(t=Pm.newId()),kb("doc","path",t),i instanceof Lh){const s=ue.fromString(t,...e);return y0(s),new en(i,null,new Rt(s))}{if(!(i instanceof en||i instanceof Ks))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ue.fromString(t,...e));return y0(s),new en(i.firestore,i instanceof Ks?i.converter:null,new Rt(s))}}const W0="AsyncQueue";class $0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y1(this,"async_queue_retry"),this._c=()=>{const s=Jd();s&&gt(W0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Jd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Jd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jo(t))throw t;gt(W0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ga("INTERNAL UNHANDLED ERROR: ",J0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=sg.createAndSchedule(this,t,e,s,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Dt(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function J0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class C1 extends Lh{constructor(t,e,s,r){super(t,e,s,r),this.type="firestore",this._queue=new $0,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $0(t),this._firestoreClient=void 0,await t}}}function Dw(i,t){const e=typeof i=="object"?i:qS(),s=typeof i=="string"?i:fh,r=BS(e,"firestore").getImmediate({identifier:s});if(!r._initialized){const o=RT("firestore");o&&ww(r,...o)}return r}function Mw(i){if(i._terminated)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Ow(i),i._firestoreClient}function Ow(i){const t=i._freezeSettings(),e=(function(r,o,u,f){return new TA(r,o,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,A1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new Ew(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(i._componentsProvider))}class ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ri(zi.fromBase64String(t))}catch(e){throw new yt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ri(zi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($o(t,ri._jsonSchema))return ri.fromBase64String(t.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:De("string",ri._jsonSchemaVersion),bytes:De("string")};class rg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lg{constructor(t){this._methodName=t}}class os{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(t){if($o(t,os._jsonSchema))return new os(t.latitude,t.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:De("string",os._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class cs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,r){if(s.length!==r.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($o(t,cs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new cs(t.vectorValues);throw new yt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:De("string",cs._jsonSchemaVersion),vectorValues:De("object")};const Nw=/^__.*__$/;class Vw{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Wa(t,this.data,this.fieldMask,e,this.fieldTransforms):new tc(t,this.data,e,this.fieldTransforms)}}function R1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:i})}}class og{constructor(t,e,s,r,o,u){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new og({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(R1(this.Ac)&&Nw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Iw{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Vh(t)}Cc(t,e,s,r=!1){return new og({Ac:t,methodName:e,Dc:s,path:Qe.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kw(i){const t=i._freezeSettings(),e=Vh(i._databaseId);return new Iw(i._databaseId,!!t.ignoreUndefinedProperties,e)}function zw(i,t,e,s,r,o={}){const u=i.Cc(o.merge||o.mergeFields?2:0,t,e,r);N1("Data must be an object, but it was:",u,s);const f=M1(s,u);let m,g;if(o.merge)m=new li(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const E=Lw(t,b,e);if(!u.contains(E))throw new yt(lt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Bw(y,E)||y.push(E)}m=new li(y),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new Vw(new ai(f),m,g)}class cg extends lg{_toFieldTransform(t){return new WA(t.path,new Fo)}isEqual(t){return t instanceof cg}}function D1(i,t){if(O1(i=jo(i)))return N1("Unsupported field value:",t,i),M1(i,t);if(i instanceof lg)return(function(s,r){if(!R1(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,r){const o=[];let u=0;for(const f of s){let m=D1(f,r.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}})(i,t)}return(function(s,r){if((s=jo(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QA(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=ce.fromDate(s);return{timestampValue:Em(r.serializer,o)}}if(s instanceof ce){const o=new ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Em(r.serializer,o)}}if(s instanceof os)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ri)return{bytesValue:o2(r.serializer,s._byteString)};if(s instanceof en){const o=r.databaseId,u=s.firestore._databaseId;if(!u.isEqual(o))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:f1(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof cs)return(function(u,f){return{mapValue:{fields:{[qb]:{stringValue:Yb},[ym]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Jm(f.serializer,g)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${Hm(s)}`)})(i,t)}function M1(i,t){const e={};return Bb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ll(i,((s,r)=>{const o=D1(r,t.mc(s));o!=null&&(e[s]=o)})),{mapValue:{fields:e}}}function O1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ce||i instanceof os||i instanceof ri||i instanceof en||i instanceof lg||i instanceof cs)}function N1(i,t,e){if(!O1(e)||!zb(e)){const s=Hm(e);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function Lw(i,t,e){if((t=jo(t))instanceof rg)return t._internalPath;if(typeof t=="string")return V1(i,t);throw bh("Field path arguments must be of type string or ",i,!1,void 0,e)}const jw=new RegExp("[~\\*/\\[\\]]");function V1(i,t,e){if(t.search(jw)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new rg(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function bh(i,t,e,s,r){const o=s&&!s.isEmpty(),u=r!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${s}`),u&&(m+=` in document ${r}`),m+=")"),new yt(lt.INVALID_ARGUMENT,f+i+m)}function Bw(i,t){return i.some((e=>e.isEqual(t)))}class I1{constructor(t,e,s,r,o){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(k1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Uw extends I1{data(){return super.data()}}function k1(i,t){return typeof t=="string"?V1(i,t):t instanceof rg?t._internalPath:t._delegate._internalPath}function Pw(i,t,e){let s;return s=i?i.toFirestore(t):t,s}class Bu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends I1{constructor(t,e,s,r,o,u){super(t,e,s,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(k1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Kr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:De("string",Kr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class ih extends Kr{data(t={}){return super.data(t)}}class No{constructor(t,e,s,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bu(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new ih(this._firestore,this._userDataWriter,s.key,s,new Bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((f=>{const m=new ih(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Bu(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const m=new ih(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Bu(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:Hw(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=No._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Hw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:i})}}No._jsonSchemaVersion="firestore/querySnapshot/1.0",No._jsonSchema={type:De("string",No._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};function Fw(i,t){const e=Lb(i.firestore,C1),s=Rw(i),r=Pw(i.converter,t);return qw(e,[zw(kw(i.firestore),"addDoc",s._key,r,i.converter!==null,{}).toMutation(s._key,ls.exists(!1))]).then((()=>s))}function qw(i,t){return(function(s,r){const o=new Ha;return s.asyncQueue.enqueueAndForget((async()=>pw(await Aw(s),r,o))),o.promise})(Mw(i),t)}function Yw(){return new cg("serverTimestamp")}(function(t,e=!0){(function(r){rl=r})(FS),ch(new Bo("firestore",((s,{instanceIdentifier:r,options:o})=>{const u=s.getProvider("app").getImmediate(),f=new C1(new iA(s.getProvider("auth-internal")),new rA(u,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new yt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(g.options.projectId,y)})(u,r),u);return o={useFetchStreams:e,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),Xr(d0,m0,t),Xr(d0,m0,"esm2020")})();var Gw="firebase",Xw="12.7.0";Xr(Gw,Xw,"app");const Qw={apiKey:"AIzaSyDGNJX9ljxpmSzHFy9nUkzx4f_VusmZuAM",authDomain:"green-shade-e796b.firebaseapp.com",projectId:"green-shade-e796b",storageBucket:"green-shade-e796b.firebasestorage.app",messagingSenderId:"185135005938",appId:"1:185135005938:web:64fd4d3fa6beaa3e31506b"},Kw=Ab(Qw),Zw=Dw(Kw),tv="graphApp_userId";function Ww(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const t=Math.random()*16|0;return(i==="x"?t:t&3|8).toString(16)})}function $w(){let i=localStorage.getItem(tv);return i||(i=Ww(),localStorage.setItem(tv,i)),i}async function z1(i){try{const e={userId:$w(),timestamp:Yw(),feedback:i.feedback,validPoints:i.validPoints,sheetSize:i.sheetSize,sheetSize:i.sheetSize,squeeze:i.squeeze,sessionId:i.sessionId,sessionStartTime:i.sessionStartTime,duration:i.duration,interval:i.interval},s=await Fw(Cw(Zw,"appFeedback"),e);return console.log("Feedback saved with ID:",s.id),s.id}catch(t){throw console.error("Error saving feedback:",t),t}}function Jw({activeTab:i,onTabChange:t,sheetSize:e,setSheetSize:s,squeeze:r,setSqueeze:o,scales:u,dataPoints:f,setDataPoints:m,onDataApplied:g,tickCounts:y,setTickCounts:b,show10mmMarkers:E,setShow10mmMarkers:w,tickLabelMode:D,setTickLabelMode:V,chartZoom:N,setChartZoom:Y,onAutoSave:$,sessionId:W,sessionStartTime:nt,lastActionTime:rt}){const st=L=>{t(i===L?null:L)},C=()=>{Y(L=>Math.min(L+.1,2))},A=()=>{Y(L=>Math.max(L-.1,.5))},[R,k]=xt.useState(!1),[O,j]=xt.useState(!1),M=async L=>{j(!0);try{const K=Date.now();await z1({feedback:L,validPoints:tt,sheetSize:e,squeeze:r,sessionId:W,sessionStartTime:nt,duration:K-nt,interval:K-rt}),alert("Feedback sent successfully! Thank you!"),k(!1)}catch(K){alert("Failed to send feedback. Please check your Firebase configuration."),console.error("Error:",K)}finally{j(!1)}},[St,at]=xt.useState(!1),U=()=>{switch(i){case"sheet":return"Sheet Dimensions";case"data":return"Data Points";case"validation":return"Round Trip Validation";default:return""}},tt=xt.useMemo(()=>gb(f),[f]),ut=xt.useMemo(()=>pb(tt),[tt]),dt=xt.useMemo(()=>yb(ut,e,r),[ut,e,r]),Et=xt.useMemo(()=>({x:ut.minX-r.x*dt.x,y:ut.minY-r.y*dt.y}),[ut,r,dt]);return I.jsxs("div",{className:"sidebar-container",children:[I.jsxs("div",{className:"activity-bar",children:[I.jsxs("div",{className:"activity-top",children:[I.jsx("button",{className:`activity-item ${i==="sheet"?"active":""}`,onClick:()=>st("sheet"),title:"Sheet Dimensions",children:I.jsx("span",{className:"activity-icon",children:""})}),I.jsx("button",{className:`activity-item ${i==="data"?"active":""}`,onClick:()=>st("data"),title:"Data Points",children:I.jsx("span",{className:"activity-icon",children:""})}),I.jsx("button",{className:`activity-item ${i==="validation"?"active":""}`,onClick:()=>st("validation"),title:"Round Trip Validation",children:I.jsx("span",{className:"activity-icon",children:""})})]}),I.jsxs("div",{className:"activity-bottom",children:[I.jsx("button",{className:"activity-item",onClick:C,title:"Zoom In Chart",children:I.jsx("span",{className:"activity-icon",style:{fontSize:"1.5rem",fontWeight:"bold"},children:"+"})}),I.jsx("button",{className:"activity-item",onClick:()=>Y(1),title:"Fit Chart",children:I.jsx("span",{className:"activity-icon",style:{fontSize:"1.2rem",fontWeight:"bold"},children:""})}),I.jsx("button",{className:"activity-item",onClick:A,title:"Zoom Out Chart",children:I.jsx("span",{className:"activity-icon",style:{fontSize:"1.5rem",fontWeight:"bold"},children:""})}),I.jsx("a",{href:"https://sheets.google.com",target:"_blank",rel:"noopener noreferrer",className:"activity-item",title:"Open Google Sheets",children:I.jsxs("svg",{className:"activity-icon",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"#6b7280",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),I.jsx("polyline",{points:"14 2 14 8 20 8"}),I.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),I.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),I.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),I.jsx("button",{className:"activity-item",onClick:()=>k(!0),title:"Send Feedback",children:I.jsx("svg",{className:"activity-icon",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",style:{minWidth:"24px",minHeight:"24px"},children:I.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),I.jsx("button",{className:"activity-item",onClick:()=>at(!0),title:"Tips & Tricks",children:I.jsxs("svg",{className:"activity-icon",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",style:{minWidth:"24px",minHeight:"24px"},children:[I.jsx("path",{d:"M9 18h6",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),I.jsx("path",{d:"M10 22h4",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),I.jsx("path",{d:"M12 2v1",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),I.jsx("path",{d:"M12 15a5 5 0 0 1-5-5 5 5 0 0 1 10 0 5 5 0 0 1-5 5z",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]}),i&&I.jsxs("div",{className:"side-panel",children:[I.jsx("div",{className:"panel-header",children:I.jsx("h3",{children:U()})}),I.jsx("div",{className:"panel-content",children:i==="sheet"?I.jsx(fT,{sheetSize:e,setSheetSize:s,squeeze:r,setSqueeze:o,scales:u,tickCounts:y,setTickCounts:b,show10mmMarkers:E,setShow10mmMarkers:w,tickLabelMode:D,setTickLabelMode:V}):i==="data"?I.jsx(mT,{dataPoints:f,setDataPoints:m,onDataApplied:g,onAutoSave:$}):I.jsx(dT,{dataPoints:f,sheetSize:e,squeeze:r,ranges:ut,unitsPerMm:dt,tickAt0:Et})})]}),I.jsx(gT,{isOpen:R,onClose:()=>k(!1),onSubmit:M,isSubmitting:O}),I.jsx(pT,{isOpen:St,onClose:()=>at(!1)})]})}const xh=i=>({display:!0,drawTicks:!0,tickColor:"rgba(121, 120, 155, 0.29)",color:function(t){if(!i)return"transparent";const e=t.tick.value;return e%50===0?"rgba(149, 150, 206, 0.2)":e%10===0?"rgba(185, 186, 222, 0.1)":"transparent"},lineWidth:function(t){const e=t.tick.value;return e%50===0?2:e%10===0?1:0}}),tC=(i,t,e,s)=>t-e*s+i*s,eC=i=>{if(!i&&i!==0)return{mantissa:"0",exponent:0};if(i===0)return{mantissa:"0",exponent:0};const t=Math.abs(i),e=Math.floor(Math.log10(t))+1;let s;t<1&&t>0?s=Math.floor(Math.log10(t)/3)*3:e<=3?s=0:s=Math.floor((e-1)/3)*3;const r=i/Math.pow(10,s);return{mantissa:Number.isInteger(r)?r.toString():r.toFixed(4),exponent:s}},L1=(i,t)=>{const e=Math.max(Math.abs(i),Math.abs(t));if(e===0)return 0;const{exponent:s}=eC(e);return s},nC=(i,t,e,s=0)=>{let r;s!==0?r=(t/Math.pow(10,s)).toFixed(4):r=e(t);const o=+Number(i).toFixed(1);return`${r} | ${o}${o===0?"(mm)":""}`},j1=(i,t,e,s,r,o=0)=>{const u=s==="x"?i.minX:i.minY,f=s==="x"?t.x:t.y,m=s==="x"?e.x:e.y;return function(g){const y=tC(g,u,f,m);return nC(g,y,r,o)}},ev=({sheetSize:i,ranges:t,squeeze:e,unitsPerMm:s,show10mmMarkers:r,formatScientific:o,tickLabelMode:u="all",tickCounts:f={x:5,y:5}})=>{const m=L1(t.minX,t.maxX);let g="X Parameter";m!==0&&(g=`X Parameter ${m>0?`/ 10^${m}`:`* 10^${-m}`}`);let y=10,b=!0;return u==="none"?b=!1:u==="interval"&&(y=i.x/Math.max(1,f.x)),{type:"linear",position:"bottom",min:0,max:i.x,grid:xh(r),ticks:{display:b,color:"#a0a8c0",stepSize:y,font:{family:"Inter",size:11},callback:j1(t,e,s,"x",o,m)},title:{display:!0,text:g,color:"#e4e7f1",font:{family:"Inter",size:13,weight:"600"}}}},nv=({sheetSize:i,ranges:t,squeeze:e,unitsPerMm:s,show10mmMarkers:r,formatScientific:o,tickLabelMode:u="all",tickCounts:f={x:5,y:5}})=>{const m=L1(t.minY,t.maxY);let g="Y Parameter";m!==0&&(g=`Y Parameter ${m>0?`/ 10^${m}`:`* 10^${-m}`}`);let y=10,b=!0;return u==="none"?b=!1:u==="interval"&&(y=i.y/Math.max(1,f.y)),{type:"linear",min:0,max:i.y,grid:xh(r),ticks:{display:b,color:"#a0a8c0",stepSize:y,font:{family:"Inter",size:11},callback:j1(t,e,s,"y",o,m)},title:{display:!0,text:g,color:"#e4e7f1",font:{family:"Inter",size:13,weight:"600"}}}};function sc(i){return i+.5|0}const Ys=(i,t,e)=>Math.max(Math.min(i,e),t);function To(i){return Ys(sc(i*2.55),0,255)}function Zs(i){return Ys(sc(i*255),0,255)}function rs(i){return Ys(sc(i/2.55)/100,0,1)}function iv(i){return Ys(sc(i*100),0,100)}const Pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cm=[..."0123456789ABCDEF"],iC=i=>Cm[i&15],sC=i=>Cm[(i&240)>>4]+Cm[i&15],Uu=i=>(i&240)>>4===(i&15),aC=i=>Uu(i.r)&&Uu(i.g)&&Uu(i.b)&&Uu(i.a);function rC(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Pn[i[1]]*17,g:255&Pn[i[2]]*17,b:255&Pn[i[3]]*17,a:t===5?Pn[i[4]]*17:255}:(t===7||t===9)&&(e={r:Pn[i[1]]<<4|Pn[i[2]],g:Pn[i[3]]<<4|Pn[i[4]],b:Pn[i[5]]<<4|Pn[i[6]],a:t===9?Pn[i[7]]<<4|Pn[i[8]]:255})),e}const lC=(i,t)=>i<255?t(i):"";function oC(i){var t=aC(i)?iC:sC;return i?"#"+t(i.r)+t(i.g)+t(i.b)+lC(i.a,t):void 0}const cC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function B1(i,t,e){const s=t*Math.min(e,1-e),r=(o,u=(o+i/30)%12)=>e-s*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function uC(i,t,e){const s=(r,o=(r+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function hC(i,t,e){const s=B1(i,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)s[r]*=1-t-e,s[r]+=t;return s}function fC(i,t,e,s,r){return i===r?(t-e)/s+(t<e?6:0):t===r?(e-i)/s+2:(i-t)/s+4}function ug(i){const e=i.r/255,s=i.g/255,r=i.b/255,o=Math.max(e,s,r),u=Math.min(e,s,r),f=(o+u)/2;let m,g,y;return o!==u&&(y=o-u,g=f>.5?y/(2-o-u):y/(o+u),m=fC(e,s,r,y,o),m=m*60+.5),[m|0,g||0,f]}function hg(i,t,e,s){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,s)).map(Zs)}function fg(i,t,e){return hg(B1,i,t,e)}function dC(i,t,e){return hg(hC,i,t,e)}function mC(i,t,e){return hg(uC,i,t,e)}function U1(i){return(i%360+360)%360}function gC(i){const t=cC.exec(i);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?To(+t[5]):Zs(+t[5]));const r=U1(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=dC(r,o,u):t[1]==="hsv"?s=mC(r,o,u):s=fg(r,o,u),{r:s[0],g:s[1],b:s[2],a:e}}function pC(i,t){var e=ug(i);e[0]=U1(e[0]+t),e=fg(e),i.r=e[0],i.g=e[1],i.b=e[2]}function yC(i){if(!i)return;const t=ug(i),e=t[0],s=iv(t[1]),r=iv(t[2]);return i.a<255?`hsla(${e}, ${s}%, ${r}%, ${rs(i.a)})`:`hsl(${e}, ${s}%, ${r}%)`}const sv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},av={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _C(){const i={},t=Object.keys(av),e=Object.keys(sv);let s,r,o,u,f;for(s=0;s<t.length;s++){for(u=f=t[s],r=0;r<e.length;r++)o=e[r],f=f.replace(o,sv[o]);o=parseInt(av[u],16),i[f]=[o>>16&255,o>>8&255,o&255]}return i}let Pu;function vC(i){Pu||(Pu=_C(),Pu.transparent=[0,0,0,0]);const t=Pu[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const bC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xC(i){const t=bC.exec(i);let e=255,s,r,o;if(t){if(t[7]!==s){const u=+t[7];e=t[8]?To(u):Ys(u*255,0,255)}return s=+t[1],r=+t[3],o=+t[5],s=255&(t[2]?To(s):Ys(s,0,255)),r=255&(t[4]?To(r):Ys(r,0,255)),o=255&(t[6]?To(o):Ys(o,0,255)),{r:s,g:r,b:o,a:e}}}function EC(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${rs(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const em=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,qr=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function TC(i,t,e){const s=qr(rs(i.r)),r=qr(rs(i.g)),o=qr(rs(i.b));return{r:Zs(em(s+e*(qr(rs(t.r))-s))),g:Zs(em(r+e*(qr(rs(t.g))-r))),b:Zs(em(o+e*(qr(rs(t.b))-o))),a:i.a+e*(t.a-i.a)}}function Hu(i,t,e){if(i){let s=ug(i);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=fg(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function P1(i,t){return i&&Object.assign(t||{},i)}function rv(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Zs(i[3]))):(t=P1(i,{r:0,g:0,b:0,a:1}),t.a=Zs(t.a)),t}function SC(i){return i.charAt(0)==="r"?xC(i):gC(i)}class Go{constructor(t){if(t instanceof Go)return t;const e=typeof t;let s;e==="object"?s=rv(t):e==="string"&&(s=rC(t)||vC(t)||SC(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=P1(this._rgb);return t&&(t.a=rs(t.a)),t}set rgb(t){this._rgb=rv(t)}rgbString(){return this._valid?EC(this._rgb):void 0}hexString(){return this._valid?oC(this._rgb):void 0}hslString(){return this._valid?yC(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,r=t.rgb;let o;const u=e===o?.5:e,f=2*u-1,m=s.a-r.a,g=((f*m===-1?f:(f+m)/(1+f*m))+1)/2;o=1-g,s.r=255&g*s.r+o*r.r+.5,s.g=255&g*s.g+o*r.g+.5,s.b=255&g*s.b+o*r.b+.5,s.a=u*s.a+(1-u)*r.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=TC(this._rgb,t._rgb,e)),this}clone(){return new Go(this.rgb)}alpha(t){return this._rgb.a=Zs(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=sc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Hu(this._rgb,2,t),this}darken(t){return Hu(this._rgb,2,-t),this}saturate(t){return Hu(this._rgb,1,t),this}desaturate(t){return Hu(this._rgb,1,-t),this}rotate(t){return pC(this._rgb,t),this}}function is(){}const AC=(()=>{let i=0;return()=>i++})();function te(i){return i==null}function je(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ft(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function qn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Oi(i,t){return qn(i)?i:t}function jt(i,t){return typeof i>"u"?t:i}const wC=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function se(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function Qt(i,t,e,s){let r,o,u;if(je(i))for(o=i.length,r=0;r<o;r++)t.call(e,i[r],r);else if(Ft(i))for(u=Object.keys(i),o=u.length,r=0;r<o;r++)t.call(e,i[u[r]],u[r])}function Eh(i,t){let e,s,r,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,s=i.length;e<s;++e)if(r=i[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Th(i){if(je(i))return i.map(Th);if(Ft(i)){const t=Object.create(null),e=Object.keys(i),s=e.length;let r=0;for(;r<s;++r)t[e[r]]=Th(i[e[r]]);return t}return i}function H1(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function CC(i,t,e,s){if(!H1(i))return;const r=t[i],o=e[i];Ft(r)&&Ft(o)?Xo(r,o,s):t[i]=Th(o)}function Xo(i,t,e){const s=je(t)?t:[t],r=s.length;if(!Ft(i))return i;e=e||{};const o=e.merger||CC;let u;for(let f=0;f<r;++f){if(u=s[f],!Ft(u))continue;const m=Object.keys(u);for(let g=0,y=m.length;g<y;++g)o(m[g],i,u,e)}return i}function Vo(i,t){return Xo(i,t,{merger:RC})}function RC(i,t,e){if(!H1(i))return;const s=t[i],r=e[i];Ft(s)&&Ft(r)?Vo(s,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Th(r))}const lv={"":i=>i,x:i=>i.x,y:i=>i.y};function DC(i){const t=i.split("."),e=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function MC(i){const t=DC(i);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function Sh(i,t){return(lv[t]||(lv[t]=MC(t)))(i)}function dg(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Ah=i=>typeof i<"u",ea=i=>typeof i=="function",ov=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function OC(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const Be=Math.PI,ki=2*Be,NC=ki+Be,wh=Number.POSITIVE_INFINITY,VC=Be/180,oi=Be/2,Va=Be/4,cv=Be*2/3,F1=Math.log10,nl=Math.sign;function Io(i,t,e){return Math.abs(i-t)<e}function uv(i){const t=Math.round(i);i=Io(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(F1(i))),s=i/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function IC(i){const t=[],e=Math.sqrt(i);let s;for(s=1;s<e;s++)i%s===0&&(t.push(s),t.push(i/s));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function kC(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Qo(i){return!kC(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function zC(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function LC(i,t,e){let s,r,o;for(s=0,r=i.length;s<r;s++)o=i[s][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ua(i){return i*(Be/180)}function jC(i){return i*(180/Be)}function hv(i){if(!qn(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function BC(i,t){const e=t.x-i.x,s=t.y-i.y,r=Math.sqrt(e*e+s*s);let o=Math.atan2(s,e);return o<-.5*Be&&(o+=ki),{angle:o,distance:r}}function Rm(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function UC(i,t){return(i-t+NC)%ki-Be}function qs(i){return(i%ki+ki)%ki}function q1(i,t,e,s){const r=qs(i),o=qs(t),u=qs(e),f=qs(o-r),m=qs(u-r),g=qs(r-o),y=qs(r-u);return r===o||r===u||s&&o===u||f>m&&g<y}function Hn(i,t,e){return Math.max(t,Math.min(e,i))}function PC(i){return Hn(i,-32768,32767)}function So(i,t,e,s=1e-6){return i>=Math.min(t,e)-s&&i<=Math.max(t,e)+s}function mg(i,t,e){e=e||(u=>i[u]<t);let s=i.length-1,r=0,o;for(;s-r>1;)o=r+s>>1,e(o)?r=o:s=o;return{lo:r,hi:s}}const Pa=(i,t,e,s)=>mg(i,e,s?r=>{const o=i[r][t];return o<e||o===e&&i[r+1][t]===e}:r=>i[r][t]<e),HC=(i,t,e)=>mg(i,e,s=>i[s][t]>=e);function FC(i,t,e){let s=0,r=i.length;for(;s<r&&i[s]<t;)s++;for(;r>s&&i[r-1]>e;)r--;return s>0||r<i.length?i.slice(s,r):i}const Y1=["push","pop","shift","splice","unshift"];function qC(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Y1.forEach(e=>{const s="_onData"+dg(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){const u=r.apply(this,o);return i._chartjs.listeners.forEach(f=>{typeof f[s]=="function"&&f[s](...o)}),u}})})}function fv(i,t){const e=i._chartjs;if(!e)return;const s=e.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(Y1.forEach(o=>{delete i[o]}),delete i._chartjs)}function YC(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const G1=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function X1(i,t){let e=[],s=!1;return function(...r){e=r,s||(s=!0,G1.call(window,()=>{s=!1,i.apply(t,e)}))}}function GC(i,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(i,t,s)):i.apply(this,s),t}}const gg=i=>i==="start"?"left":i==="end"?"right":"center",$e=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,XC=(i,t,e,s)=>i===(s?"left":"right")?e:i==="center"?(t+e)/2:t;function QC(i,t,e){const s=t.length;let r=0,o=s;if(i._sorted){const{iScale:u,vScale:f,_parsed:m}=i,g=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,y=u.axis,{min:b,max:E,minDefined:w,maxDefined:D}=u.getUserBounds();if(w){if(r=Math.min(Pa(m,y,b).lo,e?s:Pa(t,y,u.getPixelForValue(b)).lo),g){const V=m.slice(0,r+1).reverse().findIndex(N=>!te(N[f.axis]));r-=Math.max(0,V)}r=Hn(r,0,s-1)}if(D){let V=Math.max(Pa(m,u.axis,E,!0).hi+1,e?0:Pa(t,y,u.getPixelForValue(E),!0).hi+1);if(g){const N=m.slice(V-1).findIndex(Y=>!te(Y[f.axis]));V+=Math.max(0,N)}o=Hn(V,r,s)-r}else o=s-r}return{start:r,count:o}}function KC(i){const{xScale:t,yScale:e,_scaleRanges:s}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return i._scaleRanges=r,!0;const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,r),o}const Fu=i=>i===0||i===1,dv=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*ki/e)),mv=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*ki/e)+1,ko={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*oi)+1,easeOutSine:i=>Math.sin(i*oi),easeInOutSine:i=>-.5*(Math.cos(Be*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Fu(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Fu(i)?i:dv(i,.075,.3),easeOutElastic:i=>Fu(i)?i:mv(i,.075,.3),easeInOutElastic(i){return Fu(i)?i:i<.5?.5*dv(i*2,.1125,.45):.5+.5*mv(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-ko.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?ko.easeInBounce(i*2)*.5:ko.easeOutBounce(i*2-1)*.5+.5};function pg(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function gv(i){return pg(i)?i:new Go(i)}function nm(i){return pg(i)?i:new Go(i).saturate(.5).darken(.1).hexString()}const ZC=["x","y","borderWidth","radius","tension"],WC=["color","borderColor","backgroundColor"];function $C(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:WC},numbers:{type:"number",properties:ZC}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function JC(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pv=new Map;function tR(i,t){t=t||{};const e=i+JSON.stringify(t);let s=pv.get(e);return s||(s=new Intl.NumberFormat(i,t),pv.set(e,s)),s}function Q1(i,t,e){return tR(t,e).format(i)}const eR={values(i){return je(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const s=this.chart.options.locale;let r,o=i;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=nR(i,e)}const u=F1(Math.abs(o)),f=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),m={notation:r,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(m,this.options.ticks.format),Q1(i,s,m)}};function nR(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var K1={formatters:eR};function iR(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:K1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ka=Object.create(null),Dm=Object.create(null);function zo(i,t){if(!t)return i;const e=t.split(".");for(let s=0,r=e.length;s<r;++s){const o=e[s];i=i[o]||(i[o]=Object.create(null))}return i}function im(i,t,e){return typeof t=="string"?Xo(zo(i,t),e):Xo(zo(i,""),t)}class sR{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>nm(r.backgroundColor),this.hoverBorderColor=(s,r)=>nm(r.borderColor),this.hoverColor=(s,r)=>nm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return im(this,t,e)}get(t){return zo(this,t)}describe(t,e){return im(Dm,t,e)}override(t,e){return im(Ka,t,e)}route(t,e,s,r){const o=zo(this,t),u=zo(this,s),f="_"+e;Object.defineProperties(o,{[f]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const m=this[f],g=u[r];return Ft(m)?Object.assign({},g,m):jt(m,g)},set(m){this[f]=m}}})}apply(t){t.forEach(e=>e(this))}}var _e=new sR({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$C,JC,iR]);function aR(i){return!i||te(i.size)||te(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function yv(i,t,e,s,r){let o=t[r];return o||(o=t[r]=i.measureText(r).width,e.push(r)),o>s&&(s=o),s}function Ia(i,t,e){const s=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*s)/s+r}function _v(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Mm(i,t,e,s){Z1(i,t,e,s,null)}function Z1(i,t,e,s,r){let o,u,f,m,g,y,b,E;const w=t.pointStyle,D=t.rotation,V=t.radius;let N=(D||0)*VC;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(e,s),i.rotate(N),i.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),i.restore();return}if(!(isNaN(V)||V<=0)){switch(i.beginPath(),w){default:r?i.ellipse(e,s,r/2,V,0,0,ki):i.arc(e,s,V,0,ki),i.closePath();break;case"triangle":y=r?r/2:V,i.moveTo(e+Math.sin(N)*y,s-Math.cos(N)*V),N+=cv,i.lineTo(e+Math.sin(N)*y,s-Math.cos(N)*V),N+=cv,i.lineTo(e+Math.sin(N)*y,s-Math.cos(N)*V),i.closePath();break;case"rectRounded":g=V*.516,m=V-g,u=Math.cos(N+Va)*m,b=Math.cos(N+Va)*(r?r/2-g:m),f=Math.sin(N+Va)*m,E=Math.sin(N+Va)*(r?r/2-g:m),i.arc(e-b,s-f,g,N-Be,N-oi),i.arc(e+E,s-u,g,N-oi,N),i.arc(e+b,s+f,g,N,N+oi),i.arc(e-E,s+u,g,N+oi,N+Be),i.closePath();break;case"rect":if(!D){m=Math.SQRT1_2*V,y=r?r/2:m,i.rect(e-y,s-m,2*y,2*m);break}N+=Va;case"rectRot":b=Math.cos(N)*(r?r/2:V),u=Math.cos(N)*V,f=Math.sin(N)*V,E=Math.sin(N)*(r?r/2:V),i.moveTo(e-b,s-f),i.lineTo(e+E,s-u),i.lineTo(e+b,s+f),i.lineTo(e-E,s+u),i.closePath();break;case"crossRot":N+=Va;case"cross":b=Math.cos(N)*(r?r/2:V),u=Math.cos(N)*V,f=Math.sin(N)*V,E=Math.sin(N)*(r?r/2:V),i.moveTo(e-b,s-f),i.lineTo(e+b,s+f),i.moveTo(e+E,s-u),i.lineTo(e-E,s+u);break;case"star":b=Math.cos(N)*(r?r/2:V),u=Math.cos(N)*V,f=Math.sin(N)*V,E=Math.sin(N)*(r?r/2:V),i.moveTo(e-b,s-f),i.lineTo(e+b,s+f),i.moveTo(e+E,s-u),i.lineTo(e-E,s+u),N+=Va,b=Math.cos(N)*(r?r/2:V),u=Math.cos(N)*V,f=Math.sin(N)*V,E=Math.sin(N)*(r?r/2:V),i.moveTo(e-b,s-f),i.lineTo(e+b,s+f),i.moveTo(e+E,s-u),i.lineTo(e-E,s+u);break;case"line":u=r?r/2:Math.cos(N)*V,f=Math.sin(N)*V,i.moveTo(e-u,s-f),i.lineTo(e+u,s+f);break;case"dash":i.moveTo(e,s),i.lineTo(e+Math.cos(N)*(r?r/2:V),s+Math.sin(N)*V);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Ko(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function yg(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function _g(i){i.restore()}function rR(i,t,e,s,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else r==="after"!=!!s?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function lR(i,t,e,s){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function oR(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),te(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function cR(i,t,e,s,r){if(r.strikethrough||r.underline){const o=i.measureText(s),u=t-o.actualBoundingBoxLeft,f=t+o.actualBoundingBoxRight,m=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=r.strikethrough?(m+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(u,y),i.lineTo(f,y),i.stroke()}}function uR(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Zo(i,t,e,s,r,o={}){const u=je(t)?t:[t],f=o.strokeWidth>0&&o.strokeColor!=="";let m,g;for(i.save(),i.font=r.string,oR(i,o),m=0;m<u.length;++m)g=u[m],o.backdrop&&uR(i,o.backdrop),f&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),te(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(g,e,s,o.maxWidth)),i.fillText(g,e,s,o.maxWidth),cR(i,e,s,g,o),s+=Number(r.lineHeight);i.restore()}function Om(i,t){const{x:e,y:s,w:r,h:o,radius:u}=t;i.arc(e+u.topLeft,s+u.topLeft,u.topLeft,1.5*Be,Be,!0),i.lineTo(e,s+o-u.bottomLeft),i.arc(e+u.bottomLeft,s+o-u.bottomLeft,u.bottomLeft,Be,oi,!0),i.lineTo(e+r-u.bottomRight,s+o),i.arc(e+r-u.bottomRight,s+o-u.bottomRight,u.bottomRight,oi,0,!0),i.lineTo(e+r,s+u.topRight),i.arc(e+r-u.topRight,s+u.topRight,u.topRight,0,-oi,!0),i.lineTo(e+u.topLeft,s)}const hR=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fR=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dR(i,t){const e=(""+i).match(hR);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const mR=i=>+i||0;function W1(i,t){const e={},s=Ft(t),r=s?Object.keys(t):t,o=Ft(i)?s?u=>jt(i[u],i[t[u]]):u=>i[u]:()=>i;for(const u of r)e[u]=mR(o(u));return e}function gR(i){return W1(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Lo(i){return W1(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(i){const t=gR(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function nn(i,t){i=i||{},t=t||_e.font;let e=jt(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=jt(i.style,t.style);s&&!(""+s).match(fR)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:jt(i.family,t.family),lineHeight:dR(jt(i.lineHeight,t.lineHeight),e),size:e,style:s,weight:jt(i.weight,t.weight),string:""};return r.string=aR(r),r}function qu(i,t,e,s){let r,o,u;for(r=0,o=i.length;r<o;++r)if(u=i[r],u!==void 0&&u!==void 0)return u}function pR(i,t,e){const{min:s,max:r}=i,o=wC(t,(r-s)/2),u=(f,m)=>e&&f===0?0:f+m;return{min:u(s,-Math.abs(o)),max:u(r,o)}}function $a(i,t){return Object.assign(Object.create(i),t)}function vg(i,t=[""],e,s,r=()=>i[0]){const o=e||i;typeof s>"u"&&(s=ex("_fallback",i));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:s,_getTarget:r,override:f=>vg([f,...i],t,o,s)};return new Proxy(u,{deleteProperty(f,m){return delete f[m],delete f._keys,delete i[0][m],!0},get(f,m){return J1(f,m,()=>SR(m,t,i,f))},getOwnPropertyDescriptor(f,m){return Reflect.getOwnPropertyDescriptor(f._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(f,m){return bv(f).includes(m)},ownKeys(f){return bv(f)},set(f,m,g){const y=f._storage||(f._storage=r());return f[m]=y[m]=g,delete f._keys,!0}})}function il(i,t,e,s){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:$1(i,s),setContext:o=>il(i,o,e,s),override:o=>il(i.override(o),t,e,s)};return new Proxy(r,{deleteProperty(o,u){return delete o[u],delete i[u],!0},get(o,u,f){return J1(o,u,()=>_R(o,u,f))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(i,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,u)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,u){return Reflect.has(i,u)},ownKeys(){return Reflect.ownKeys(i)},set(o,u,f){return i[u]=f,delete o[u],!0}})}function $1(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:s,isScriptable:ea(e)?e:()=>e,isIndexable:ea(s)?s:()=>s}}const yR=(i,t)=>i?i+dg(t):t,bg=(i,t)=>Ft(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function J1(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const s=e();return i[t]=s,s}function _R(i,t,e){const{_proxy:s,_context:r,_subProxy:o,_descriptors:u}=i;let f=s[t];return ea(f)&&u.isScriptable(t)&&(f=vR(t,f,i,e)),je(f)&&f.length&&(f=bR(t,f,i,u.isIndexable)),bg(t,f)&&(f=il(f,r,o&&o[t],u)),f}function vR(i,t,e,s){const{_proxy:r,_context:o,_subProxy:u,_stack:f}=e;if(f.has(i))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+i);f.add(i);let m=t(o,u||s);return f.delete(i),bg(i,m)&&(m=xg(r._scopes,r,i,m)),m}function bR(i,t,e,s){const{_proxy:r,_context:o,_subProxy:u,_descriptors:f}=e;if(typeof o.index<"u"&&s(i))return t[o.index%t.length];if(Ft(t[0])){const m=t,g=r._scopes.filter(y=>y!==m);t=[];for(const y of m){const b=xg(g,r,i,y);t.push(il(b,o,u&&u[i],f))}}return t}function tx(i,t,e){return ea(i)?i(t,e):i}const xR=(i,t)=>i===!0?t:typeof i=="string"?Sh(t,i):void 0;function ER(i,t,e,s,r){for(const o of t){const u=xR(e,o);if(u){i.add(u);const f=tx(u._fallback,e,r);if(typeof f<"u"&&f!==e&&f!==s)return f}else if(u===!1&&typeof s<"u"&&e!==s)return null}return!1}function xg(i,t,e,s){const r=t._rootScopes,o=tx(t._fallback,e,s),u=[...i,...r],f=new Set;f.add(s);let m=vv(f,u,e,o||e,s);return m===null||typeof o<"u"&&o!==e&&(m=vv(f,u,o,m,s),m===null)?!1:vg(Array.from(f),[""],r,o,()=>TR(t,e,s))}function vv(i,t,e,s,r){for(;e;)e=ER(i,t,e,s,r);return e}function TR(i,t,e){const s=i._getTarget();t in s||(s[t]={});const r=s[t];return je(r)&&Ft(e)?e:r||{}}function SR(i,t,e,s){let r;for(const o of t)if(r=ex(yR(o,i),e),typeof r<"u")return bg(i,r)?xg(e,s,i,r):r}function ex(i,t){for(const e of t){if(!e)continue;const s=e[i];if(typeof s<"u")return s}}function bv(i){let t=i._keys;return t||(t=i._keys=AR(i._scopes)),t}function AR(i){const t=new Set;for(const e of i)for(const s of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}const wR=Number.EPSILON||1e-14,sl=(i,t)=>t<i.length&&!i[t].skip&&i[t],nx=i=>i==="x"?"y":"x";function CR(i,t,e,s){const r=i.skip?t:i,o=t,u=e.skip?t:e,f=Rm(o,r),m=Rm(u,o);let g=f/(f+m),y=m/(f+m);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const b=s*g,E=s*y;return{previous:{x:o.x-b*(u.x-r.x),y:o.y-b*(u.y-r.y)},next:{x:o.x+E*(u.x-r.x),y:o.y+E*(u.y-r.y)}}}function RR(i,t,e){const s=i.length;let r,o,u,f,m,g=sl(i,0);for(let y=0;y<s-1;++y)if(m=g,g=sl(i,y+1),!(!m||!g)){if(Io(t[y],0,wR)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],f=Math.pow(r,2)+Math.pow(o,2),!(f<=9)&&(u=3/Math.sqrt(f),e[y]=r*u*t[y],e[y+1]=o*u*t[y])}}function DR(i,t,e="x"){const s=nx(e),r=i.length;let o,u,f,m=sl(i,0);for(let g=0;g<r;++g){if(u=f,f=m,m=sl(i,g+1),!f)continue;const y=f[e],b=f[s];u&&(o=(y-u[e])/3,f[`cp1${e}`]=y-o,f[`cp1${s}`]=b-o*t[g]),m&&(o=(m[e]-y)/3,f[`cp2${e}`]=y+o,f[`cp2${s}`]=b+o*t[g])}}function MR(i,t="x"){const e=nx(t),s=i.length,r=Array(s).fill(0),o=Array(s);let u,f,m,g=sl(i,0);for(u=0;u<s;++u)if(f=m,m=g,g=sl(i,u+1),!!m){if(g){const y=g[t]-m[t];r[u]=y!==0?(g[e]-m[e])/y:0}o[u]=f?g?nl(r[u-1])!==nl(r[u])?0:(r[u-1]+r[u])/2:r[u-1]:r[u]}RR(i,r,o),DR(i,o,t)}function Yu(i,t,e){return Math.max(Math.min(i,e),t)}function OR(i,t){let e,s,r,o,u,f=Ko(i[0],t);for(e=0,s=i.length;e<s;++e)u=o,o=f,f=e<s-1&&Ko(i[e+1],t),o&&(r=i[e],u&&(r.cp1x=Yu(r.cp1x,t.left,t.right),r.cp1y=Yu(r.cp1y,t.top,t.bottom)),f&&(r.cp2x=Yu(r.cp2x,t.left,t.right),r.cp2y=Yu(r.cp2y,t.top,t.bottom)))}function NR(i,t,e,s,r){let o,u,f,m;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")MR(i,r);else{let g=s?i[i.length-1]:i[0];for(o=0,u=i.length;o<u;++o)f=i[o],m=CR(g,f,i[Math.min(o+1,u-(s?0:1))%u],t.tension),f.cp1x=m.previous.x,f.cp1y=m.previous.y,f.cp2x=m.next.x,f.cp2y=m.next.y,g=f}t.capBezierPoints&&OR(i,e)}function Eg(){return typeof window<"u"&&typeof document<"u"}function Tg(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ch(i,t,e){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=i,s}const jh=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function VR(i,t){return jh(i).getPropertyValue(t)}const IR=["top","right","bottom","left"];function qa(i,t,e){const s={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=IR[r];s[o]=parseFloat(i[t+"-"+o+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const kR=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function zR(i,t){const e=i.touches,s=e&&e.length?e[0]:i,{offsetX:r,offsetY:o}=s;let u=!1,f,m;if(kR(r,o,i.target))f=r,m=o;else{const g=t.getBoundingClientRect();f=s.clientX-g.left,m=s.clientY-g.top,u=!0}return{x:f,y:m,box:u}}function La(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:s}=t,r=jh(e),o=r.boxSizing==="border-box",u=qa(r,"padding"),f=qa(r,"border","width"),{x:m,y:g,box:y}=zR(i,e),b=u.left+(y&&f.left),E=u.top+(y&&f.top);let{width:w,height:D}=t;return o&&(w-=u.width+f.width,D-=u.height+f.height),{x:Math.round((m-b)/w*e.width/s),y:Math.round((g-E)/D*e.height/s)}}function LR(i,t,e){let s,r;if(t===void 0||e===void 0){const o=i&&Tg(i);if(!o)t=i.clientWidth,e=i.clientHeight;else{const u=o.getBoundingClientRect(),f=jh(o),m=qa(f,"border","width"),g=qa(f,"padding");t=u.width-g.width-m.width,e=u.height-g.height-m.height,s=Ch(f.maxWidth,o,"clientWidth"),r=Ch(f.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:s||wh,maxHeight:r||wh}}const Gs=i=>Math.round(i*10)/10;function jR(i,t,e,s){const r=jh(i),o=qa(r,"margin"),u=Ch(r.maxWidth,i,"clientWidth")||wh,f=Ch(r.maxHeight,i,"clientHeight")||wh,m=LR(i,t,e);let{width:g,height:y}=m;if(r.boxSizing==="content-box"){const E=qa(r,"border","width"),w=qa(r,"padding");g-=w.width+E.width,y-=w.height+E.height}return g=Math.max(0,g-o.width),y=Math.max(0,s?g/s:y-o.height),g=Gs(Math.min(g,u,m.maxWidth)),y=Gs(Math.min(y,f,m.maxHeight)),g&&!y&&(y=Gs(g/2)),(t!==void 0||e!==void 0)&&s&&m.height&&y>m.height&&(y=m.height,g=Gs(Math.floor(y*s))),{width:g,height:y}}function xv(i,t,e){const s=t||1,r=Gs(i.height*s),o=Gs(i.width*s);i.height=Gs(i.height),i.width=Gs(i.width);const u=i.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${i.height}px`,u.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||u.height!==r||u.width!==o?(i.currentDevicePixelRatio=s,u.height=r,u.width=o,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const BR=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};Eg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function Ev(i,t){const e=VR(i,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ja(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function UR(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:s==="middle"?e<.5?i.y:t.y:s==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function PR(i,t,e,s){const r={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},u=ja(i,r,e),f=ja(r,o,e),m=ja(o,t,e),g=ja(u,f,e),y=ja(f,m,e);return ja(g,y,e)}const HR=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},FR=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function Zr(i,t,e){return i?HR(t,e):FR()}function ix(i,t){let e,s;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=s)}function sx(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function ax(i){return i==="angle"?{between:q1,compare:UC,normalize:qs}:{between:So,compare:(t,e)=>t-e,normalize:t=>t}}function Tv({start:i,end:t,count:e,loop:s,style:r}){return{start:i%e,end:t%e,loop:s&&(t-i+1)%e===0,style:r}}function qR(i,t,e){const{property:s,start:r,end:o}=e,{between:u,normalize:f}=ax(s),m=t.length;let{start:g,end:y,loop:b}=i,E,w;if(b){for(g+=m,y+=m,E=0,w=m;E<w&&u(f(t[g%m][s]),r,o);++E)g--,y--;g%=m,y%=m}return y<g&&(y+=m),{start:g,end:y,loop:b,style:i.style}}function YR(i,t,e){if(!e)return[i];const{property:s,start:r,end:o}=e,u=t.length,{compare:f,between:m,normalize:g}=ax(s),{start:y,end:b,loop:E,style:w}=qR(i,t,e),D=[];let V=!1,N=null,Y,$,W;const nt=()=>m(r,W,Y)&&f(r,W)!==0,rt=()=>f(o,Y)===0||m(o,W,Y),st=()=>V||nt(),C=()=>!V||rt();for(let A=y,R=y;A<=b;++A)$=t[A%u],!$.skip&&(Y=g($[s]),Y!==W&&(V=m(Y,r,o),N===null&&st()&&(N=f(Y,r)===0?A:R),N!==null&&C()&&(D.push(Tv({start:N,end:A,loop:E,count:u,style:w})),N=null),R=A,W=Y));return N!==null&&D.push(Tv({start:N,end:b,loop:E,count:u,style:w})),D}function GR(i,t){const e=[],s=i.segments;for(let r=0;r<s.length;r++){const o=YR(s[r],i.points,t);o.length&&e.push(...o)}return e}function XR(i,t,e,s){let r=0,o=t-1;if(e&&!s)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&i[o%t].skip;)o--;return o%=t,{start:r,end:o}}function QR(i,t,e,s){const r=i.length,o=[];let u=t,f=i[t],m;for(m=t+1;m<=e;++m){const g=i[m%r];g.skip||g.stop?f.skip||(s=!1,o.push({start:t%r,end:(m-1)%r,loop:s}),t=u=g.stop?m:null):(u=m,f.skip&&(t=m)),f=g}return u!==null&&o.push({start:t%r,end:u%r,loop:s}),o}function KR(i,t){const e=i.points,s=i.options.spanGaps,r=e.length;if(!r)return[];const o=!!i._loop,{start:u,end:f}=XR(e,r,o,s);if(s===!0)return Sv(i,[{start:u,end:f,loop:o}],e,t);const m=f<u?f+r:f,g=!!i._fullLoop&&u===0&&f===r-1;return Sv(i,QR(e,u,m,g),e,t)}function Sv(i,t,e,s){return!s||!s.setContext||!e?t:ZR(i,t,e,s)}function ZR(i,t,e,s){const r=i._chart.getContext(),o=Av(i.options),{_datasetIndex:u,options:{spanGaps:f}}=i,m=e.length,g=[];let y=o,b=t[0].start,E=b;function w(D,V,N,Y){const $=f?-1:1;if(D!==V){for(D+=m;e[D%m].skip;)D-=$;for(;e[V%m].skip;)V+=$;D%m!==V%m&&(g.push({start:D%m,end:V%m,loop:N,style:Y}),y=Y,b=V%m)}}for(const D of t){b=f?b:D.start;let V=e[b%m],N;for(E=b+1;E<=D.end;E++){const Y=e[E%m];N=Av(s.setContext($a(r,{type:"segment",p0:V,p1:Y,p0DataIndex:(E-1)%m,p1DataIndex:E%m,datasetIndex:u}))),WR(N,y)&&w(b,E-1,D.loop,y),V=Y,y=N}b<E-1&&w(b,E-1,D.loop,y)}return g}function Av(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function WR(i,t){if(!t)return!1;const e=[],s=function(r,o){return pg(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,s)!==JSON.stringify(t,s)}function Gu(i,t,e){return i.options.clip?i[e]:t[e]}function $R(i,t){const{xScale:e,yScale:s}=i;return e&&s?{left:Gu(e,t,"left"),right:Gu(e,t,"right"),top:Gu(s,t,"top"),bottom:Gu(s,t,"bottom")}:t}function JR(i,t){const e=t._clip;if(e.disabled)return!1;const s=$R(t,i.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:s.bottom+(e.bottom===!0?0:e.bottom)}}class tD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,r){const o=e.listeners[r],u=e.duration;o.forEach(f=>f({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(s-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=G1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let u=o.length-1,f=!1,m;for(;u>=0;--u)m=o[u],m._active?(m._total>s.duration&&(s.duration=m._total),m.tick(t),f=!0):(o[u]=o[o.length-1],o.pop());f&&(r.draw(),this._notify(r,s,t,"progress")),o.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ss=new tD;const wv="transparent",eD={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const s=gv(i||wv),r=s.valid&&gv(t||wv);return r&&r.valid?r.mix(s,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class nD{constructor(t,e,s,r){const o=e[s];r=qu([t.to,r,o,t.from]);const u=qu([t.from,o,r]);this._active=!0,this._fn=t.fn||eD[t.type||typeof u],this._easing=ko[t.easing]||ko.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,u=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=qu([t.to,e,r,t.from]),this._from=qu([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,r=this._prop,o=this._from,u=this._loop,f=this._to;let m;if(this._active=o!==f&&(u||e<s),!this._active){this._target[r]=f,this._notify(!0);return}if(e<0){this._target[r]=o;return}m=e/s%2,m=u&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[r]=this._fn(o,f,m)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][e]()}}class rx{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ft(t))return;const e=Object.keys(_e.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ft(o))return;const u={};for(const f of e)u[f]=o[f];(je(o.properties)&&o.properties||[r]).forEach(f=>{(f===r||!s.has(f))&&s.set(f,u)})})}_animateOptions(t,e){const s=e.options,r=sD(t,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&iD(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,e){const s=this._properties,r=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),f=Date.now();let m;for(m=u.length-1;m>=0;--m){const g=u[m];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let b=o[g];const E=s.get(g);if(b)if(E&&b.active()){b.update(E,y,f);continue}else b.cancel();if(!E||!E.duration){t[g]=y;continue}o[g]=b=new nD(E,t,g,y),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return ss.add(this._chart,s),!0}}function iD(i,t){const e=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const o=i[s[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function sD(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Cv(i,t){const e=i&&i.options||{},s=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:s?o:r,end:s?r:o}}function aD(i,t,e){if(e===!1)return!1;const s=Cv(i,e),r=Cv(t,e);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function rD(i){let t,e,s,r;return Ft(i)?(t=i.top,e=i.right,s=i.bottom,r=i.left):t=e=s=r=i,{top:t,right:e,bottom:s,left:r,disabled:i===!1}}function lx(i,t){const e=[],s=i._getSortedDatasetMetas(t);let r,o;for(r=0,o=s.length;r<o;++r)e.push(s[r].index);return e}function Rv(i,t,e,s={}){const r=i.keys,o=s.mode==="single";let u,f,m,g;if(t===null)return;let y=!1;for(u=0,f=r.length;u<f;++u){if(m=+r[u],m===e){if(y=!0,s.all)continue;break}g=i.values[m],qn(g)&&(o||t===0||nl(t)===nl(g))&&(t+=g)}return!y&&!s.all?0:t}function lD(i,t){const{iScale:e,vScale:s}=t,r=e.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",u=Object.keys(i),f=new Array(u.length);let m,g,y;for(m=0,g=u.length;m<g;++m)y=u[m],f[m]={[r]:y,[o]:i[y]};return f}function sm(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function oD(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function cD(i){const{min:t,max:e,minDefined:s,maxDefined:r}=i.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function uD(i,t,e){const s=i[t]||(i[t]={});return s[e]||(s[e]={})}function Dv(i,t,e,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const o=i[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Mv(i,t){const{chart:e,_cachedMeta:s}=i,r=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:f}=s,m=o.axis,g=u.axis,y=oD(o,u,s),b=t.length;let E;for(let w=0;w<b;++w){const D=t[w],{[m]:V,[g]:N}=D,Y=D._stacks||(D._stacks={});E=Y[g]=uD(r,y,V),E[f]=N,E._top=Dv(E,u,!0,s.type),E._bottom=Dv(E,u,!1,s.type);const $=E._visualValues||(E._visualValues={});$[f]=N}}function am(i,t){const e=i.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function hD(i,t){return $a(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function fD(i,t,e){return $a(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function yo(i,t){const e=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){t=t||i._parsed;for(const r of t){const o=r._stacks;if(!o||o[s]===void 0||o[s][e]===void 0)return;delete o[s][e],o[s]._visualValues!==void 0&&o[s]._visualValues[e]!==void 0&&delete o[s]._visualValues[e]}}}const rm=i=>i==="reset"||i==="none",Ov=(i,t)=>t?i:Object.assign({},i),dD=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:lx(e,!0),values:null};class ox{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&yo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),r=(b,E,w,D)=>b==="x"?E:b==="r"?D:w,o=e.xAxisID=jt(s.xAxisID,am(t,"x")),u=e.yAxisID=jt(s.yAxisID,am(t,"y")),f=e.rAxisID=jt(s.rAxisID,am(t,"r")),m=e.indexAxis,g=e.iAxisID=r(m,o,u,f),y=e.vAxisID=r(m,u,o,f);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(f),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&fv(this._data,this),t._stacked&&yo(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Ft(e)){const r=this._cachedMeta;this._data=lD(e,r)}else if(s!==e){if(s){fv(s,this);const r=this._cachedMeta;yo(r),r._parsed=[]}e&&Object.isExtensible(e)&&qC(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=sm(e.vScale,e),e.stack!==s.stack&&(r=!0,yo(e),e.stack=s.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Mv(this,e._parsed),e._stacked=sm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:u}=s,f=o.axis;let m=t===0&&e===r.length?!0:s._sorted,g=t>0&&s._parsed[t-1],y,b,E;if(this._parsing===!1)s._parsed=r,s._sorted=!0,E=r;else{je(r[t])?E=this.parseArrayData(s,r,t,e):Ft(r[t])?E=this.parseObjectData(s,r,t,e):E=this.parsePrimitiveData(s,r,t,e);const w=()=>b[f]===null||g&&b[f]<g[f];for(y=0;y<e;++y)s._parsed[y+t]=b=E[y],m&&(w()&&(m=!1),g=b);s._sorted=m}u&&Mv(this,E)}parsePrimitiveData(t,e,s,r){const{iScale:o,vScale:u}=t,f=o.axis,m=u.axis,g=o.getLabels(),y=o===u,b=new Array(r);let E,w,D;for(E=0,w=r;E<w;++E)D=E+s,b[E]={[f]:y||o.parse(g[D],D),[m]:u.parse(e[D],D)};return b}parseArrayData(t,e,s,r){const{xScale:o,yScale:u}=t,f=new Array(r);let m,g,y,b;for(m=0,g=r;m<g;++m)y=m+s,b=e[y],f[m]={x:o.parse(b[0],y),y:u.parse(b[1],y)};return f}parseObjectData(t,e,s,r){const{xScale:o,yScale:u}=t,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,g=new Array(r);let y,b,E,w;for(y=0,b=r;y<b;++y)E=y+s,w=e[E],g[y]={x:o.parse(Sh(w,f),E),y:u.parse(Sh(w,m),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const r=this.chart,o=this._cachedMeta,u=e[t.axis],f={keys:lx(r,!0),values:e._stacks[t.axis]._visualValues};return Rv(f,u,o.index,{mode:s})}updateRangeFromParsed(t,e,s,r){const o=s[e.axis];let u=o===null?NaN:o;const f=r&&s._stacks[e.axis];r&&f&&(r.values=f,u=Rv(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&t===s.iScale,u=r.length,f=this._getOtherScale(t),m=dD(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=cD(f);let E,w;function D(){w=r[E];const V=w[f.axis];return!qn(w[t.axis])||y>V||b<V}for(E=0;E<u&&!(!D()&&(this.updateRangeFromParsed(g,t,w,m),o));++E);if(o){for(E=u-1;E>=0;--E)if(!D()){this.updateRangeFromParsed(g,t,w,m);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let r,o,u;for(r=0,o=e.length;r<o;++r)u=e[r][t.axis],qn(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=rD(jt(this.options.clip,aD(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,r=s.data||[],o=e.chartArea,u=[],f=this._drawStart||0,m=this._drawCount||r.length-f,g=this.options.drawActiveElementsOnTop;let y;for(s.dataset&&s.dataset.draw(t,o,f,m),y=f;y<f+m;++y){const b=r[y];b.hidden||(b.active&&g?u.push(b):b.draw(t,o))}for(y=0;y<u.length;++y)u[y].draw(t,o)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=fD(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=hD(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const r=e==="active",o=this._cachedDataOpts,u=t+"-"+e,f=o[u],m=this.enableOptionSharing&&Ah(s);if(f)return Ov(f,m);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),y),w=Object.keys(_e.elements[t]),D=()=>this.getContext(s,r,e),V=g.resolveNamedOptions(E,w,D,b);return V.$shared&&(V.$shared=m,o[u]=Object.freeze(Ov(V,m))),V}_resolveAnimations(t,e,s){const r=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,f=o[u];if(f)return f;let m;if(r.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),b);m=y.createResolver(E,this.getContext(t,s,e))}const g=new rx(r,m&&m.animations);return m&&m._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||rm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(s),u=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,s),{sharedOptions:o,includeOptions:u}}updateElement(t,e,s,r){rm(r)?Object.assign(t,s):this._resolveAnimations(e,r).update(t,s)}updateSharedOptions(t,e,s){t&&!rm(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,s,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[f,m,g]of this._syncList)this[f](m,g);this._syncList=[];const r=s.length,o=e.length,u=Math.min(o,r);u&&this.parse(0,u),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,s=!0){const r=this._cachedMeta,o=r.data,u=t+e;let f;const m=g=>{for(g.length+=e,f=g.length-1;f>=u;f--)g[f]=g[f-e]};for(m(o),f=t;f<u;++f)o[f]=new this.dataElementType;this._parsing&&m(r._parsed),this.parse(t,e),s&&this.updateElements(o,t,e,"reset")}updateElements(t,e,s,r){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,e);s._stacked&&yo(s,r)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,r]=t;this[e](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class mD extends ox{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=e,u=this.getParsed(t),f=r.getLabelForValue(u.x),m=o.getLabelForValue(u.y);return{label:s[t]||"",value:"("+f+", "+m+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:u}=QC(e,s,r);if(this._drawStart=o,this._drawCount=u,KC(e)&&(o=0,u=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:f,_dataset:m}=e;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!m._decimated,f.points=s;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(f,void 0,{animated:!r,options:g},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,o,u,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,r){const o=r==="reset",{iScale:u,vScale:f,_stacked:m,_dataset:g}=this._cachedMeta,y=this.resolveDataElementOptions(e,r),b=this.getSharedOptions(y),E=this.includeOptions(r,b),w=u.axis,D=f.axis,{spanGaps:V,segment:N}=this.options,Y=Qo(V)?V:Number.POSITIVE_INFINITY,$=this.chart._animationsDisabled||o||r==="none";let W=e>0&&this.getParsed(e-1);for(let nt=e;nt<e+s;++nt){const rt=t[nt],st=this.getParsed(nt),C=$?rt:{},A=te(st[D]),R=C[w]=u.getPixelForValue(st[w],nt),k=C[D]=o||A?f.getBasePixel():f.getPixelForValue(m?this.applyStack(f,st,m):st[D],nt);C.skip=isNaN(R)||isNaN(k)||A,C.stop=nt>0&&Math.abs(st[w]-W[w])>Y,N&&(C.parsed=st,C.raw=g.data[nt]),E&&(C.options=b||this.resolveDataElementOptions(nt,rt.active?"active":r)),$||this.updateElement(rt,nt,C,r),W=st}this.updateSharedOptions(b,r,y)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let f=0;for(let m=e.length-1;m>=0;--m)f=Math.max(f,e[m].size(this.resolveDataElementOptions(m))/2);return f>0&&f}const s=t.dataset,r=s.options&&s.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),u=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,u)/2}}function ka(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sg{static override(t){Object.assign(Sg.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ka()}parse(){return ka()}format(){return ka()}add(){return ka()}diff(){return ka()}startOf(){return ka()}endOf(){return ka()}}var gD={_date:Sg};function pD(i,t,e,s){const{controller:r,data:o,_sorted:u}=i,f=r._cachedMeta.iScale,m=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(f&&t===f.axis&&t!=="r"&&u&&o.length){const g=f._reversePixels?HC:Pa;if(s){if(r._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(t);if(b){const E=g(o,t,e-b),w=g(o,t,e+b);return{lo:E.lo,hi:w.hi}}}}else{const y=g(o,t,e);if(m){const{vScale:b}=r._cachedMeta,{_parsed:E}=i,w=E.slice(0,y.lo+1).reverse().findIndex(V=>!te(V[b.axis]));y.lo-=Math.max(0,w);const D=E.slice(y.hi).findIndex(V=>!te(V[b.axis]));y.hi+=Math.max(0,D)}return y}}return{lo:0,hi:o.length-1}}function Bh(i,t,e,s,r){const o=i.getSortedVisibleDatasetMetas(),u=e[t];for(let f=0,m=o.length;f<m;++f){const{index:g,data:y}=o[f],{lo:b,hi:E}=pD(o[f],t,u,r);for(let w=b;w<=E;++w){const D=y[w];D.skip||s(D,g,w)}}}function yD(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(s,r){const o=t?Math.abs(s.x-r.x):0,u=e?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function lm(i,t,e,s,r){const o=[];return!r&&!i.isPointInArea(t)||Bh(i,e,t,function(f,m,g){!r&&!Ko(f,i.chartArea,0)||f.inRange(t.x,t.y,s)&&o.push({element:f,datasetIndex:m,index:g})},!0),o}function _D(i,t,e,s){let r=[];function o(u,f,m){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],s),{angle:b}=BC(u,{x:t.x,y:t.y});q1(b,g,y)&&r.push({element:u,datasetIndex:f,index:m})}return Bh(i,e,t,o),r}function vD(i,t,e,s,r,o){let u=[];const f=yD(e);let m=Number.POSITIVE_INFINITY;function g(y,b,E){const w=y.inRange(t.x,t.y,r);if(s&&!w)return;const D=y.getCenterPoint(r);if(!(!!o||i.isPointInArea(D))&&!w)return;const N=f(t,D);N<m?(u=[{element:y,datasetIndex:b,index:E}],m=N):N===m&&u.push({element:y,datasetIndex:b,index:E})}return Bh(i,e,t,g),u}function om(i,t,e,s,r,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!s?_D(i,t,e,r):vD(i,t,e,s,r,o)}function Nv(i,t,e,s,r){const o=[],u=e==="x"?"inXRange":"inYRange";let f=!1;return Bh(i,e,t,(m,g,y)=>{m[u]&&m[u](t[e],r)&&(o.push({element:m,datasetIndex:g,index:y}),f=f||m.inRange(t.x,t.y,r))}),s&&!f?[]:o}var bD={modes:{index(i,t,e,s){const r=La(t,i),o=e.axis||"x",u=e.includeInvisible||!1,f=e.intersect?lm(i,r,o,s,u):om(i,r,o,!1,s,u),m=[];return f.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const y=f[0].index,b=g.data[y];b&&!b.skip&&m.push({element:b,datasetIndex:g.index,index:y})}),m):[]},dataset(i,t,e,s){const r=La(t,i),o=e.axis||"xy",u=e.includeInvisible||!1;let f=e.intersect?lm(i,r,o,s,u):om(i,r,o,!1,s,u);if(f.length>0){const m=f[0].datasetIndex,g=i.getDatasetMeta(m).data;f=[];for(let y=0;y<g.length;++y)f.push({element:g[y],datasetIndex:m,index:y})}return f},point(i,t,e,s){const r=La(t,i),o=e.axis||"xy",u=e.includeInvisible||!1;return lm(i,r,o,s,u)},nearest(i,t,e,s){const r=La(t,i),o=e.axis||"xy",u=e.includeInvisible||!1;return om(i,r,o,e.intersect,s,u)},x(i,t,e,s){const r=La(t,i);return Nv(i,r,"x",e.intersect,s)},y(i,t,e,s){const r=La(t,i);return Nv(i,r,"y",e.intersect,s)}}};const cx=["left","top","right","bottom"];function _o(i,t){return i.filter(e=>e.pos===t)}function Vv(i,t){return i.filter(e=>cx.indexOf(e.pos)===-1&&e.box.axis===t)}function vo(i,t){return i.sort((e,s)=>{const r=t?s:e,o=t?e:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function xD(i){const t=[];let e,s,r,o,u,f;for(e=0,s=(i||[]).length;e<s;++e)r=i[e],{position:o,options:{stack:u,stackWeight:f=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&o+u,stackWeight:f});return t}function ED(i){const t={};for(const e of i){const{stack:s,pos:r,stackWeight:o}=e;if(!s||!cx.includes(r))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function TD(i,t){const e=ED(i),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let o,u,f;for(o=0,u=i.length;o<u;++o){f=i[o];const{fullSize:m}=f.box,g=e[f.stack],y=g&&f.stackWeight/g.weight;f.horizontal?(f.width=y?y*s:m&&t.availableWidth,f.height=r):(f.width=s,f.height=y?y*r:m&&t.availableHeight)}return e}function SD(i){const t=xD(i),e=vo(t.filter(g=>g.box.fullSize),!0),s=vo(_o(t,"left"),!0),r=vo(_o(t,"right")),o=vo(_o(t,"top"),!0),u=vo(_o(t,"bottom")),f=Vv(t,"x"),m=Vv(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:r.concat(m).concat(u).concat(f),chartArea:_o(t,"chartArea"),vertical:s.concat(r).concat(m),horizontal:o.concat(u).concat(f)}}function Iv(i,t,e,s){return Math.max(i[e],t[e])+Math.max(i[s],t[s])}function ux(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function AD(i,t,e,s){const{pos:r,box:o}=e,u=i.maxPadding;if(!Ft(r)){e.size&&(i[r]-=e.size);const b=s[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,i[r]+=e.size}o.getPadding&&ux(u,o.getPadding());const f=Math.max(0,t.outerWidth-Iv(u,i,"left","right")),m=Math.max(0,t.outerHeight-Iv(u,i,"top","bottom")),g=f!==i.w,y=m!==i.h;return i.w=f,i.h=m,e.horizontal?{same:g,other:y}:{same:y,other:g}}function wD(i){const t=i.maxPadding;function e(s){const r=Math.max(t[s]-i[s],0);return i[s]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function CD(i,t){const e=t.maxPadding;function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return s(i?["left","right"]:["top","bottom"])}function Ao(i,t,e,s){const r=[];let o,u,f,m,g,y;for(o=0,u=i.length,g=0;o<u;++o){f=i[o],m=f.box,m.update(f.width||t.w,f.height||t.h,CD(f.horizontal,t));const{same:b,other:E}=AD(t,e,f,s);g|=b&&r.length,y=y||E,m.fullSize||r.push(f)}return g&&Ao(r,t,e,s)||y}function Xu(i,t,e,s,r){i.top=e,i.left=t,i.right=t+s,i.bottom=e+r,i.width=s,i.height=r}function kv(i,t,e,s){const r=e.padding;let{x:o,y:u}=t;for(const f of i){const m=f.box,g=s[f.stack]||{placed:0,weight:1},y=f.stackWeight/g.weight||1;if(f.horizontal){const b=t.w*y,E=g.size||m.height;Ah(g.start)&&(u=g.start),m.fullSize?Xu(m,r.left,u,e.outerWidth-r.right-r.left,E):Xu(m,t.left+g.placed,u,b,E),g.start=u,g.placed+=b,u=m.bottom}else{const b=t.h*y,E=g.size||m.width;Ah(g.start)&&(o=g.start),m.fullSize?Xu(m,o,r.top,E,e.outerHeight-r.bottom-r.top):Xu(m,o,t.top+g.placed,E,b),g.start=o,g.placed+=b,o=m.right}}t.x=o,t.y=u}var Fn={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,s){if(!i)return;const r=Yn(i.options.layout.padding),o=Math.max(t-r.width,0),u=Math.max(e-r.height,0),f=SD(i.boxes),m=f.vertical,g=f.horizontal;Qt(i.boxes,V=>{typeof V.beforeLayout=="function"&&V.beforeLayout()});const y=m.reduce((V,N)=>N.box.options&&N.box.options.display===!1?V:V+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/y,hBoxMaxHeight:u/2}),E=Object.assign({},r);ux(E,Yn(s));const w=Object.assign({maxPadding:E,w:o,h:u,x:r.left,y:r.top},r),D=TD(m.concat(g),b);Ao(f.fullSize,w,b,D),Ao(m,w,b,D),Ao(g,w,b,D)&&Ao(m,w,b,D),wD(w),kv(f.leftAndTop,w,b,D),w.x+=w.w,w.y+=w.h,kv(f.rightAndBottom,w,b,D),i.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Qt(f.chartArea,V=>{const N=V.box;Object.assign(N,i.chartArea),N.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class hx{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,r){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):s)}}isAttached(t){return!0}updateConfig(t){}}class RD extends hx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const sh="$chartjs",DD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zv=i=>i===null||i==="";function MD(i,t){const e=i.style,s=i.getAttribute("height"),r=i.getAttribute("width");if(i[sh]={initial:{height:s,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",zv(r)){const o=Ev(i,"width");o!==void 0&&(i.width=o)}if(zv(s))if(i.style.height==="")i.height=i.width/(t||2);else{const o=Ev(i,"height");o!==void 0&&(i.height=o)}return i}const fx=BR?{passive:!0}:!1;function OD(i,t,e){i&&i.addEventListener(t,e,fx)}function ND(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,fx)}function VD(i,t){const e=DD[i.type]||i.type,{x:s,y:r}=La(i,t);return{type:e,chart:t,native:i,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Rh(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function ID(i,t,e){const s=i.canvas,r=new MutationObserver(o=>{let u=!1;for(const f of o)u=u||Rh(f.addedNodes,s),u=u&&!Rh(f.removedNodes,s);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function kD(i,t,e){const s=i.canvas,r=new MutationObserver(o=>{let u=!1;for(const f of o)u=u||Rh(f.removedNodes,s),u=u&&!Rh(f.addedNodes,s);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wo=new Map;let Lv=0;function dx(){const i=window.devicePixelRatio;i!==Lv&&(Lv=i,Wo.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function zD(i,t){Wo.size||window.addEventListener("resize",dx),Wo.set(i,t)}function LD(i){Wo.delete(i),Wo.size||window.removeEventListener("resize",dx)}function jD(i,t,e){const s=i.canvas,r=s&&Tg(s);if(!r)return;const o=X1((f,m)=>{const g=r.clientWidth;e(f,m),g<r.clientWidth&&e()},window),u=new ResizeObserver(f=>{const m=f[0],g=m.contentRect.width,y=m.contentRect.height;g===0&&y===0||o(g,y)});return u.observe(r),zD(i,o),u}function cm(i,t,e){e&&e.disconnect(),t==="resize"&&LD(i)}function BD(i,t,e){const s=i.canvas,r=X1(o=>{i.ctx!==null&&e(VD(o,i))},i);return OD(s,t,r),r}class UD extends hx{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(MD(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[sh])return!1;const s=e[sh].initial;["height","width"].forEach(o=>{const u=s[o];te(u)?e.removeAttribute(o):e.setAttribute(o,u)});const r=s.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[sh],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),u={attach:ID,detach:kD,resize:jD}[e]||BD;r[e]=u(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),r=s[e];if(!r)return;({attach:cm,detach:cm,resize:cm}[e]||ND)(t,e,r),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,r){return jR(t,e,s,r)}isAttached(t){const e=t&&Tg(t);return!!(e&&e.isConnected)}}function PD(i){return!Eg()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?RD:UD}class Ja{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Qo(this.x)&&Qo(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const r={};return t.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}}function HD(i,t){const e=i.options.ticks,s=FD(i),r=Math.min(e.maxTicksLimit||s,s),o=e.major.enabled?YD(t):[],u=o.length,f=o[0],m=o[u-1],g=[];if(u>r)return GD(t,g,o,u/r),g;const y=qD(o,t,r);if(u>0){let b,E;const w=u>1?Math.round((m-f)/(u-1)):null;for(Qu(t,g,y,te(w)?0:f-w,f),b=0,E=u-1;b<E;b++)Qu(t,g,y,o[b],o[b+1]);return Qu(t,g,y,m,te(w)?t.length:m+w),g}return Qu(t,g,y),g}function FD(i){const t=i.options.offset,e=i._tickSize(),s=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(s,r))}function qD(i,t,e){const s=XD(i),r=t.length/e;if(!s)return Math.max(r,1);const o=IC(s);for(let u=0,f=o.length-1;u<f;u++){const m=o[u];if(m>r)return m}return Math.max(r,1)}function YD(i){const t=[];let e,s;for(e=0,s=i.length;e<s;e++)i[e].major&&t.push(e);return t}function GD(i,t,e,s){let r=0,o=e[0],u;for(s=Math.ceil(s),u=0;u<i.length;u++)u===o&&(t.push(i[u]),r++,o=e[r*s])}function Qu(i,t,e,s,r){const o=jt(s,0),u=Math.min(jt(r,i.length),i.length);let f=0,m,g,y;for(e=Math.ceil(e),r&&(m=r-s,e=m/Math.floor(m/e)),y=o;y<0;)f++,y=Math.round(o+f*e);for(g=Math.max(o,0);g<u;g++)g===y&&(t.push(i[g]),f++,y=Math.round(o+f*e))}function XD(i){const t=i.length;let e,s;if(t<2)return!1;for(s=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==s)return!1;return s}const QD=i=>i==="left"?"right":i==="right"?"left":i,jv=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Bv=(i,t)=>Math.min(t||i,i);function Uv(i,t){const e=[],s=i.length/t,r=i.length;let o=0;for(;o<r;o+=s)e.push(i[Math.floor(o)]);return e}function KD(i,t,e){const s=i.ticks.length,r=Math.min(t,s-1),o=i._startPixel,u=i._endPixel,f=1e-6;let m=i.getPixelForTick(r),g;if(!(e&&(s===1?g=Math.max(m-o,u-m):t===0?g=(i.getPixelForTick(1)-m)/2:g=(m-i.getPixelForTick(r-1))/2,m+=r<t?g:-g,m<o-f||m>u+f)))return m}function ZD(i,t){Qt(i,e=>{const s=e.gc,r=s.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[s[o]];s.splice(0,r)}})}function bo(i){return i.drawTicks?i.tickLength:0}function Pv(i,t){if(!i.display)return 0;const e=nn(i.font,t),s=Yn(i.padding);return(je(i.text)?i.text.length:1)*e.lineHeight+s.height}function WD(i,t){return $a(i,{scale:t,type:"scale"})}function $D(i,t,e){return $a(i,{tick:e,index:t,type:"tick"})}function JD(i,t,e){let s=gg(i);return(e&&t!=="right"||!e&&t==="right")&&(s=QD(s)),s}function tM(i,t,e,s){const{top:r,left:o,bottom:u,right:f,chart:m}=i,{chartArea:g,scales:y}=m;let b=0,E,w,D;const V=u-r,N=f-o;if(i.isHorizontal()){if(w=$e(s,o,f),Ft(e)){const Y=Object.keys(e)[0],$=e[Y];D=y[Y].getPixelForValue($)+V-t}else e==="center"?D=(g.bottom+g.top)/2+V-t:D=jv(i,e,t);E=f-o}else{if(Ft(e)){const Y=Object.keys(e)[0],$=e[Y];w=y[Y].getPixelForValue($)-N+t}else e==="center"?w=(g.left+g.right)/2-N+t:w=jv(i,e,t);D=$e(s,u,r),b=e==="left"?-oi:oi}return{titleX:w,titleY:D,maxWidth:E,rotation:b}}class ol extends Ja{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:r}=this;return t=Oi(t,Number.POSITIVE_INFINITY),e=Oi(e,Number.NEGATIVE_INFINITY),s=Oi(s,Number.POSITIVE_INFINITY),r=Oi(r,Number.NEGATIVE_INFINITY),{min:Oi(t,s),max:Oi(e,r),minDefined:qn(t),maxDefined:qn(e)}}getMinMax(t){let{min:e,max:s,minDefined:r,maxDefined:o}=this.getUserBounds(),u;if(r&&o)return{min:e,max:s};const f=this.getMatchingVisibleMetas();for(let m=0,g=f.length;m<g;++m)u=f[m].controller.getMinMax(this,t),r||(e=Math.min(e,u.min)),o||(s=Math.max(s,u.max));return e=o&&e>s?s:e,s=r&&e>s?e:s,{min:Oi(e,Oi(s,e)),max:Oi(s,Oi(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){se(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:r,grace:o,ticks:u}=this.options,f=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pR(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=f<this.ticks.length;this._convertTicksToLabels(m?Uv(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=HD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){se(this.options.afterUpdate,[this])}beforeSetDimensions(){se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){se(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),se(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,r,o;for(s=0,r=t.length;s<r;s++)o=t[s],o.label=se(e.callback,[o.value,s,t],this)}afterTickToLabelConversion(){se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Bv(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let u=r,f,m,g;if(!this._isVisible()||!e.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),b=y.widest.width,E=y.highest.height,w=Hn(this.chart.width-b,0,this.maxWidth);f=t.offset?this.maxWidth/s:w/(s-1),b+6>f&&(f=w/(s-(t.offset?.5:1)),m=this.maxHeight-bo(t.grid)-e.padding-Pv(t.title,this.chart.options.font),g=Math.sqrt(b*b+E*E),u=jC(Math.min(Math.asin(Hn((y.highest.height+6)/f,-1,1)),Math.asin(Hn(m/g,-1,1))-Math.asin(Hn(E/g,-1,1)))),u=Math.max(r,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){se(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:r,grid:o}}=this,u=this._isVisible(),f=this.isHorizontal();if(u){const m=Pv(r,e.options.font);if(f?(t.width=this.maxWidth,t.height=bo(o)+m):(t.height=this.maxHeight,t.width=bo(o)+m),s.display&&this.ticks.length){const{first:g,last:y,widest:b,highest:E}=this._getLabelSizes(),w=s.padding*2,D=Ua(this.labelRotation),V=Math.cos(D),N=Math.sin(D);if(f){const Y=s.mirror?0:N*b.width+V*E.height;t.height=Math.min(this.maxHeight,t.height+Y+w)}else{const Y=s.mirror?0:V*b.width+N*E.height;t.width=Math.min(this.maxWidth,t.width+Y+w)}this._calculatePadding(g,y,N,V)}}this._handleMargins(),f?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,r){const{ticks:{align:o,padding:u},position:f}=this.options,m=this.labelRotation!==0,g=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,w=0;m?g?(E=r*t.width,w=s*e.height):(E=s*t.height,w=r*e.width):o==="start"?w=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,w=e.width/2),this.paddingLeft=Math.max((E-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((w-b+u)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;o==="start"?(y=0,b=t.height):o==="end"&&(y=e.height,b=0),this.paddingTop=y+u,this.paddingBottom=b+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){se(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)te(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Uv(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:r,_longestTextCache:o}=this,u=[],f=[],m=Math.floor(e/Bv(e,s));let g=0,y=0,b,E,w,D,V,N,Y,$,W,nt,rt;for(b=0;b<e;b+=m){if(D=t[b].label,V=this._resolveTickFontOptions(b),r.font=N=V.string,Y=o[N]=o[N]||{data:{},gc:[]},$=V.lineHeight,W=nt=0,!te(D)&&!je(D))W=yv(r,Y.data,Y.gc,W,D),nt=$;else if(je(D))for(E=0,w=D.length;E<w;++E)rt=D[E],!te(rt)&&!je(rt)&&(W=yv(r,Y.data,Y.gc,W,rt),nt+=$);u.push(W),f.push(nt),g=Math.max(W,g),y=Math.max(nt,y)}ZD(o,e);const st=u.indexOf(g),C=f.indexOf(y),A=R=>({width:u[R]||0,height:f[R]||0});return{first:A(0),last:A(e-1),widest:A(st),highest:A(C),widths:u,heights:f}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return PC(this._alignToPixels?Ia(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=$D(this.getContext(),t,s))}return this.$context||(this.$context=WD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ua(this.labelRotation),s=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,f=o?o.widest.width+u:0,m=o?o.highest.height+u:0;return this.isHorizontal()?m*s>f*r?f/s:m/r:m*r<f*s?m/s:f/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,r=this.options,{grid:o,position:u,border:f}=r,m=o.offset,g=this.isHorizontal(),b=this.ticks.length+(m?1:0),E=bo(o),w=[],D=f.setContext(this.getContext()),V=D.display?D.width:0,N=V/2,Y=function(U){return Ia(s,U,V)};let $,W,nt,rt,st,C,A,R,k,O,j,M;if(u==="top")$=Y(this.bottom),C=this.bottom-E,R=$-N,O=Y(t.top)+N,M=t.bottom;else if(u==="bottom")$=Y(this.top),O=t.top,M=Y(t.bottom)-N,C=$+N,R=this.top+E;else if(u==="left")$=Y(this.right),st=this.right-E,A=$-N,k=Y(t.left)+N,j=t.right;else if(u==="right")$=Y(this.left),k=t.left,j=Y(t.right)-N,st=$+N,A=this.left+E;else if(e==="x"){if(u==="center")$=Y((t.top+t.bottom)/2+.5);else if(Ft(u)){const U=Object.keys(u)[0],tt=u[U];$=Y(this.chart.scales[U].getPixelForValue(tt))}O=t.top,M=t.bottom,C=$+N,R=C+E}else if(e==="y"){if(u==="center")$=Y((t.left+t.right)/2);else if(Ft(u)){const U=Object.keys(u)[0],tt=u[U];$=Y(this.chart.scales[U].getPixelForValue(tt))}st=$-N,A=st-E,k=t.left,j=t.right}const St=jt(r.ticks.maxTicksLimit,b),at=Math.max(1,Math.ceil(b/St));for(W=0;W<b;W+=at){const U=this.getContext(W),tt=o.setContext(U),ut=f.setContext(U),dt=tt.lineWidth,Et=tt.color,L=ut.dash||[],K=ut.dashOffset,ct=tt.tickWidth,ht=tt.tickColor,_t=tt.tickBorderDash||[],bt=tt.tickBorderDashOffset;nt=KD(this,W,m),nt!==void 0&&(rt=Ia(s,nt,dt),g?st=A=k=j=rt:C=R=O=M=rt,w.push({tx1:st,ty1:C,tx2:A,ty2:R,x1:k,y1:O,x2:j,y2:M,width:dt,color:Et,borderDash:L,borderDashOffset:K,tickWidth:ct,tickColor:ht,tickBorderDash:_t,tickBorderDashOffset:bt}))}return this._ticksLength=b,this._borderValue=$,w}_computeLabelItems(t){const e=this.axis,s=this.options,{position:r,ticks:o}=s,u=this.isHorizontal(),f=this.ticks,{align:m,crossAlign:g,padding:y,mirror:b}=o,E=bo(s.grid),w=E+y,D=b?-y:w,V=-Ua(this.labelRotation),N=[];let Y,$,W,nt,rt,st,C,A,R,k,O,j,M="middle";if(r==="top")st=this.bottom-D,C=this._getXAxisLabelAlignment();else if(r==="bottom")st=this.top+D,C=this._getXAxisLabelAlignment();else if(r==="left"){const at=this._getYAxisLabelAlignment(E);C=at.textAlign,rt=at.x}else if(r==="right"){const at=this._getYAxisLabelAlignment(E);C=at.textAlign,rt=at.x}else if(e==="x"){if(r==="center")st=(t.top+t.bottom)/2+w;else if(Ft(r)){const at=Object.keys(r)[0],U=r[at];st=this.chart.scales[at].getPixelForValue(U)+w}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")rt=(t.left+t.right)/2-w;else if(Ft(r)){const at=Object.keys(r)[0],U=r[at];rt=this.chart.scales[at].getPixelForValue(U)}C=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(m==="start"?M="top":m==="end"&&(M="bottom"));const St=this._getLabelSizes();for(Y=0,$=f.length;Y<$;++Y){W=f[Y],nt=W.label;const at=o.setContext(this.getContext(Y));A=this.getPixelForTick(Y)+o.labelOffset,R=this._resolveTickFontOptions(Y),k=R.lineHeight,O=je(nt)?nt.length:1;const U=O/2,tt=at.color,ut=at.textStrokeColor,dt=at.textStrokeWidth;let Et=C;u?(rt=A,C==="inner"&&(Y===$-1?Et=this.options.reverse?"left":"right":Y===0?Et=this.options.reverse?"right":"left":Et="center"),r==="top"?g==="near"||V!==0?j=-O*k+k/2:g==="center"?j=-St.highest.height/2-U*k+k:j=-St.highest.height+k/2:g==="near"||V!==0?j=k/2:g==="center"?j=St.highest.height/2-U*k:j=St.highest.height-O*k,b&&(j*=-1),V!==0&&!at.showLabelBackdrop&&(rt+=k/2*Math.sin(V))):(st=A,j=(1-O)*k/2);let L;if(at.showLabelBackdrop){const K=Yn(at.backdropPadding),ct=St.heights[Y],ht=St.widths[Y];let _t=j-K.top,bt=0-K.left;switch(M){case"middle":_t-=ct/2;break;case"bottom":_t-=ct;break}switch(C){case"center":bt-=ht/2;break;case"right":bt-=ht;break;case"inner":Y===$-1?bt-=ht:Y>0&&(bt-=ht/2);break}L={left:bt,top:_t,width:ht+K.width,height:ct+K.height,color:at.backdropColor}}N.push({label:nt,font:R,textOffset:j,options:{rotation:V,color:tt,strokeColor:ut,strokeWidth:dt,textAlign:Et,textBaseline:M,translation:[rt,st],backdrop:L}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ua(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,u=this._getLabelSizes(),f=t+o,m=u.widest.width;let g,y;return e==="left"?r?(y=this.right+o,s==="near"?g="left":s==="center"?(g="center",y+=m/2):(g="right",y+=m)):(y=this.right-f,s==="near"?g="right":s==="center"?(g="center",y-=m/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+o,s==="near"?g="right":s==="center"?(g="center",y-=m/2):(g="left",y-=m)):(y=this.left+f,s==="near"?g="left":s==="center"?(g="center",y+=m/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:r,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,r,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const f=(m,g,y)=>{!y.width||!y.color||(s.save(),s.lineWidth=y.width,s.strokeStyle=y.color,s.setLineDash(y.borderDash||[]),s.lineDashOffset=y.borderDashOffset,s.beginPath(),s.moveTo(m.x,m.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(o=0,u=r.length;o<u;++o){const m=r[o];e.drawOnChartArea&&f({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),e.drawTicks&&f({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:r}}=this,o=s.setContext(this.getContext()),u=s.display?o.width:0;if(!u)return;const f=r.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let g,y,b,E;this.isHorizontal()?(g=Ia(t,this.left,u)-u/2,y=Ia(t,this.right,f)+f/2,b=E=m):(b=Ia(t,this.top,u)-u/2,E=Ia(t,this.bottom,f)+f/2,g=y=m),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&yg(s,r);const o=this.getLabelItems(t);for(const u of o){const f=u.options,m=u.font,g=u.label,y=u.textOffset;Zo(s,g,0,y,m,f)}r&&_g(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:r}}=this;if(!s.display)return;const o=nn(s.font),u=Yn(s.padding),f=s.align;let m=o.lineHeight/2;e==="bottom"||e==="center"||Ft(e)?(m+=u.bottom,je(s.text)&&(m+=o.lineHeight*(s.text.length-1))):m+=u.top;const{titleX:g,titleY:y,maxWidth:b,rotation:E}=tM(this,m,e,f);Zo(t,s.text,0,0,o,{color:s.color,maxWidth:b,rotation:E,textAlign:JD(f,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=jt(t.grid&&t.grid.z,-1),r=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ol.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,u;for(o=0,u=e.length;o<u;++o){const f=e[o];f[s]===this.id&&(!t||f.type===t)&&r.push(f)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return nn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ku{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;iM(e)&&(s=this.register(e));const r=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,eM(t,u,s),this.override&&_e.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,r=this.scope;s in e&&delete e[s],r&&s in _e[r]&&(delete _e[r][s],this.override&&delete Ka[s])}}function eM(i,t,e){const s=Xo(Object.create(null),[e?_e.get(e):{},_e.get(t),i.defaults]);_e.set(t,s),i.defaultRoutes&&nM(t,i.defaultRoutes),i.descriptors&&_e.describe(t,i.descriptors)}function nM(i,t){Object.keys(t).forEach(e=>{const s=e.split("."),r=s.pop(),o=[i].concat(s).join("."),u=t[e].split("."),f=u.pop(),m=u.join(".");_e.route(o,r,m,f)})}function iM(i){return"id"in i&&"defaults"in i}class sM{constructor(){this.controllers=new Ku(ox,"datasets",!0),this.elements=new Ku(Ja,"elements"),this.plugins=new Ku(Object,"plugins"),this.scales=new Ku(ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Qt(r,u=>{const f=s||this._getRegistryForType(u);this._exec(t,f,u)})})}_exec(t,e,s){const r=dg(t);se(s["before"+r],[],s),e[t](s),se(s["after"+r],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Vi=new sM;class aM{constructor(){this._init=void 0}notify(t,e,s,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(o,t,e,s);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),u}_notify(t,e,s,r){r=r||{};for(const o of t){const u=o.plugin,f=u[s],m=[e,r,o.options];if(se(f,m,u)===!1&&r.cancelable)return!1}return!0}invalidate(){te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,r=jt(s.options&&s.options.plugins,{}),o=rM(s);return r===!1&&!e?[]:oM(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,r=(o,u)=>o.filter(f=>!u.some(m=>f.plugin.id===m.plugin.id));this._notify(r(e,s),t,"stop"),this._notify(r(s,e),t,"start")}}function rM(i){const t={},e=[],s=Object.keys(Vi.plugins.items);for(let o=0;o<s.length;o++)e.push(Vi.getPlugin(s[o]));const r=i.plugins||[];for(let o=0;o<r.length;o++){const u=r[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function lM(i,t){return!t&&i===!1?null:i===!0?{}:i}function oM(i,{plugins:t,localIds:e},s,r){const o=[],u=i.getContext();for(const f of t){const m=f.id,g=lM(s[m],r);g!==null&&o.push({plugin:f,options:cM(i.config,{plugin:f,local:e[m]},g,u)})}return o}function cM(i,{plugin:t,local:e},s,r){const o=i.pluginScopeKeys(t),u=i.getOptionScopes(s,o);return e&&t.defaults&&u.push(t.defaults),i.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Nm(i,t){const e=_e.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function uM(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function hM(i,t){return i===t?"_index_":"_value_"}function Hv(i){if(i==="x"||i==="y"||i==="r")return i}function fM(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Vm(i,...t){if(Hv(i))return i;for(const e of t){const s=e.axis||fM(e.position)||i.length>1&&Hv(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Fv(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function dM(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(e.length)return Fv(i,"x",e[0])||Fv(i,"y",e[0])}return{}}function mM(i,t){const e=Ka[i.type]||{scales:{}},s=t.scales||{},r=Nm(i.type,t),o=Object.create(null);return Object.keys(s).forEach(u=>{const f=s[u];if(!Ft(f))return console.error(`Invalid scale configuration for scale: ${u}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const m=Vm(u,f,dM(u,i),_e.scales[f.type]),g=hM(m,r),y=e.scales||{};o[u]=Vo(Object.create(null),[{axis:m},f,y[m],y[g]])}),i.data.datasets.forEach(u=>{const f=u.type||i.type,m=u.indexAxis||Nm(f,t),y=(Ka[f]||{}).scales||{};Object.keys(y).forEach(b=>{const E=uM(b,m),w=u[E+"AxisID"]||E;o[w]=o[w]||Object.create(null),Vo(o[w],[{axis:E},s[w],y[b]])})}),Object.keys(o).forEach(u=>{const f=o[u];Vo(f,[_e.scales[f.type],_e.scale])}),o}function mx(i){const t=i.options||(i.options={});t.plugins=jt(t.plugins,{}),t.scales=mM(i,t)}function gx(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function gM(i){return i=i||{},i.data=gx(i.data),mx(i),i}const qv=new Map,px=new Set;function Zu(i,t){let e=qv.get(i);return e||(e=t(),qv.set(i,e),px.add(e)),e}const xo=(i,t,e)=>{const s=Sh(t,e);s!==void 0&&i.add(s)};class pM{constructor(t){this._config=gM(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Zu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Zu(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Zu(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Zu(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let r=s.get(t);return(!r||e)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,e,s){const{options:r,type:o}=this,u=this._cachedScopes(t,s),f=u.get(e);if(f)return f;const m=new Set;e.forEach(y=>{t&&(m.add(t),y.forEach(b=>xo(m,t,b))),y.forEach(b=>xo(m,r,b)),y.forEach(b=>xo(m,Ka[o]||{},b)),y.forEach(b=>xo(m,_e,b)),y.forEach(b=>xo(m,Dm,b))});const g=Array.from(m);return g.length===0&&g.push(Object.create(null)),px.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ka[e]||{},_e.datasets[e]||{},{type:e},_e,Dm]}resolveNamedOptions(t,e,s,r=[""]){const o={$shared:!0},{resolver:u,subPrefixes:f}=Yv(this._resolverCache,t,r);let m=u;if(_M(u,e)){o.$shared=!1,s=ea(s)?s():s;const g=this.createResolver(t,s,f);m=il(u,s,g)}for(const g of e)o[g]=m[g];return o}createResolver(t,e,s=[""],r){const{resolver:o}=Yv(this._resolverCache,t,s);return Ft(e)?il(o,e,void 0,r):o}}function Yv(i,t,e){let s=i.get(t);s||(s=new Map,i.set(t,s));const r=e.join();let o=s.get(r);return o||(o={resolver:vg(t,e),subPrefixes:e.filter(f=>!f.toLowerCase().includes("hover"))},s.set(r,o)),o}const yM=i=>Ft(i)&&Object.getOwnPropertyNames(i).some(t=>ea(i[t]));function _M(i,t){const{isScriptable:e,isIndexable:s}=$1(i);for(const r of t){const o=e(r),u=s(r),f=(u||o)&&i[r];if(o&&(ea(f)||yM(f))||u&&je(f))return!0}return!1}var vM="4.5.1";const bM=["top","bottom","left","right","chartArea"];function Gv(i,t){return i==="top"||i==="bottom"||bM.indexOf(i)===-1&&t==="x"}function Xv(i,t){return function(e,s){return e[i]===s[i]?e[t]-s[t]:e[i]-s[i]}}function Qv(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),se(e&&e.onComplete,[i],t)}function xM(i){const t=i.chart,e=t.options.animation;se(e&&e.onProgress,[i],t)}function yx(i){return Eg()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const ah={},Kv=i=>{const t=yx(i);return Object.values(ah).filter(e=>e.canvas===t).pop()};function EM(i,t,e){const s=Object.keys(i);for(const r of s){const o=+r;if(o>=t){const u=i[r];delete i[r],(e>0||o>t)&&(i[o+e]=u)}}}function TM(i,t,e,s){return!e||i.type==="mouseout"?null:s?t:i}let Uh=class{static defaults=_e;static instances=ah;static overrides=Ka;static registry=Vi;static version=vM;static getChart=Kv;static register(...t){Vi.add(...t),Zv()}static unregister(...t){Vi.remove(...t),Zv()}constructor(t,e){const s=this.config=new pM(e),r=yx(t),o=Kv(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||PD(r)),this.platform.updateConfig(s);const f=this.platform.acquireContext(r,u.aspectRatio),m=f&&f.canvas,g=m&&m.height,y=m&&m.width;if(this.id=AC(),this.ctx=f,this.canvas=m,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new aM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GC(b=>this.update(b),u.resizeDelay||0),this._dataChanges=[],ah[this.id]=this,!f||!m){console.error("Failed to create chart: can't acquire context from the given item");return}ss.listen(this,"complete",Qv),ss.listen(this,"progress",xM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:r,_aspectRatio:o}=this;return te(t)?e&&o?o:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Vi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _v(this.canvas,this.ctx),this}stop(){return ss.stop(this),this}resize(t,e){ss.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,e,o),f=s.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,xv(this,f,!0)&&(this.notifyPlugins("resize",{size:u}),se(s.onResize,[this,u],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Qt(e,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,r=Object.keys(s).reduce((u,f)=>(u[f]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const f=e[u],m=Vm(u,f),g=m==="r",y=m==="x";return{options:f,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Qt(o,u=>{const f=u.options,m=f.id,g=Vm(m,f),y=jt(f.type,u.dtype);(f.position===void 0||Gv(f.position,g)!==Gv(u.dposition))&&(f.position=u.dposition),r[m]=!0;let b=null;if(m in s&&s[m].type===y)b=s[m];else{const E=Vi.getScale(y);b=new E({id:m,type:y,ctx:this.ctx,chart:this}),s[b.id]=b}b.init(f,t)}),Qt(r,(u,f)=>{u||delete s[f]}),Qt(s,u=>{Fn.configure(this,u,u.options),Fn.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((r,o)=>r.index-o.index),s>e){for(let r=e;r<s;++r)this._destroyDatasetMeta(r);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Xv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,r)=>{e.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=e.length;s<r;s++){const o=e[s];let u=this.getDatasetMeta(s);const f=o.type||this.config.type;if(u.type&&u.type!==f&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=f,u.indexAxis=o.indexAxis||Nm(f,this.options),u.order=o.order||0,u.index=s,u.label=""+o.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const m=Vi.getController(f),{datasetElementType:g,dataElementType:y}=_e.datasets[f];Object.assign(m,{dataElementType:Vi.getElement(y),datasetElementType:g&&Vi.getElement(g)}),u.controller=new m(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Qt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:b}=this.getDatasetMeta(g),E=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(E),u=Math.max(+b.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),r||Qt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Xv("z","_idx"));const{_active:f,_lastEvent:m}=this;m?this._eventHandler(m,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){Qt(this.scales,t=>{Fn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!ov(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of e){const u=s==="_removeElements"?-o:o;EM(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=o=>new Set(t.filter(u=>u[0]===o).map((u,f)=>f+","+u.splice(1).join(","))),r=s(0);for(let o=1;o<e;o++)if(!ov(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fn.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Qt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,ea(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ss.has(this)?this.attached&&!ss.running(this)&&ss.start(this):(this.draw(),Qv({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let r,o;for(r=0,o=e.length;r<o;++r){const u=e[r];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=JR(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&yg(e,r),t.controller.draw(),r&&_g(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Ko(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,r){const o=bD.modes[e];return typeof o=="function"?o(this,t,s,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let r=s.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=$a(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const r=s?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,r);Ah(e)?(o.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(o,{visible:s}),this.update(f=>f.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ss.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_v(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ah[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},r=(o,u,f)=>{o.offsetX=u,o.offsetY=f,this._eventHandler(o)};Qt(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(m,g)=>{e.addEventListener(this,m,g),t[m]=g},r=(m,g)=>{t[m]&&(e.removeEventListener(this,m,g),delete t[m])},o=(m,g)=>{this.canvas&&this.resize(m,g)};let u;const f=()=>{r("attach",f),this.attached=!0,this.resize(),s("resize",o),s("detach",u)};u=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",f)},e.isAttached(this.canvas)?f():u()}unbindEvents(){Qt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Qt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const r=s?"set":"remove";let o,u,f,m;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),f=0,m=t.length;f<m;++f){u=t[f];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:u})=>{const f=this.getDatasetMeta(o);if(!f)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:f.data[u],index:u}});!Eh(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const r=this.options.hover,o=(m,g)=>m.filter(y=>!g.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),u=o(e,t),f=s?t:o(t,e);u.length&&this.updateHoverStyle(u,r.mode,!1),f.length&&r.mode&&this.updateHoverStyle(f,r.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:r=[],options:o}=this,u=e,f=this._getActiveElements(t,r,s,u),m=OC(t),g=TM(t,this._lastEvent,s,m);s&&(this._lastEvent=null,se(o.onHover,[t,f,this],this),m&&se(o.onClick,[t,f,this],this));const y=!Eh(f,r);return(y||e)&&(this._active=f,this._updateHoverStyles(f,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,s,r){if(t.type==="mouseout")return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Zv(){return Qt(Uh.instances,i=>i._plugins.invalidate())}function _x(i,t,e=t){i.lineCap=jt(e.borderCapStyle,t.borderCapStyle),i.setLineDash(jt(e.borderDash,t.borderDash)),i.lineDashOffset=jt(e.borderDashOffset,t.borderDashOffset),i.lineJoin=jt(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=jt(e.borderWidth,t.borderWidth),i.strokeStyle=jt(e.borderColor,t.borderColor)}function SM(i,t,e){i.lineTo(e.x,e.y)}function AM(i){return i.stepped?rR:i.tension||i.cubicInterpolationMode==="monotone"?lR:SM}function vx(i,t,e={}){const s=i.length,{start:r=0,end:o=s-1}=e,{start:u,end:f}=t,m=Math.max(r,u),g=Math.min(o,f),y=r<u&&o<u||r>f&&o>f;return{count:s,start:m,loop:t.loop,ilen:g<m&&!y?s+g-m:g-m}}function wM(i,t,e,s){const{points:r,options:o}=t,{count:u,start:f,loop:m,ilen:g}=vx(r,e,s),y=AM(o);let{move:b=!0,reverse:E}=s||{},w,D,V;for(w=0;w<=g;++w)D=r[(f+(E?g-w:w))%u],!D.skip&&(b?(i.moveTo(D.x,D.y),b=!1):y(i,V,D,E,o.stepped),V=D);return m&&(D=r[(f+(E?g:0))%u],y(i,V,D,E,o.stepped)),!!m}function CM(i,t,e,s){const r=t.points,{count:o,start:u,ilen:f}=vx(r,e,s),{move:m=!0,reverse:g}=s||{};let y=0,b=0,E,w,D,V,N,Y;const $=nt=>(u+(g?f-nt:nt))%o,W=()=>{V!==N&&(i.lineTo(y,N),i.lineTo(y,V),i.lineTo(y,Y))};for(m&&(w=r[$(0)],i.moveTo(w.x,w.y)),E=0;E<=f;++E){if(w=r[$(E)],w.skip)continue;const nt=w.x,rt=w.y,st=nt|0;st===D?(rt<V?V=rt:rt>N&&(N=rt),y=(b*y+nt)/++b):(W(),i.lineTo(nt,rt),D=st,b=0,V=N=rt),Y=rt}W()}function Im(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?CM:wM}function RM(i){return i.stepped?UR:i.tension||i.cubicInterpolationMode==="monotone"?PR:ja}function DM(i,t,e,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,s)&&r.closePath()),_x(i,t.options),i.stroke(r)}function MM(i,t,e,s){const{segments:r,options:o}=t,u=Im(t);for(const f of r)_x(i,o,f.style),i.beginPath(),u(i,t,f,{start:e,end:e+s-1})&&i.closePath(),i.stroke()}const OM=typeof Path2D=="function";function NM(i,t,e,s){OM&&!t.options.segment?DM(i,t,e,s):MM(i,t,e,s)}class VM extends Ja{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;NR(this._points,s,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=KR(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,r=t[e],o=this.points,u=GR(this,{property:e,start:r,end:r});if(!u.length)return;const f=[],m=RM(s);let g,y;for(g=0,y=u.length;g<y;++g){const{start:b,end:E}=u[g],w=o[b],D=o[E];if(w===D){f.push(w);continue}const V=Math.abs((r-w[e])/(D[e]-w[e])),N=m(w,D,V,s.stepped);N[e]=t[e],f.push(N)}return f.length===1?f[0]:f}pathSegment(t,e,s){return Im(this)(t,this,e,s)}path(t,e,s){const r=this.segments,o=Im(this);let u=this._loop;e=e||0,s=s||this.points.length-e;for(const f of r)u&=o(t,this,f,{start:e,end:e+s-1});return!!u}draw(t,e,s,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),NM(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Wv(i,t,e,s){const r=i.options,{[e]:o}=i.getProps([e],s);return Math.abs(t-o)<r.radius+r.hitRadius}class IM extends Ja{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const r=this.options,{x:o,y:u}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(e-u,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Wv(this,t,"x",e)}inYRange(t,e){return Wv(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!Ko(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Mm(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const $v=(i,t)=>{let{boxHeight:e=t,boxWidth:s=t}=i;return i.usePointStyle&&(e=Math.min(e,t),s=i.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},kM=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Jv extends Ja{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=se(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=nn(s.font),o=r.size,u=this._computeTitleHeight(),{boxWidth:f,itemHeight:m}=$v(s,o);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,o,f,m)+10):(y=this.maxHeight,g=this._fitCols(u,r,f,m)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,r){const{ctx:o,maxWidth:u,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+f;let b=t;o.textAlign="left",o.textBaseline="middle";let E=-1,w=-y;return this.legendItems.forEach((D,V)=>{const N=s+e/2+o.measureText(D.text).width;(V===0||g[g.length-1]+N+2*f>u)&&(b+=y,g[g.length-(V>0?0:1)]=0,w+=y,E++),m[V]={left:0,top:w,row:E,width:N,height:r},g[g.length-1]+=N+f}),b}_fitCols(t,e,s,r){const{ctx:o,maxHeight:u,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-t;let b=f,E=0,w=0,D=0,V=0;return this.legendItems.forEach((N,Y)=>{const{itemWidth:$,itemHeight:W}=zM(s,e,o,N,r);Y>0&&w+W+2*f>y&&(b+=E+f,g.push({width:E,height:w}),D+=E+f,V++,E=w=0),m[Y]={left:D,top:w,col:V,width:$,height:W},E=Math.max(E,$),w+=W+f}),b+=E,g.push({width:E,height:w}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:r},rtl:o}}=this,u=Zr(o,this.left,this.width);if(this.isHorizontal()){let f=0,m=$e(s,this.left+r,this.right-this.lineWidths[f]);for(const g of e)f!==g.row&&(f=g.row,m=$e(s,this.left+r,this.right-this.lineWidths[f])),g.top+=this.top+t+r,g.left=u.leftForLtr(u.x(m),g.width),m+=g.width+r}else{let f=0,m=$e(s,this.top+t+r,this.bottom-this.columnSizes[f].height);for(const g of e)g.col!==f&&(f=g.col,m=$e(s,this.top+t+r,this.bottom-this.columnSizes[f].height)),g.top=m,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),m+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;yg(t,this),this._draw(),_g(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:r}=this,{align:o,labels:u}=t,f=_e.color,m=Zr(t.rtl,this.left,this.width),g=nn(u.font),{padding:y}=u,b=g.size,E=b/2;let w;this.drawTitle(),r.textAlign=m.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:D,boxHeight:V,itemHeight:N}=$v(u,b),Y=function(st,C,A){if(isNaN(D)||D<=0||isNaN(V)||V<0)return;r.save();const R=jt(A.lineWidth,1);if(r.fillStyle=jt(A.fillStyle,f),r.lineCap=jt(A.lineCap,"butt"),r.lineDashOffset=jt(A.lineDashOffset,0),r.lineJoin=jt(A.lineJoin,"miter"),r.lineWidth=R,r.strokeStyle=jt(A.strokeStyle,f),r.setLineDash(jt(A.lineDash,[])),u.usePointStyle){const k={radius:V*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:R},O=m.xPlus(st,D/2),j=C+E;Z1(r,k,O,j,u.pointStyleWidth&&D)}else{const k=C+Math.max((b-V)/2,0),O=m.leftForLtr(st,D),j=Lo(A.borderRadius);r.beginPath(),Object.values(j).some(M=>M!==0)?Om(r,{x:O,y:k,w:D,h:V,radius:j}):r.rect(O,k,D,V),r.fill(),R!==0&&r.stroke()}r.restore()},$=function(st,C,A){Zo(r,A.text,st,C+N/2,g,{strikethrough:A.hidden,textAlign:m.textAlign(A.textAlign)})},W=this.isHorizontal(),nt=this._computeTitleHeight();W?w={x:$e(o,this.left+y,this.right-s[0]),y:this.top+y+nt,line:0}:w={x:this.left+y,y:$e(o,this.top+nt+y,this.bottom-e[0].height),line:0},ix(this.ctx,t.textDirection);const rt=N+y;this.legendItems.forEach((st,C)=>{r.strokeStyle=st.fontColor,r.fillStyle=st.fontColor;const A=r.measureText(st.text).width,R=m.textAlign(st.textAlign||(st.textAlign=u.textAlign)),k=D+E+A;let O=w.x,j=w.y;m.setWidth(this.width),W?C>0&&O+k+y>this.right&&(j=w.y+=rt,w.line++,O=w.x=$e(o,this.left+y,this.right-s[w.line])):C>0&&j+rt>this.bottom&&(O=w.x=O+e[w.line].width+y,w.line++,j=w.y=$e(o,this.top+nt+y,this.bottom-e[w.line].height));const M=m.x(O);if(Y(M,j,st),O=XC(R,O+D+E,W?O+k:this.right,t.rtl),$(m.x(O),j,st),W)w.x+=k+y;else if(typeof st.text!="string"){const St=g.lineHeight;w.y+=bx(st,St)+y}else w.y+=rt}),sx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=nn(e.font),r=Yn(e.padding);if(!e.display)return;const o=Zr(t.rtl,this.left,this.width),u=this.ctx,f=e.position,m=s.size/2,g=r.top+m;let y,b=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+g,b=$e(t.align,b,this.right-E);else{const D=this.columnSizes.reduce((V,N)=>Math.max(V,N.height),0);y=g+$e(t.align,this.top,this.bottom-D-t.labels.padding-this._computeTitleHeight())}const w=$e(f,b,b+E);u.textAlign=o.textAlign(gg(f)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=s.string,Zo(u,e.text,w,y,s)}_computeTitleHeight(){const t=this.options.title,e=nn(t.font),s=Yn(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,r,o;if(So(t,this.left,this.right)&&So(e,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],So(t,r.left,r.left+r.width)&&So(e,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!BM(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=kM(r,s);r&&!o&&se(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!o&&se(e.onHover,[t,s,this],this)}else s&&se(e.onClick,[t,s,this],this)}}function zM(i,t,e,s,r){const o=LM(s,i,t,e),u=jM(r,s,t.lineHeight);return{itemWidth:o,itemHeight:u}}function LM(i,t,e,s){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+s.measureText(r).width}function jM(i,t,e){let s=i;return typeof t.text!="string"&&(s=bx(t,e)),s}function bx(i,t){const e=i.text?i.text.length:0;return t*e}function BM(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var UM={id:"legend",_element:Jv,start(i,t,e){const s=i.legend=new Jv({ctx:i.ctx,options:e,chart:i});Fn.configure(i,s,e),Fn.addBox(i,s)},stop(i){Fn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const s=i.legend;Fn.configure(i,s,e),s.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const s=t.datasetIndex,r=e.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:r,color:o,useBorderRadius:u,borderRadius:f}}=i.legend.options;return i._getSortedDatasetMetas().map(m=>{const g=m.controller.getStyle(e?0:void 0),y=Yn(g.borderWidth);return{text:t[m.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!m.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(f||g.borderRadius),datasetIndex:m.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class xx extends Ja{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=je(s.text)?s.text.length:1;this._padding=Yn(s.padding);const o=r*nn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:r,right:o,options:u}=this,f=u.align;let m=0,g,y,b;return this.isHorizontal()?(y=$e(f,s,o),b=e+t,g=o-s):(u.position==="left"?(y=s+t,b=$e(f,r,e),m=Be*-.5):(y=o-t,b=$e(f,e,r),m=Be*.5),g=r-e),{titleX:y,titleY:b,maxWidth:g,rotation:m}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=nn(e.font),o=s.lineHeight/2+this._padding.top,{titleX:u,titleY:f,maxWidth:m,rotation:g}=this._drawArgs(o);Zo(t,e.text,0,0,s,{color:e.color,maxWidth:m,rotation:g,textAlign:gg(e.align),textBaseline:"middle",translation:[u,f]})}}function PM(i,t){const e=new xx({ctx:i.ctx,options:t,chart:i});Fn.configure(i,e,t),Fn.addBox(i,e),i.titleBlock=e}var HM={id:"title",_element:xx,start(i,t,e){PM(i,e)},stop(i){const t=i.titleBlock;Fn.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const s=i.titleBlock;Fn.configure(i,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wo={average(i){if(!i.length)return!1;let t,e,s=new Set,r=0,o=0;for(t=0,e=i.length;t<e;++t){const f=i[t].element;if(f&&f.hasValue()){const m=f.tooltipPosition();s.add(m.x),r+=m.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((f,m)=>f+m)/s.size,y:r/o}},nearest(i,t){if(!i.length)return!1;let e=t.x,s=t.y,r=Number.POSITIVE_INFINITY,o,u,f;for(o=0,u=i.length;o<u;++o){const m=i[o].element;if(m&&m.hasValue()){const g=m.getCenterPoint(),y=Rm(t,g);y<r&&(r=y,f=m)}}if(f){const m=f.tooltipPosition();e=m.x,s=m.y}return{x:e,y:s}}};function Ni(i,t){return t&&(je(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function as(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function FM(i,t){const{element:e,datasetIndex:s,index:r}=t,o=i.getDatasetMeta(s).controller,{label:u,value:f}=o.getLabelAndValue(r);return{chart:i,label:u,parsed:o.getParsed(r),raw:i.data.datasets[s].data[r],formattedValue:f,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:e}}function tb(i,t){const e=i.chart.ctx,{body:s,footer:r,title:o}=i,{boxWidth:u,boxHeight:f}=t,m=nn(t.bodyFont),g=nn(t.titleFont),y=nn(t.footerFont),b=o.length,E=r.length,w=s.length,D=Yn(t.padding);let V=D.height,N=0,Y=s.reduce((nt,rt)=>nt+rt.before.length+rt.lines.length+rt.after.length,0);if(Y+=i.beforeBody.length+i.afterBody.length,b&&(V+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),Y){const nt=t.displayColors?Math.max(f,m.lineHeight):m.lineHeight;V+=w*nt+(Y-w)*m.lineHeight+(Y-1)*t.bodySpacing}E&&(V+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let $=0;const W=function(nt){N=Math.max(N,e.measureText(nt).width+$)};return e.save(),e.font=g.string,Qt(i.title,W),e.font=m.string,Qt(i.beforeBody.concat(i.afterBody),W),$=t.displayColors?u+2+t.boxPadding:0,Qt(s,nt=>{Qt(nt.before,W),Qt(nt.lines,W),Qt(nt.after,W)}),$=0,e.font=y.string,Qt(i.footer,W),e.restore(),N+=D.width,{width:N,height:V}}function qM(i,t){const{y:e,height:s}=t;return e<s/2?"top":e>i.height-s/2?"bottom":"center"}function YM(i,t,e,s){const{x:r,width:o}=s,u=e.caretSize+e.caretPadding;if(i==="left"&&r+o+u>t.width||i==="right"&&r-o-u<0)return!0}function GM(i,t,e,s){const{x:r,width:o}=e,{width:u,chartArea:{left:f,right:m}}=i;let g="center";return s==="center"?g=r<=(f+m)/2?"left":"right":r<=o/2?g="left":r>=u-o/2&&(g="right"),YM(g,i,t,e)&&(g="center"),g}function eb(i,t,e){const s=e.yAlign||t.yAlign||qM(i,e);return{xAlign:e.xAlign||t.xAlign||GM(i,t,e,s),yAlign:s}}function XM(i,t){let{x:e,width:s}=i;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function QM(i,t,e){let{y:s,height:r}=i;return t==="top"?s+=e:t==="bottom"?s-=r+e:s-=r/2,s}function nb(i,t,e,s){const{caretSize:r,caretPadding:o,cornerRadius:u}=i,{xAlign:f,yAlign:m}=e,g=r+o,{topLeft:y,topRight:b,bottomLeft:E,bottomRight:w}=Lo(u);let D=XM(t,f);const V=QM(t,m,g);return m==="center"?f==="left"?D+=g:f==="right"&&(D-=g):f==="left"?D-=Math.max(y,E)+r:f==="right"&&(D+=Math.max(b,w)+r),{x:Hn(D,0,s.width-t.width),y:Hn(V,0,s.height-t.height)}}function Wu(i,t,e){const s=Yn(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-s.right:i.x+s.left}function ib(i){return Ni([],as(i))}function KM(i,t,e){return $a(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function sb(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const Ex={beforeTitle:is,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:is,beforeBody:is,beforeLabel:is,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return te(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:is,afterBody:is,beforeFooter:is,footer:is,afterFooter:is};function mn(i,t,e,s){const r=i[t].call(e,s);return typeof r>"u"?Ex[t].call(e,s):r}class ab extends Ja{static positioners=wo;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&e.options.animation&&s.animations,o=new rx(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,r=mn(s,"beforeTitle",this,t),o=mn(s,"title",this,t),u=mn(s,"afterTitle",this,t);let f=[];return f=Ni(f,as(r)),f=Ni(f,as(o)),f=Ni(f,as(u)),f}getBeforeBody(t,e){return ib(mn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,r=[];return Qt(t,o=>{const u={before:[],lines:[],after:[]},f=sb(s,o);Ni(u.before,as(mn(f,"beforeLabel",this,o))),Ni(u.lines,mn(f,"label",this,o)),Ni(u.after,as(mn(f,"afterLabel",this,o))),r.push(u)}),r}getAfterBody(t,e){return ib(mn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,r=mn(s,"beforeFooter",this,t),o=mn(s,"footer",this,t),u=mn(s,"afterFooter",this,t);let f=[];return f=Ni(f,as(r)),f=Ni(f,as(o)),f=Ni(f,as(u)),f}_createItems(t){const e=this._active,s=this.chart.data,r=[],o=[],u=[];let f=[],m,g;for(m=0,g=e.length;m<g;++m)f.push(FM(this.chart,e[m]));return t.filter&&(f=f.filter((y,b,E)=>t.filter(y,b,E,s))),t.itemSort&&(f=f.sort((y,b)=>t.itemSort(y,b,s))),Qt(f,y=>{const b=sb(t.callbacks,y);r.push(mn(b,"labelColor",this,y)),o.push(mn(b,"labelPointStyle",this,y)),u.push(mn(b,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=f,f}update(t,e){const s=this.options.setContext(this.getContext()),r=this._active;let o,u=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const f=wo[s.position].call(this,r,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const m=this._size=tb(this,s),g=Object.assign({},f,m),y=eb(this.chart,s,g),b=nb(s,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:m.width,height:m.height,caretX:f.x,caretY:f.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,r){const o=this.getCaretPosition(t,s,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,s){const{xAlign:r,yAlign:o}=this,{caretSize:u,cornerRadius:f}=s,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:b}=Lo(f),{x:E,y:w}=t,{width:D,height:V}=e;let N,Y,$,W,nt,rt;return o==="center"?(nt=w+V/2,r==="left"?(N=E,Y=N-u,W=nt+u,rt=nt-u):(N=E+D,Y=N+u,W=nt-u,rt=nt+u),$=N):(r==="left"?Y=E+Math.max(m,y)+u:r==="right"?Y=E+D-Math.max(g,b)-u:Y=this.caretX,o==="top"?(W=w,nt=W-u,N=Y-u,$=Y+u):(W=w+V,nt=W+u,N=Y+u,$=Y-u),rt=W),{x1:N,x2:Y,x3:$,y1:W,y2:nt,y3:rt}}drawTitle(t,e,s){const r=this.title,o=r.length;let u,f,m;if(o){const g=Zr(s.rtl,this.x,this.width);for(t.x=Wu(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",u=nn(s.titleFont),f=s.titleSpacing,e.fillStyle=s.titleColor,e.font=u.string,m=0;m<o;++m)e.fillText(r[m],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+f,m+1===o&&(t.y+=s.titleMarginBottom-f)}}_drawColorBox(t,e,s,r,o){const u=this.labelColors[s],f=this.labelPointStyles[s],{boxHeight:m,boxWidth:g}=o,y=nn(o.bodyFont),b=Wu(this,"left",o),E=r.x(b),w=m<y.lineHeight?(y.lineHeight-m)/2:0,D=e.y+w;if(o.usePointStyle){const V={radius:Math.min(g,m)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},N=r.leftForLtr(E,g)+g/2,Y=D+m/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Mm(t,V,N,Y),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Mm(t,V,N,Y)}else{t.lineWidth=Ft(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const V=r.leftForLtr(E,g),N=r.leftForLtr(r.xPlus(E,1),g-2),Y=Lo(u.borderRadius);Object.values(Y).some($=>$!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Om(t,{x:V,y:D,w:g,h:m,radius:Y}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Om(t,{x:N,y:D+1,w:g-2,h:m-2,radius:Y}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(V,D,g,m),t.strokeRect(V,D,g,m),t.fillStyle=u.backgroundColor,t.fillRect(N,D+1,g-2,m-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:r}=this,{bodySpacing:o,bodyAlign:u,displayColors:f,boxHeight:m,boxWidth:g,boxPadding:y}=s,b=nn(s.bodyFont);let E=b.lineHeight,w=0;const D=Zr(s.rtl,this.x,this.width),V=function(A){e.fillText(A,D.x(t.x+w),t.y+E/2),t.y+=E+o},N=D.textAlign(u);let Y,$,W,nt,rt,st,C;for(e.textAlign=u,e.textBaseline="middle",e.font=b.string,t.x=Wu(this,N,s),e.fillStyle=s.bodyColor,Qt(this.beforeBody,V),w=f&&N!=="right"?u==="center"?g/2+y:g+2+y:0,nt=0,st=r.length;nt<st;++nt){for(Y=r[nt],$=this.labelTextColors[nt],e.fillStyle=$,Qt(Y.before,V),W=Y.lines,f&&W.length&&(this._drawColorBox(e,t,nt,D,s),E=Math.max(b.lineHeight,m)),rt=0,C=W.length;rt<C;++rt)V(W[rt]),E=b.lineHeight;Qt(Y.after,V)}w=0,E=b.lineHeight,Qt(this.afterBody,V),t.y-=o}drawFooter(t,e,s){const r=this.footer,o=r.length;let u,f;if(o){const m=Zr(s.rtl,this.x,this.width);for(t.x=Wu(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=m.textAlign(s.footerAlign),e.textBaseline="middle",u=nn(s.footerFont),e.fillStyle=s.footerColor,e.font=u.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,e,s,r){const{xAlign:o,yAlign:u}=this,{x:f,y:m}=t,{width:g,height:y}=s,{topLeft:b,topRight:E,bottomLeft:w,bottomRight:D}=Lo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(f+b,m),u==="top"&&this.drawCaret(t,e,s,r),e.lineTo(f+g-E,m),e.quadraticCurveTo(f+g,m,f+g,m+E),u==="center"&&o==="right"&&this.drawCaret(t,e,s,r),e.lineTo(f+g,m+y-D),e.quadraticCurveTo(f+g,m+y,f+g-D,m+y),u==="bottom"&&this.drawCaret(t,e,s,r),e.lineTo(f+w,m+y),e.quadraticCurveTo(f,m+y,f,m+y-w),u==="center"&&o==="left"&&this.drawCaret(t,e,s,r),e.lineTo(f,m+b),e.quadraticCurveTo(f,m,f+b,m),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const u=wo[t.position].call(this,this._active,this._eventPosition);if(!u)return;const f=this._size=tb(this,t),m=Object.assign({},u,this._size),g=eb(e,t,m),y=nb(t,m,g,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=f.width,this.height=f.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=Yn(e.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&f&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,r,e),ix(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),sx(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,r=t.map(({datasetIndex:f,index:m})=>{const g=this.chart.getDatasetMeta(f);if(!g)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:g.data[m],index:m}}),o=!Eh(s,r),u=this._positionChanged(r,e);(o||u)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,s),f=this._positionChanged(u,t),m=e||!Eh(u,o)||f;return m&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),m}_getActiveElements(t,e,s,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:s,caretY:r,options:o}=this,u=wo[o.position].call(this,t,e);return u!==!1&&(s!==u.x||r!==u.y)}}var ZM={id:"tooltip",_element:ab,positioners:wo,afterInit(i,t,e){e&&(i.tooltip=new ab({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ex},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const WM=(i,t,e,s)=>(typeof t=="string"?(e=i.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function $M(i,t,e,s){const r=i.indexOf(t);if(r===-1)return WM(i,t,e,s);const o=i.lastIndexOf(t);return r!==o?e:r}const JM=(i,t)=>i===null?null:Hn(Math.round(i),0,t);function rb(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class tO extends ol{static id="category";static defaults={ticks:{callback:rb}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:r,label:o}of e)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(te(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:$M(s,t,jt(e,t),this._addedLabels),JM(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=t;u<=e;u++)r.push({value:u});return r}getLabelForValue(t){return rb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function eO(i,t){const e=[],{bounds:r,step:o,min:u,max:f,precision:m,count:g,maxTicks:y,maxDigits:b,includeBounds:E}=i,w=o||1,D=y-1,{min:V,max:N}=t,Y=!te(u),$=!te(f),W=!te(g),nt=(N-V)/(b+1);let rt=uv((N-V)/D/w)*w,st,C,A,R;if(rt<1e-14&&!Y&&!$)return[{value:V},{value:N}];R=Math.ceil(N/rt)-Math.floor(V/rt),R>D&&(rt=uv(R*rt/D/w)*w),te(m)||(st=Math.pow(10,m),rt=Math.ceil(rt*st)/st),r==="ticks"?(C=Math.floor(V/rt)*rt,A=Math.ceil(N/rt)*rt):(C=V,A=N),Y&&$&&o&&zC((f-u)/o,rt/1e3)?(R=Math.round(Math.min((f-u)/rt,y)),rt=(f-u)/R,C=u,A=f):W?(C=Y?u:C,A=$?f:A,R=g-1,rt=(A-C)/R):(R=(A-C)/rt,Io(R,Math.round(R),rt/1e3)?R=Math.round(R):R=Math.ceil(R));const k=Math.max(hv(rt),hv(C));st=Math.pow(10,te(m)?k:m),C=Math.round(C*st)/st,A=Math.round(A*st)/st;let O=0;for(Y&&(E&&C!==u?(e.push({value:u}),C<u&&O++,Io(Math.round((C+O*rt)*st)/st,u,lb(u,nt,i))&&O++):C<u&&O++);O<R;++O){const j=Math.round((C+O*rt)*st)/st;if($&&j>f)break;e.push({value:j})}return $&&E&&A!==f?e.length&&Io(e[e.length-1].value,f,lb(f,nt,i))?e[e.length-1].value=f:e.push({value:f}):(!$||A===f)&&e.push({value:A}),e}function lb(i,t,{horizontal:e,minRotation:s}){const r=Ua(s),o=(e?Math.sin(r):Math.cos(r))||.001,u=.75*t*(""+i).length;return Math.min(t/o,u)}class nO extends ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return te(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const u=m=>r=e?r:m,f=m=>o=s?o:m;if(t){const m=nl(r),g=nl(o);m<0&&g<0?f(0):m>0&&g>0&&u(0)}if(r===o){let m=o===0?1:Math.abs(o*.05);f(o+m),t||u(r-m)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,u=eO(r,o);return t.bounds==="ticks"&&LC(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-e)/Math.max(t.length-1,1)/2;e-=r,s+=r}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return Q1(t,this.chart.options.locale,this.options.ticks.format)}}class iO extends nO{static id="linear";static defaults={ticks:{callback:K1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=qn(t)?t:0,this.max=qn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Ua(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ph={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yn=Object.keys(Ph);function ob(i,t){return i-t}function cb(i,t){if(te(t))return null;const e=i._adapter,{parser:s,round:r,isoWeekday:o}=i._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),qn(u)||(u=typeof s=="string"?e.parse(u,s):e.parse(u)),u===null?null:(r&&(u=r==="week"&&(Qo(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,r)),+u)}function ub(i,t,e,s){const r=yn.length;for(let o=yn.indexOf(i);o<r-1;++o){const u=Ph[yn[o]],f=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(f*u.size))<=s)return yn[o]}return yn[r-1]}function sO(i,t,e,s,r){for(let o=yn.length-1;o>=yn.indexOf(e);o--){const u=yn[o];if(Ph[u].common&&i._adapter.diff(r,s,u)>=t-1)return u}return yn[e?yn.indexOf(e):0]}function aO(i){for(let t=yn.indexOf(i)+1,e=yn.length;t<e;++t)if(Ph[yn[t]].common)return yn[t]}function hb(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:s,hi:r}=mg(e,t),o=e[s]>=t?e[s]:e[r];i[o]=!0}}function rO(i,t,e,s){const r=i._adapter,o=+r.startOf(t[0].value,s),u=t[t.length-1].value;let f,m;for(f=o;f<=u;f=+r.add(f,1,s))m=e[f],m>=0&&(t[m].major=!0);return t}function fb(i,t,e){const s=[],r={},o=t.length;let u,f;for(u=0;u<o;++u)f=t[u],r[f]=u,s.push({value:f,major:!1});return o===0||!e?s:rO(i,s,r,e)}class db extends ol{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),r=this._adapter=new gD._date(t.adapters.date);r.init(e),Vo(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:cb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:r,max:o,minDefined:u,maxDefined:f}=this.getUserBounds();function m(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!f&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!f)&&(m(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&m(this.getMinMax(!1))),r=qn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),s),o=qn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,u=this.max,f=FC(r,o,u);return this._unit=e.unit||(s.autoSkip?ub(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):sO(this,f.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:aO(this._unit),this.initOffsets(r),t.reverse&&f.reverse(),fb(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Hn(e,0,u),s=Hn(s,0,u),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,r=this.options,o=r.time,u=o.unit||ub(o.minUnit,e,s,this._getLabelCapacity(e)),f=jt(r.ticks.stepSize,1),m=u==="week"?o.isoWeekday:!1,g=Qo(m)||m===!0,y={};let b=e,E,w;if(g&&(b=+t.startOf(b,"isoWeek",m)),b=+t.startOf(b,g?"day":u),t.diff(s,e,u)>1e5*f)throw new Error(e+" and "+s+" are too far apart with stepSize of "+f+" "+u);const D=r.ticks.source==="data"&&this.getDataTimestamps();for(E=b,w=0;E<s;E=+t.add(E,f,u),w++)hb(y,E,D);return(E===s||r.bounds==="ticks"||w===1)&&hb(y,E,D),Object.keys(y).sort(ob).map(V=>+V)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,u=e||r[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,s,r){const o=this.options,u=o.ticks.callback;if(u)return se(u,[t,e,s],this);const f=o.time.displayFormats,m=this._unit,g=this._majorUnit,y=m&&f[m],b=g&&f[g],E=s[e],w=g&&b&&E&&E.major;return this._adapter.format(t,r||(w?b:y))}generateTickLabels(t){let e,s,r;for(e=0,s=t.length;e<s;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,r=Ua(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),u=Math.sin(r),f=this._resolveTickFontOptions(0).size;return{w:s*o+f*u,h:s*u+f*o}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,r=s[e.unit]||s.millisecond,o=this._tickFormatFunction(t,0,fb(this,[t],this._majorUnit),r),u=this._getLabelSize(o),f=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return f>0?f:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,s=r.length;e<s;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const r=this.getLabels();for(e=0,s=r.length;e<s;++e)t.push(cb(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return YC(t.sort(ob))}}function $u(i,t,e){let s=0,r=i.length-1,o,u,f,m;e?(t>=i[s].pos&&t<=i[r].pos&&({lo:s,hi:r}=Pa(i,"pos",t)),{pos:o,time:f}=i[s],{pos:u,time:m}=i[r]):(t>=i[s].time&&t<=i[r].time&&({lo:s,hi:r}=Pa(i,"time",t)),{time:o,pos:f}=i[s],{time:u,pos:m}=i[r]);const g=u-o;return g?f+(m-f)*(t-o)/g:f}class _O extends db{static id="timeseries";static defaults=db.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=$u(e,this.min),this._tableRange=$u(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,r=[],o=[];let u,f,m,g,y;for(u=0,f=t.length;u<f;++u)g=t[u],g>=e&&g<=s&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(u=0,f=r.length;u<f;++u)y=r[u+1],m=r[u-1],g=r[u],Math.round((y+m)/2)!==g&&o.push({time:g,pos:u/(f-1)});return o}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return($u(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return $u(this._table,s*this._tableRange+this._minPos,!0)}}const Tx="label";function mb(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function lO(i,t){const e=i.options;e&&t&&Object.assign(e,t)}function Sx(i,t){i.labels=t}function Ax(i,t,e=Tx){const s=[];i.datasets=t.map(r=>{const o=i.datasets.find(u=>u[e]===r[e]);return!o||!r.data||s.includes(o)?{...r}:(s.push(o),Object.assign(o,r),o)})}function oO(i,t=Tx){const e={labels:[],datasets:[]};return Sx(e,i.labels),Ax(e,i.datasets,t),e}function cO(i,t){const{height:e=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:u,data:f,options:m,plugins:g=[],fallbackContent:y,updateMode:b,...E}=i,w=xt.useRef(null),D=xt.useRef(null),V=()=>{w.current&&(D.current=new Uh(w.current,{type:u,data:oO(f,o),options:m&&{...m},plugins:g}),mb(t,D.current))},N=()=>{mb(t,null),D.current&&(D.current.destroy(),D.current=null)};return xt.useEffect(()=>{!r&&D.current&&m&&lO(D.current,m)},[r,m]),xt.useEffect(()=>{!r&&D.current&&Sx(D.current.config.data,f.labels)},[r,f.labels]),xt.useEffect(()=>{!r&&D.current&&f.datasets&&Ax(D.current.config.data,f.datasets,o)},[r,f.datasets]),xt.useEffect(()=>{D.current&&(r?(N(),setTimeout(V)):D.current.update(b))},[r,m,f.labels,f.datasets,b]),xt.useEffect(()=>{D.current&&(N(),setTimeout(V))},[u]),xt.useEffect(()=>(V(),()=>N()),[]),I.jsx("canvas",{ref:w,role:"img",height:e,width:s,...E,children:y})}const uO=xt.forwardRef(cO);function hO(i,t){return Uh.register(t),xt.forwardRef((e,s)=>I.jsx(uO,{...e,ref:s,type:i}))}const fO=hO("scatter",mD);Uh.register(tO,iO,IM,VM,HM,ZM,UM);function dO({dataPoints:i,sheetSize:t,squeeze:e,tickCounts:s,show10mmMarkers:r,tickLabelMode:o,chartZoom:u=1}){const f=xt.useRef(null),m=xt.useMemo(()=>gb(i),[i]),g=xt.useMemo(()=>pb(m),[m]),y=xt.useMemo(()=>yb(g,t,e),[g,t,e]),{x:b,y:E}=y,{mappedPoints:w,axisLines:D}=xt.useMemo(()=>yT(m,g,t,e),[m,g,t,e]),V={datasets:[...D,{label:"Physical Points",data:w,backgroundColor:"rgba(99, 102, 241, 0.8)",borderColor:"rgba(99, 102, 241, 1)",pointRadius:6,pointHoverRadius:8,pointBorderWidth:2,pointBorderColor:"#fff"}]},N={responsive:!0,maintainAspectRatio:!0,aspectRatio:t.x/t.y,plugins:{legend:{display:!0,position:"top",labels:{color:"#e4e7f1",font:{family:"Inter",size:12}}},title:{display:!0,text:`Physical Sheet Layout (${t.x}mm  ${t.y}mm)`,color:"#e4e7f1",font:{family:"Inter",size:16,weight:"600"},padding:20},tooltip:{backgroundColor:"rgba(26, 32, 48, 0.95)",titleColor:"#e4e7f1",bodyColor:"#a0a8c0",borderColor:"rgba(99, 102, 241, 0.2)",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:function($){const W=$.parsed.x,nt=$.parsed.y,rt=g.minX-e.x*b+W*b,st=g.minY-e.y*E+nt*E;return`Pos: (${W.toFixed(1)}mm, ${nt.toFixed(1)}mm) | Val: (${gn(rt)}, ${gn(st)})`}}}},scales:{x:{...ev({sheetSize:t,ranges:g,squeeze:e,unitsPerMm:y,show10mmMarkers:r,formatScientific:gn,tickLabelMode:o,tickCounts:s}),grid:{display:o!=="interval",...ev({sheetSize:t,ranges:g,squeeze:e,unitsPerMm:y,show10mmMarkers:r,formatScientific:gn,tickLabelMode:o,tickCounts:s}).grid}},y:{...nv({sheetSize:t,ranges:g,squeeze:e,unitsPerMm:y,show10mmMarkers:r,formatScientific:gn,tickLabelMode:o,tickCounts:s}),grid:{display:o!=="interval",...nv({sheetSize:t,ranges:g,squeeze:e,unitsPerMm:y,show10mmMarkers:r,formatScientific:gn,tickLabelMode:o,tickCounts:s}).grid}},...o==="interval"?{xGrid:{type:"linear",position:"bottom",min:0,max:t.x,grid:xh(r),ticks:{display:!1,stepSize:10},border:{display:!1},title:{display:!1}},yGrid:{type:"linear",position:"left",min:0,max:t.y,grid:xh(r),ticks:{display:!1,stepSize:10},border:{display:!1},title:{display:!1}}}:{}}},Y={id:"axisLabels",afterDatasetsDraw:$=>{const{ctx:W}=$;$.data.datasets.forEach((nt,rt)=>{if(!nt.label||!nt.label.includes("axis")||!$.isDatasetVisible(rt))return;const st=$.getDatasetMeta(rt);if(!st.data||st.data.length<2)return;const C=st.data[0];W.save(),W.font="12px Inter",W.fillStyle="#e4e7f1",W.textAlign="left",W.textBaseline="bottom",(nt.label.startsWith("y axis")||nt.label.startsWith("x axis"))&&W.fillText(nt.label,C.x+5,C.y-5),W.restore()})}};return I.jsx("div",{className:"glass-card chart-display-container",children:m.length===0?I.jsxs("div",{className:"empty-state",children:[I.jsx("div",{className:"empty-icon",children:""}),I.jsx("h3",{children:"No Data Points Yet"}),I.jsx("p",{className:"text-muted",children:"Add data points manually or paste from Excel to see your chart"})]}):I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"chart-wrapper",style:{transform:`scale(${u})`,transformOrigin:"center center"},children:I.jsx(fO,{ref:f,data:V,options:N,plugins:[Y]},`chart-${t.x}-${t.y}`)}),I.jsxs("div",{className:"chart-stats",children:[I.jsxs("div",{className:"stat-card",children:[I.jsx("div",{className:"stat-label",children:"Total Points"}),I.jsx("div",{className:"stat-value",children:m.length})]}),I.jsxs("div",{className:"stat-card",children:[I.jsx("div",{className:"stat-label",children:"Drawing Area"}),I.jsxs("div",{className:"stat-value",children:[t.x-2*e.x,"  ",t.y-2*e.y," mm"]})]}),I.jsxs("div",{className:"stat-card",children:[I.jsx("div",{className:"stat-label",children:"X Scale"}),I.jsxs("div",{className:"stat-value",children:[I.jsxs("div",{children:["1mm  ",gn(b)," units"]}),I.jsxs("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:["Tick at 0mm: ",gn(g.minX-e.x*b)]})]})]}),I.jsxs("div",{className:"stat-card",children:[I.jsx("div",{className:"stat-label",children:"Y Scale"}),I.jsxs("div",{className:"stat-value",children:[I.jsxs("div",{children:["1mm  ",gn(E)," units"]}),I.jsxs("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:["Tick at 0mm: ",gn(g.minY-e.y*E)]})]})]})]})]})})}const mO=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=Math.random()*16|0,e=i=="x"?t:t&3|8;return e.toString(16)});function gO(){const[i,t]=xt.useState("sheet"),[e,s]=xt.useState([{x:"",y:""}]),[r,o]=xt.useState({x:180,y:250}),[u,f]=xt.useState({x:10,y:10}),[m,g]=xt.useState({x:5,y:5}),[y,b]=xt.useState(!0),[E,w]=xt.useState("all"),[D,V]=xt.useState(1),N=xt.useRef(null),[Y]=xt.useState(()=>mO()),[$]=xt.useState(()=>Date.now()),[W,nt]=xt.useState(()=>Date.now()),[rt,st]=xt.useState(navigator.onLine);xt.useEffect(()=>{const k=()=>st(!0),O=()=>st(!1);return window.addEventListener("online",k),window.addEventListener("offline",O),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",O)}},[]);const C=xt.useRef(null),A=xt.useCallback(k=>{C.current&&clearTimeout(C.current),C.current=setTimeout(async()=>{const O=k.filter(at=>at.x!==""&&at.y!==""&&!isNaN(at.x)&&!isNaN(at.y)).map(at=>({x:parseFloat(at.x),y:parseFloat(at.y)}));if(O.length===0)return;const j=Date.now(),M=j-$,St=j-W;try{await z1({feedback:"Auto-save",validPoints:O,sheetSize:r,squeeze:u,sessionId:Y,sessionStartTime:$,duration:M,interval:St}),console.log("Auto-saved to Firebase"),nt(j)}catch(at){console.error("Auto-save failed:",at)}},2e3)},[r,u,Y,$,W]),R=xt.useMemo(()=>{const k=e.filter(L=>L.x!==""&&L.y!==""&&!isNaN(L.x)&&!isNaN(L.y)).map(L=>({x:parseFloat(L.x),y:parseFloat(L.y)}));if(k.length===0)return{x:0,y:0};const O=k.map(L=>L.x),j=k.map(L=>L.y),M=Math.min(...O),St=Math.max(...O),at=Math.min(...j),U=Math.max(...j),tt=St-M||1,ut=U-at||1,dt=r.x-2*u.x,Et=r.y-2*u.y;return{x:tt/dt,y:ut/Et}},[e,r,u]);return I.jsxs("div",{className:"app-container",children:[I.jsx(Jw,{activeTab:i,onTabChange:t,sheetSize:r,setSheetSize:o,squeeze:u,setSqueeze:f,scales:R,dataPoints:e,setDataPoints:s,onAutoSave:A,tickCounts:m,setTickCounts:g,show10mmMarkers:y,setShow10mmMarkers:b,tickLabelMode:E,setTickLabelMode:w,chartZoom:D,setChartZoom:V,sessionId:Y,sessionStartTime:$,lastActionTime:W}),I.jsx("div",{className:"main-content",children:I.jsx("div",{className:"chart-panel",ref:N,children:I.jsx(dO,{dataPoints:e,sheetSize:r,squeeze:u,tickCounts:m,show10mmMarkers:y,tickLabelMode:E,chartZoom:D,setChartZoom:V})})})]})}hT.createRoot(document.getElementById("root")).render(I.jsx(xt.StrictMode,{children:I.jsx(gO,{})}));
